;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ed73cd38-d4eb-cdd0-9931-45cf3144bbec")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,220897,e=>{"use strict";var t=e.i(721281),r=e.i(276385),n=e.i(87995),i=e.i(898039),a=e.i(46654),o=e.i(473497),l=e.i(967629),s=e.i(480028),u=e.i(446530),c=e.i(754873),d=e.i(173703),p=e.i(613355),f=e.i(140487),g=e.i(960178),m=e.i(625484),h=e.i(464092),v=e.i(418944),x=function(e){var t,l,s=e.repl,u=e.hideForkButton,c=(0,h.useForkContext)(),p=s.title,x=s.description,w=s.iconUrl,y=s.timeUpdated,I=s.publicForkCount,j=s.url;return(0,r.jsxs)(d.ShadesSurface,{css:b.featureCardWrapper,tabIndex:-1,elevate:!1,children:[(0,r.jsx)(m.View,{css:b.imageWrapper,children:(0,r.jsx)(o.default,{alt:s.title,imageUrl:null!=(l=s.imageUrl)?l:null==(t=s.templateInfo)?void 0:t.imageUrl,width:135,height:135,style:{borderRadius:"4px 0px 0px 4px"}})}),(0,r.jsxs)(m.View,{css:b.detailsColumn,grow:!0,shrink:!0,children:[(0,r.jsxs)(m.View,{grow:!0,pt:8,row:!0,align:"start",justify:"space-between",children:[(0,r.jsx)(n.default,{href:"".concat(j,"/view"),css:_.link,target:"_blank",children:(0,r.jsxs)(m.View,{css:b.titleWithIcon,grow:!0,shrink:!0,row:!0,gap:12,align:"center",children:[(0,r.jsx)(v.default,{surface:!0,alt:p,size:32,iconUrl:w}),(0,r.jsxs)(m.View,{css:R.titleTimeWrapper,children:[(0,r.jsx)(g.Text,{variant:"headerDefault",color:"default",multiline:!1,children:p}),(0,r.jsxs)(g.Text,{variant:"small",color:"dimmest",multiline:!1,children:["Updated ",(0,a.ago)(y)]})]})]})}),u?null:(0,r.jsxs)(m.View,{css:b.forkCount,pt:8,row:!0,gap:8,align:"center",children:[(0,r.jsx)(m.View,{children:I}),(0,r.jsx)(f.Button,{className:"forkButton",variant:"nofill",css:b.forkButton,text:c.isForking?"Remixing...":"Remix",isDisabled:c.isForking,onClick:function(){c.isForking||c.fork()},disabled:c.isForking,iconLeft:(0,r.jsx)(i.default,{})})]})]}),(0,r.jsx)(m.View,{grow:2,children:(0,r.jsx)(g.Text,{color:"dimmer",maxLines:2,children:x})})]})]})},R=(0,u.cssRecord)({titleTimeWrapper:[p.rcss.color.foregroundDefault,p.rcss.flex.column,p.rcss.flex.shrink(1),p.rcss.minWidth(0)]}),w=(0,l.css)({"::after":{borderRadius:s.tokens.space8,content:'""',position:"absolute",top:0,right:0,bottom:0,left:0,display:"block",zIndex:1}}),b=(0,u.cssRecord)({featureCardWrapper:[p.rcss.position.relative,p.rcss.rowWithGap(16),p.rcss.height(135),p.rcss.overflow("hidden"),c.interactive.filledAndOutlined,p.rcss.pr(16),{width:"100%"}],detailsColumn:[{width:"100%"}],titleWithIcon:[p.rcss.minWidth(0),p.rcss.mr(8)],forkCount:[p.rcss.color.foregroundDimmer],forkButton:[p.rcss.zIndex(2),p.rcss.hover({backgroundColor:s.tokens.interactiveBackgroundActive})],imageWrapper:[p.rcss.width(135),(0,t._)({},p.media.max(550),[p.rcss.width(110)])]}),_=(0,u.cssRecord)({link:[w,p.rcss.focusRingOnAfter,p.rcss.flex.growAndShrink(1),p.rcss.minWidth(0)]});e.s(["FeaturedReplCard",()=>x,"default",0,function(e){var t=e.featuredRepls;return t?(0,r.jsxs)(m.View,{gap:8,children:[(0,r.jsx)(g.Text,{variant:"subheadBig",color:"default",children:"Featured Apps"}),(0,r.jsx)(m.View,{gap:16,children:t.items.map(function(e,t){return(0,r.jsx)(h.ForkContextProvider,{forkParams:{trackingData:{forkSource:"orgFeaturedRepl"}},repl:e.repl,children:(0,r.jsx)(x,{repl:e.repl,index:t})},e.repl.id)})})]}):null}])},140959,e=>{"use strict";var t=e.i(878420),r=e.i(569384),n=e.i(973245),i=e.i(951262),a=e.i(304277);e.i(566901);var o=e.i(957353);function l(){var e=(0,r._)(["\n  fragment OrgFeaturedReplsSearchReplItem on Repl {\n    __typename\n    id\n    ...ReplListBoxItemRepl\n    org {\n      id\n    }\n  }\n  ","\n"]);return l=function(){return e},e}function s(){var e=(0,r._)(["\n  fragment OrgFeaturedReplsSearchInputRepls on ReplConnection {\n    items {\n      ...OrgFeaturedReplsSearchReplItem\n    }\n    pageInfo {\n      hasNextPage\n      nextCursor\n    }\n  }\n  ","\n"]);return s=function(){return e},e}function u(){var e=(0,r._)(["\n  mutation OrgFeaturedReplsUpdate($input: UpdateOrgFeaturedReplInput!) {\n    updateOrgFeaturedRepl(input: $input) {\n      ... on Org {\n        id\n        __typename\n        featuredRepls {\n          __typename\n          ... on OrgFeaturedReplConnection {\n            items {\n              repl {\n                ...OrgFeaturedReplsSearchReplItem\n              }\n            }\n          }\n        }\n      }\n      ... on Error {\n        __typename\n        message\n      }\n    }\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=(0,r._)(["\n  mutation OrgFeaturedReplsDelete($input: RemoveOrgFeaturedReplInput!) {\n    removeOrgFeaturedRepl(input: $input) {\n      ... on Org {\n        id\n        __typename\n        featuredRepls {\n          __typename\n          ... on OrgFeaturedReplConnection {\n            items {\n              repl {\n                ...OrgFeaturedReplsSearchReplItem\n              }\n            }\n          }\n        }\n      }\n      ... on Error {\n        __typename\n        message\n      }\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,r._)(["\n  query OrgFeaturedReplsSearchInputList(\n    $searchTerm: String!\n    $orgId: String!\n    $cursor: String\n  ) {\n    currentUser {\n      __typename\n      id\n      org(orgId: $orgId) {\n        __typename\n        ... on Org {\n          id\n          repls(\n            input: {\n              filters: { title: { search: $searchTerm }, visibility: public }\n              cursor: $cursor\n            }\n          ) {\n            __typename\n            ... on ReplConnection {\n              ...OrgFeaturedReplsSearchInputRepls\n            }\n            ... on UserError {\n              message\n            }\n          }\n        }\n        ... on NotFoundError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var p={},f=(0,n.gql)(l(),o.ReplListBoxItemReplFragmentDoc),g=(0,n.gql)(s(),f),m=(0,n.gql)(u(),f);function h(e){var r=(0,t._)({},p,e);return i.useMutation(m,r)}var v=(0,n.gql)(c(),f);function x(e){var r=(0,t._)({},p,e);return i.useMutation(v,r)}var R=(0,n.gql)(d(),g);function w(e){var r=(0,t._)({},p,e);return a.useQuery(R,r)}e.s(["useOrgFeaturedReplsDeleteMutation",()=>x,"useOrgFeaturedReplsSearchInputListQuery",()=>w,"useOrgFeaturedReplsUpdateMutation",()=>h])},557862,e=>{"use strict";var t=e.i(276385),r=e.i(269848),n=e.i(491194),i=e.i(140487),a=e.i(960178),o=e.i(625484);e.s(["default",0,function(e){return(0,t.jsxs)(o.View,{gap:24,children:[(0,t.jsxs)(a.Header,{variant:"headerDefault",level:2,children:["Delete ",e.name||e.entityType,"?"]}),(0,t.jsxs)(o.View,{gap:8,children:[(0,t.jsxs)(a.Text,{children:["Are you sure you want to delete"," ",e.description?e.description:"this ".concat(e.entityType),"? This cannot be undone."]}),"App"===e.entityType?(0,t.jsx)(a.Text,{children:"Some Apps may take a few minutes to finish deleting."}):null,"extension"===e.entityType?(0,t.jsx)(a.Text,{children:"The extension will be deleted from the store and uninstalled for everyone."}):null]}),(0,t.jsxs)(o.View,{row:!0,gap:12,justify:"end",children:[(0,t.jsx)(i.Button,{text:"Cancel",onClick:e.hideModal}),(0,t.jsx)(i.Button,{dataCy:"delete-modal-confirm-button",disabled:e.isDeleting,iconLeft:e.isDeleting?(0,t.jsx)(r.default,{}):(0,t.jsx)(n.default,{}),onClick:function(){e.delete(),e.hideModal()},text:"Yes, delete ".concat(e.confirmDescription?e.confirmDescription:"this ".concat(e.entityType)),colorway:"negative"})]})]})}])},349597,e=>{"use strict";var t,r=((t={}).AdminTutorialUpdate="admin-tutorial-update",t.CommunityPost="community-post",t.ProfileImage="profile-image",t.ProfileCoverImage="profile-cover-image",t.OrgProfileImage="org-profile-image",t.TemplateIcon="template-icon",t.ReplIcon="repl-icon",t.ReplCoverImage="repl-cover-image",t.TrainingProfileImage="training-profile-image",t);e.s(["DEFAULT_REPL_ICON",()=>"https://icons-util.replit.app/bash.svg","ImageUploadContexts",()=>r])},971072,386594,e=>{"use strict";var t,r=e.i(297083),n=e.i(817556),i=e.i(344188),a=e.i(167626);(t={}).ArrayBuffer="ARRAY_BUFFER",t.BinaryString="BINARY_STRING",t.DataURL="DATA_URL",t.Text="TEXT";var o=function(e,t){return(0,a._)(e,window.File)?new Promise(function(r,n){var i=new window.FileReader;switch(i.onload=function(t){var i;(null==(i=t.target)?void 0:i.result)?r(t.target.result):n(Error('Failed to read file "'.concat(e.name,'"')))},i.onerror=n,t){case"ARRAY_BUFFER":i.readAsArrayBuffer(e);break;case"BINARY_STRING":i.readAsBinaryString(e);break;case"DATA_URL":i.readAsDataURL(e);break;case"TEXT":i.readAsText(e)}}):Promise.all(Array.from(e).filter(function(e){return!!e}).map(function(e){return o(e,t)}))},l=function(e){return o(e,"ARRAY_BUFFER")},s=function(e){return o(e,"DATA_URL")};function u(e){return(0,r._)(function(){var t;return(0,n._)(this,function(r){switch(r.label){case 0:return[4,s(e)];case 1:if(t=r.sent(),e.size>1e7)throw Error("This image is over the ".concat(10,"MB maximum"));if(!t)throw Error("Expected file");return[2,t]}})})()}function c(e,t){return(0,r._)(function(){return(0,n._)(this,function(r){switch(r.label){case 0:return[4,(0,i.postJson)("/data/images/upload",{image:e,context:t})];case 1:return[2,r.sent()]}})})()}e.s(["readFileAsArrayBuffer",()=>l,"readFileAsDataURL",()=>s],386594);var d=["image/png","image/jpeg","image/gif","image/webp"];e.s(["ACCEPTABLE_IMAGE_UPLOAD_TYPES",()=>d,"UPLOAD_LIMIT_BYTES",()=>1e7,"postImage",()=>c,"readImageAsDataURL",()=>u],971072)},422025,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(817556),i=e.i(389959),a=e.i(971072);function o(e){var o=e.onUploadPreview,l=e.onUpload,s=e.onError,u=(0,r._)((0,i.useState)(!1),2),c=u[0],d=u[1];return{isLoading:c,uploadImage:(0,i.useCallback)(function(e,r){return(0,t._)(function(){var t,i,u,c,p,f;return(0,n._)(this,function(n){switch(n.label){case 0:if(d(!0),"image/svg+xml"===e.type)return s(Error("SVG images are not allowed")),[2,!1];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,a.readImageAsDataURL)(e)];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),s(Error("This image is over the ".concat(a.UPLOAD_LIMIT_BYTES/1e6,"MB maximum"))),[2,!1];case 4:o({dataUrl:t}),i=null,n.label=5;case 5:return n.trys.push([5,7,,8]),[4,(0,a.postImage)(t,r)];case 6:return i=n.sent(),[3,8];case 7:return u=n.sent(),c="Something went wrong",c=u.message.toLowerCase().includes("entity too large")?"This image is over the 1MB maximum":u.message,o({dataUrl:""}),d(!1),s(Error(c)),[2,!1];case 8:if(p=i.id,f=i.url,"number"!=typeof p)throw Error("Expected id");if("string"!=typeof f)throw Error("Expected url");d(!1),n.label=9;case 9:return n.trys.push([9,11,,12]),[4,l({id:p,url:f})];case 10:return n.sent(),[3,12];case 11:return s(n.sent()),[2,!1];case 12:return[2,!0]}})})()},[s,l,o])}}e.s(["default",()=>o])},957353,e=>{"use strict";var t=e.i(569384);function r(){var e=(0,t._)(["\n  fragment ReplListBoxItemRepl on Repl {\n    id\n    title\n    iconUrl\n    isFeaturedRepl\n    description(plainText: true)\n  }\n"]);return r=function(){return e},e}var n=(0,e.i(973245).gql)(r());e.s(["ReplListBoxItemReplFragmentDoc",()=>n])},473497,e=>{"use strict";var t=e.i(878420),r=e.i(276385),n=e.i(389959),i=e.i(116235),a=e.i(967629),o=e.i(446530),l=e.i(173703),s=e.i(613355),u=e.i(211397),c=(0,a.css)([s.rcss.overflow("hidden"),s.rcss.position.relative]);function d(e){var a,o,s,c=e.width,d=e.height,f=e.alt,g=e.imageUrl,m=e.style,h=(0,n.useContext)(i.IconContext),v=void 0===c?null!=(a=h.size)?a:32:c,x=void 0===d?null!=(o=h.size)?o:32:d,R=void 0===f?null!=(s=h.alt)?s:"":f,w=v<32?4:8;return(0,r.jsx)(l.ShadesSurface,{css:p.imageSurface,style:(0,t._)({borderRadius:w,width:v,height:x},m),p:8,children:(0,r.jsx)(u.default,{alt:R,src:g,width:v,height:x,objectFit:"contain"})})}var p=(0,o.cssRecord)({imageSurface:[c]});e.s(["default",()=>d])},964701,e=>{e.v({dropZone:"FileUploadInput-module__9Ex1JG__dropZone"})},965710,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(886513),i=e.i(276385),a=e.i(389959),o=e.i(530658),l=e.i(932200),s=e.i(2800),u=e.i(248033),c=e.i(493800),d=e.i(167768),p=e.i(638086),f=e.i(99906),g=e.i(278052),m=e.i(434080),h=e.i(593678),v=e.i(352019),x=e.i(238986),R=new Map;function w(e,t){var r=R.get(e);if(!r){var n=new Set,i=function(e){var t=!0,r=!1,i=void 0;try{for(var a,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0)(0,a.value)(e)}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}};r={listener:i,handlers:n},R.set(e,r),document.addEventListener(e,i)}return r.handlers.add(t),function(){r.handlers.delete(t),0===r.handlers.size&&(document.removeEventListener(e,r.listener),R.delete(e))}}var b=e.i(674310),_=e.i(330666),y=e.i(649239),I=e.i(780673),j=e.i(58646),F=e.i(716768),E=e.i(896346),T=(0,a.createContext)(null),C=(0,a.forwardRef)(function(e,n){var i,R,C,D,U,A,P,S,L,k,B,O,M=e.isDisabled,V=void 0!==M&&M;e=(O=(0,o._)((0,l.useContextProps)(e,n,T),2))[0],n=O[1];var z=(0,y.useObjectRef)(n),N=(0,a.useRef)(null),W=(0,c.useDrop)((0,r._)((0,t._)({},e),{ref:N,hasDropButton:!0})),$=W.dropProps,G=W.dropButtonProps,q=W.isDropTarget,H=(0,d.useButton)(G||{},N).buttonProps,Y=(0,p.useHover)(e),Z=Y.hoverProps,X=Y.isHovered,Q=(0,f.useFocusRing)(),J=Q.focusProps,K=Q.isFocused,ee=Q.isFocusVisible,et=(0,g.useLocalizedStringFormatter)((i=s.default)&&i.__esModule?i.default:i,"react-aria-components"),er=(0,I.useSlotId)(),en=e["aria-label"]||et.format("dropzoneLabel"),ei=[er,e["aria-labelledby"]].filter(Boolean).join(" "),ea=(0,j.useLabels)({"aria-label":en,"aria-labelledby":ei}),eo=(C=(R={isDisabled:V,onPaste:function(t){var r;return null==(r=e.onDrop)?void 0:r.call(e,{type:"drop",items:t,x:0,y:0,dropOperation:"copy"})}}).isDisabled,D=(0,a.useRef)(!1),U=(0,x.useFocus)({onFocusChange:function(e){D.current=e}}).focusProps,A=(0,h.useEffectEvent)(function(e){D.current&&R.getItems&&e.preventDefault()}),P=(0,h.useEffectEvent)(function(e){if(D.current&&R.getItems&&(e.preventDefault(),e.clipboardData)){var t;(0,m.writeToDataTransfer)(e.clipboardData,R.getItems({action:"copy"})),null==(t=R.onCopy)||t.call(R)}}),S=(0,h.useEffectEvent)(function(e){D.current&&R.onCut&&R.getItems&&e.preventDefault()}),L=(0,h.useEffectEvent)(function(e){D.current&&R.onCut&&R.getItems&&(e.preventDefault(),e.clipboardData&&((0,m.writeToDataTransfer)(e.clipboardData,R.getItems({action:"cut"})),R.onCut()))}),k=(0,h.useEffectEvent)(function(e){D.current&&R.onPaste&&e.preventDefault()}),B=(0,h.useEffectEvent)(function(e){if(D.current&&R.onPaste&&(e.preventDefault(),e.clipboardData)){var t=(0,m.readFromDataTransfer)(e.clipboardData);R.onPaste(t)}}),(0,a.useEffect)(function(){if(!C)return(0,v.chain)(w("beforecopy",A),w("copy",P),w("beforecut",S),w("cut",L),w("beforepaste",k),w("paste",B))},[C,A,P,S,L,k,B]),{clipboardProps:U}).clipboardProps,el=(0,l.useRenderProps)((0,r._)((0,t._)({},e),{values:{isHovered:X,isFocused:K,isFocusVisible:ee,isDropTarget:q,isDisabled:V},defaultClassName:"react-aria-DropZone"})),es=(0,F.filterDOMProps)(e);return delete es.id,a.default.createElement(l.Provider,{values:[[u.TextContext,{id:er,slot:"label"}]]},a.default.createElement("div",(0,r._)((0,t._)({},(0,b.mergeProps)($,Z,es),el),{slot:e.slot||void 0,ref:z,onClick:function(e){for(var t,r,n=e.target;n&&(null==(t=z.current)?void 0:t.contains(n))&&!(0,E.isFocusable)(n);){if(n===z.current){null==(r=N.current)||r.focus();break}n=n.parentElement}},"data-hovered":X||void 0,"data-focused":K||void 0,"data-focus-visible":ee||void 0,"data-drop-target":q||void 0,"data-disabled":V||void 0}),a.default.createElement(_.VisuallyHidden,null,a.default.createElement("button",(0,r._)((0,t._)({},(0,b.mergeProps)(H,J,eo,ea)),{ref:N}))),el.children))}),D=e.i(964304),U=e.i(112974),A=(0,a.forwardRef)(function(e,i){var o=e.onSelect,l=e.acceptedFileTypes,s=e.allowsMultiple,u=e.defaultCamera,c=e.children,d=e.acceptDirectory,p=(0,n._)(e,["onSelect","acceptedFileTypes","allowsMultiple","defaultCamera","children","acceptDirectory"]),f=(0,y.useObjectRef)(i),g=(0,F.filterDOMProps)(p);return a.default.createElement(a.default.Fragment,null,a.default.createElement(U.PressResponder,{onPress:function(){var e,t;(null==(e=f.current)?void 0:e.value)&&(f.current.value=""),null==(t=f.current)||t.click()}},c),a.default.createElement(D.Input,(0,r._)((0,t._)({},g),{type:"file",ref:f,style:{display:"none"},accept:null==l?void 0:l.toString(),onChange:function(e){return null==o?void 0:o(e.target.files)},capture:u,multiple:s,webkitdirectory:d?"":void 0})))}),P=e.i(964701),S=(0,a.forwardRef)(function(e,n){return(0,i.jsx)(C,(0,r._)((0,t._)({ref:n},e),{className:P.default.dropZone}))}),L=function(e){var a=e.acceptedFileTypes,o=e.allowsMultiple,l=e.acceptDirectory,s=e.dropZoneDisabled,u=e.children,c=e.onDrop,d=e.onSelect,p=(0,n._)(e,["acceptedFileTypes","allowsMultiple","acceptDirectory","dropZoneDisabled","children","onDrop","onSelect"]);return(0,i.jsx)(S,{onDrop:c,isDisabled:void 0!==s&&s,children:(0,i.jsx)(A,(0,r._)((0,t._)({acceptedFileTypes:a,allowsMultiple:void 0!==o&&o,acceptDirectory:void 0!==l&&l,onSelect:d},p),{children:u}))})};e.s(["FileUploadInput",()=>L],965710)},49578,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(817556),i=e.i(276385),a=e.i(389959),o=e.i(878420),l=e.i(569384),s=e.i(973245),u=e.i(951262);function c(){var e=(0,l._)(["\n  mutation ReplCoverImageUpdate($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        imageUrl\n      }\n    }\n  }\n"]);return c=function(){return e},e}var d={},p=(0,s.gql)(c()),f=e.i(349597),g=e.i(422025),m=e.i(222342),h=e.i(971072),v=e.i(473497),x=e.i(446530),R=e.i(613355),w=e.i(428596),b=e.i(140487),_=e.i(965710),y=e.i(960178),I=e.i(751273),j=e.i(625484),F=(0,x.cssRecord)({buttonWrapper:[R.rcss.flex.grow(1),R.rcss.flex.shrink(1),{flexBasis:0}],button:[R.rcss.width("100%")]});e.s(["default",0,function(e){var l,s,c=e.replId,x=e.authz,R=e.initialImageUrl,E=e.originImageUrl,T=(0,m.default)(),C=T.showError,D=T.showConfirm,U=(0,w.useIdSeed)()("cover-image"),A=(0,r._)((0,a.useState)(R),2),P=A[0],S=A[1],L=(0,r._)((l={onError:function(){C("Something unexpected happened")},onCompleted:function(e){e.updateRepl.repl&&D("App cover image updated successfully")}},s=(0,o._)({},d,l),u.useMutation(p,s)),2),k=L[0],B=L[1].loading,O=P!==E,M=(0,g.default)({onUpload:function(e){var r=e.url;return(0,t._)(function(){return(0,n._)(this,function(e){switch(e.label){case 0:return[4,k({variables:{input:{id:c,imageUrl:r}}})];case 1:return e.sent(),S(r),[2]}})})()},onUploadPreview:function(){D("Uploading repl cover image")},onError:function(e){return C(e.message)}});return(0,a.useEffect)(function(){S(R)},[R]),(0,i.jsxs)(j.View,{gap:4,children:[(0,i.jsx)("label",{htmlFor:U,children:(0,i.jsx)(y.Text,{variant:"small",color:"dimmer",multiline:!1,children:"Cover image"})}),(0,i.jsxs)(j.View,{row:!0,gap:16,align:"center",children:[(0,i.jsx)(v.default,{alt:"",width:64,height:64,imageUrl:P}),(0,i.jsxs)(j.View,{grow:!0,shrink:!0,row:!0,gap:16,children:[(0,i.jsx)(j.View,{css:F.buttonWrapper,children:(0,i.jsx)(_.FileUploadInput,{onSelect:function(e){e&&e.length>0&&M.uploadImage(e[0],f.ImageUploadContexts.ReplCoverImage)},acceptedFileTypes:h.ACCEPTABLE_IMAGE_UPLOAD_TYPES,dropZoneDisabled:!0,children:(0,i.jsx)(I.Tooltip,{tooltip:"Not allowed to update image",isDisabled:x.isAuthorized,children:(0,i.jsx)(b.Button,{"aria-labelledby":U,text:O?"Replace image":"Upload image",disabled:!x.isAuthorized,css:F.button,size:"small",loading:B})})})}),O?(0,i.jsx)(j.View,{css:F.buttonWrapper,children:(0,i.jsx)(b.Button,{text:"Reset",size:"small",disabled:!x.isAuthorized,onClick:function(){return(0,t._)(function(){return(0,n._)(this,function(e){switch(e.label){case 0:return[4,k({variables:{input:{id:c,imageUrl:null}}})];case 1:return e.sent(),[2]}})})()},css:F.button,loading:B})}):null]})]})]})}],49578)},445016,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(817556),i=e.i(276385),a=e.i(389959),o=e.i(878420),l=e.i(569384),s=e.i(973245),u=e.i(951262);function c(){var e=(0,l._)(["\n  mutation ReplIconUpdate($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        iconUrl\n      }\n    }\n  }\n"]);return c=function(){return e},e}var d={},p=(0,s.gql)(c()),f=e.i(349597),g=e.i(422025),m=e.i(222342),h=e.i(971072),v=e.i(446530),x=e.i(613355),R=e.i(428596),w=e.i(140487),b=e.i(965710),_=e.i(960178),y=e.i(751273),I=e.i(625484),j=e.i(418944),F=(0,v.cssRecord)({buttonWrapper:[{flexBasis:0}],button:[x.rcss.width("100%")]});e.s(["default",0,function(e){var l,s,c=e.replId,v=e.authz,x=e.initialIconUrl,E=e.originIconUrl,T=(0,m.default)(),C=T.showError,D=T.showConfirm,U=(0,R.useIdSeed)()("repl-icon"),A=(0,r._)((0,a.useState)(x),2),P=A[0],S=A[1],L=(0,r._)((l={onError:function(){C("Something unexpected happened")},onCompleted:function(e){e.updateRepl.repl&&D("App icon updated successfully")}},s=(0,o._)({},d,l),u.useMutation(p,s)),2),k=L[0],B=L[1].loading,O=P!==E,M=(0,g.default)({onUpload:function(e){var r=e.url;return(0,t._)(function(){return(0,n._)(this,function(e){switch(e.label){case 0:return[4,k({variables:{input:{id:c,iconUrl:r}}})];case 1:return e.sent(),S(r),[2]}})})()},onUploadPreview:function(){D("Uploading App icon")},onError:function(e){return C(e.message)}});return(0,a.useEffect)(function(){S(x)},[x]),(0,i.jsxs)(I.View,{gap:4,children:[(0,i.jsx)("label",{htmlFor:U,children:(0,i.jsx)(_.Text,{variant:"small",color:"dimmer",multiline:!1,children:"App icon"})}),(0,i.jsxs)(I.View,{row:!0,gap:16,align:"center",children:[(0,i.jsx)(j.default,{alt:"",size:32,iconUrl:null!=P?P:""}),(0,i.jsx)(I.View,{grow:!0,shrink:!0,row:!0,gap:16,children:(0,i.jsx)(I.View,{css:F.buttonWrapper,grow:!0,shrink:!0,children:(0,i.jsx)(b.FileUploadInput,{onSelect:function(e){e&&e.length>0&&M.uploadImage(e[0],f.ImageUploadContexts.ReplIcon)},acceptedFileTypes:h.ACCEPTABLE_IMAGE_UPLOAD_TYPES,dropZoneDisabled:!0,children:(0,i.jsx)(y.Tooltip,{tooltip:"Not allowed to update icon",isDisabled:v.isAuthorized,children:(0,i.jsx)(w.Button,{text:O?"Replace icon":"Upload icon",disabled:!v.isAuthorized,css:F.button,size:"small",loading:B})})})})})]})]})}],445016)},236379,e=>{"use strict";var t=e.i(297083),r=e.i(878420),n=e.i(64386),i=e.i(530658),a=e.i(817556),o=e.i(276385),l=e.i(389959),s=e.i(312087),u=e.i(183035),c=e.i(399245),d=e.i(269848),p=e.i(995691),f=e.i(416298),g=e.i(322823),m=e.i(222342),h=e.i(200527),v=e.i(49578),x=e.i(445016),R=e.i(420802),w=e.i(446530),b=e.i(613355),_=e.i(428596),y=e.i(140487),I=e.i(721321),j=e.i(607278),F=e.i(960178),E=e.i(625484),T=e.i(836224),C=function(e){return 0===e.length?{message:"Title cannot be blank"}:e.length>60?{message:"Title cannot be greater than ".concat(60," characters")}:void 0},D=function(e){if(e.length>R.REPL_DESCRIPTION_MAX_LENGTH)return{message:"Description cannot be greater than ".concat(R.REPL_DESCRIPTION_MAX_LENGTH," characters")}},U=(0,w.cssRecord)({inputLabel:[b.rcss.flex.row,b.rcss.justify.spaceBetween,b.rcss.align.end],descriptionInput:[b.rcss.minHeight(96),b.rcss.maxHeight(256),{resize:"vertical"}],inputErrorIcon:[b.rcss.color.accentNegativeStronger],inputErrorMessage:[b.rcss.flex.growAndShrink(1),b.rcss.color.accentNegativeStronger]});function A(e){var t=e.error,r=e.id;return t?(0,o.jsxs)(E.View,{id:r,row:!0,gap:4,align:"center",children:[(0,o.jsx)(f.default,{css:U.inputErrorIcon}),(0,o.jsx)(F.Text,{css:U.inputErrorMessage,children:t.message})]}):null}function P(e){var c,p,f,h,w,b,_,I=e.repl,P=e.onDone,L=(0,m.default)(),k=L.showConfirm,B=L.showError,O=(0,i._)((0,s.useEditReplFormEditMutation)({onCompleted:function(){k("App edited"),P()},onError:function(e){B(e.message)}}),2),M=O[0],V=O[1].loading,z=(0,i._)((0,s.useEditReplFormEditMutation)({onCompleted:function(){k("Updated privacy")},onError:function(e){B(e.message)}}),2),N=z[0],W=z[1].loading,$=(null==(c=I.org)?void 0:c.type)!=="team"&&I.authorizations.editVisibility.isAuthorized,G=(0,g.useFormField)(I.title,C),q=(0,g.useFormField)(null!=(b=I.description)?b:"",D),H=(0,l.useId)(),Y=(0,l.useId)(),Z=(0,l.useId)(),X=(0,l.useId)(),Q=!!G.error||!!q.error,J=(null==(p=I.owner)?void 0:p.__typename)==="Team";return(0,o.jsxs)(E.View,{gap:32,children:[(0,o.jsxs)(E.View,{tag:"form",gap:24,onSubmit:function(e){e.preventDefault(),V||null==G.validate()&&null==q.validate()&&M({variables:{input:{id:I.id,title:G.value,description:q.value}}})},children:[(0,o.jsx)(F.Header,{variant:"headerDefault",level:2,children:"Edit App"}),(0,o.jsxs)(E.View,{gap:4,children:[(0,o.jsxs)(E.View,{css:U.inputLabel,children:[(0,o.jsx)("label",{htmlFor:H,children:(0,o.jsx)(F.Text,{variant:"small",color:"dimmer",multiline:!1,children:"Name"})}),(0,o.jsx)(T.default,{maxLength:60,value:G.value,hideLabel:!0})]}),(0,o.jsx)(j.Input,{style:{cursor:I.authorizations.editMetadata.isAuthorized?"auto":"not-allowed"},disabled:!I.authorizations.editMetadata.isAuthorized,maxLength:60,value:G.value,onChange:function(e){return G.setValue(e.target.value)},spellCheck:!1,id:H,"aria-describedby":Y}),(0,o.jsx)(A,{id:Y,error:G.error})]}),(0,o.jsxs)(E.View,{gap:4,children:[(0,o.jsxs)(E.View,{css:U.inputLabel,children:[(0,o.jsx)("label",{htmlFor:Z,children:(0,o.jsx)(F.Text,{variant:"small",color:"dimmer",multiline:!1,children:"Description"})}),(0,o.jsx)(T.default,{maxLength:R.REPL_DESCRIPTION_MAX_LENGTH,value:q.value,hideLabel:!0})]}),(0,o.jsx)(j.MultiLineInput,{disabled:!I.authorizations.editMetadata.isAuthorized,maxLength:R.REPL_DESCRIPTION_MAX_LENGTH,value:q.value,onChange:function(e){return q.setValue(e.target.value)},placeholder:"What does this App do?",css:U.descriptionInput,id:Z,"aria-describedby":X}),(0,o.jsx)(A,{id:X,error:q.error})]}),(0,o.jsxs)(E.View,{row:!0,gap:12,justify:"end",children:[(0,o.jsx)(y.Button,{type:"button",text:"Cancel",onClick:P}),(0,o.jsx)(y.Button,{type:"submit",iconLeft:V?(0,o.jsx)(d.default,{}):(0,o.jsx)(u.default,{}),disabled:V||Q||!I.authorizations.editMetadata.isAuthorized,text:"Save",colorway:"primary"})]})]}),(0,o.jsxs)(E.View,{gap:16,children:[(0,o.jsx)(x.default,{replId:I.id,authz:I.authorizations.editMetadata,initialIconUrl:I.iconUrl,originIconUrl:null==(f=I.templateInfo)?void 0:f.iconUrl}),(0,o.jsx)(v.default,{replId:I.id,authz:I.authorizations.editMetadata,initialImageUrl:null!=(_=I.imageUrl)?_:null==(h=I.templateInfo)?void 0:h.imageUrl,originImageUrl:null==(w=I.templateInfo)?void 0:w.imageUrl})]}),$?(0,o.jsx)(S,{isPrivate:I.isPrivate,onChange:function(){return(0,t._)(function(){var e;return(0,a._)(this,function(t){return W?[2]:(e=!I.isPrivate,I.authorizations.editVisibility.isAuthorized||!1===e)?[2,N({variables:{input:{id:I.id,isPrivate:!I.isPrivate}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,n._)((0,r._)({},I),{isPrivate:!I.isPrivate})}}})]:(B(I.authorizations.editVisibility.message),[2])})})()},isTeam:J}):null]})}function S(e){var t=(0,_.useIdSeed)();return(0,o.jsxs)(E.View,{gap:8,children:[(0,o.jsxs)(I.ButtonGroup,{tag:"fieldset",name:t("privacy"),value:e.isPrivate.toString(),onChange:function(t){e.onChange("true"===t)},row:!0,primary:!0,stretch:!0,children:[(0,o.jsx)(I.ButtonGroupItem,{id:t("false"),value:"false",text:"Public",icon:(0,o.jsx)(c.default,{})}),(0,o.jsx)(I.ButtonGroupItem,{id:t("true"),value:"true",text:"Private",icon:(0,o.jsx)(p.default,{})})]}),(0,o.jsx)(F.Text,{variant:"small",color:"dimmest",children:(0,h.default)(e.isPrivate,e.isTeam)})]})}e.s(["EditReplForm",()=>P,"PrivacyToggle",()=>S])},773240,429190,e=>{"use strict";var t=e.i(530658),r=e.i(276385),n=e.i(878420),i=e.i(569384),a=e.i(973245);e.i(304277);var o=e.i(566901);function l(){var e=(0,i._)(["\n  fragment FeaturedReplCardRepl on Repl {\n    id\n    title\n    description\n    iconUrl\n    timeUpdated\n    imageUrl\n    url\n    templateInfo {\n      imageUrl\n    }\n    publicForkCount\n  }\n"]);return l=function(){return e},e}var s=(0,a.gql)(l());function u(){var e=(0,i._)(["\n  fragment FeaturedReplPreviewRepl on Repl {\n    id\n    ...FeaturedReplCardRepl\n  }\n  ","\n"]);return u=function(){return e},e}function c(){var e=(0,i._)(["\n  query FeaturedReplPreviewReplInfo($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        isFeaturedRepl\n      }\n    }\n  }\n"]);return c=function(){return e},e}var d={},p=(0,a.gql)(u(),s),f=(0,a.gql)(c());function g(e){var t=(0,n._)({},d,e);return o.useLazyQuery(f,t)}e.s(["FeaturedReplPreviewReplFragmentDoc",()=>p,"useFeaturedReplPreviewReplInfoLazyQuery",()=>g],429190);var m=e.i(140959),h=e.i(222342),v=e.i(220897),x=e.i(140487),R=e.i(960178),w=e.i(625484);e.s(["default",0,function(e){var n=e.isFeatured,i=e.repl,a=e.orgId,o=e.onCompleted,l=(0,h.default)(),s=l.showError,u=l.showConfirm,c=(0,t._)((0,m.useOrgFeaturedReplsUpdateMutation)({onError:function(){s("Something unexpected happened")},onCompleted:function(e){"Org"===e.updateOrgFeaturedRepl.__typename?(u("Profile updated successfully"),y()):s(e.updateOrgFeaturedRepl.message)}}),2),d=c[0],p=c[1].loading,f=(0,t._)((0,m.useOrgFeaturedReplsDeleteMutation)({onError:function(){s("Something unexpected happened")},onCompleted:function(e){"Org"===e.removeOrgFeaturedRepl.__typename?(u("Removed featured App"),y()):s(e.removeOrgFeaturedRepl.message)}}),2),b=f[0],_=f[1].loading,y=(0,t._)(g({variables:{replId:i.id},fetchPolicy:"network-only",ssr:!1}),1)[0];return a?(0,r.jsxs)(w.View,{justify:"center",gap:16,children:[(0,r.jsx)(R.Text,{variant:"headerDefault",children:n?"Remove from featured repls":"Feature App on your profile"}),(0,r.jsx)(R.Text,{variant:"text",children:n?"Do you want to remove this App from the Featured section?":"Display this App at the top of your organization's profile. Only public Apps can be featured."}),(0,r.jsx)(v.FeaturedReplCard,{repl:i,index:0,hideForkButton:!0}),(0,r.jsxs)(w.View,{row:!0,justify:"space-between",align:"center",children:[(0,r.jsx)(x.Button,{text:"Cancel",onClick:o}),(0,r.jsx)(x.Button,{colorway:"primary",text:n?"Remove":"Feature on profile",onClick:function(){n?b({variables:{input:{orgId:a,replId:i.id}}}):d({variables:{input:{orgId:a,replId:i.id}}}),o()},loading:p||_})]})]}):null}],773240)}]);

//# debugId=ed73cd38-d4eb-cdd0-9931-45cf3144bbec
//# sourceMappingURL=4a9e512156c5a641.js.map