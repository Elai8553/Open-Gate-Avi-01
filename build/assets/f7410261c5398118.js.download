;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="dbf395c2-24c8-29f6-66d7-df06392472b6")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,322823,e=>{"use strict";var t=e.i(167626),r=e.i(530658),n=e.i(389959),i=e.i(223808),a=e.i(98816),s={default:200,long:1e3};function o(e,o){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=c.debounceDelay,l=(0,r._)((0,n.useState)(!1),2),d=l[0],p=l[1],f=(0,r._)((0,n.useState)(e),2),m=f[0],h=f[1],g=(0,r._)((0,n.useState)(null),2),v=g[0],y=g[1],x=(0,r._)((0,n.useState)(!1),2),b=x[0],_=x[1],w=(0,n.useRef)(m),S=(0,a.default)(o),C=(0,a.default)(function(e){if(!e){y(null),_(!0);return}y(e),"warning"===e.severity&&_(!0)}),T=(0,n.useCallback)(function(){var e=w.current,r=S.current(e);return(0,t._)(r,Promise)?r.then(function(t){w.current===e&&C.current(t)}):C.current(r),r},[S,C]),k=(0,n.useRef)((0,i.default)(function(){return T()},s[void 0===u?"default":u])),I=(0,n.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.preventTouch,n=t.preventValidation;e!==w.current&&(w.current=e,_(!1),y(null),h(e),void 0!==n&&n||k.current(),void 0!==r&&r||p(!0))},[]),E=(0,n.useCallback)(function(e){k.current(),k.current.flush()},[]);return(0,n.useEffect)(function(){return k.current.cancel},[]),{value:m,error:(null==v?void 0:v.severity)&&"error"!==v.severity?null:v,warning:(null==v?void 0:v.severity)==="warning"?v:null,touched:d,setValue:I,handleBlur:E,validate:T,isValid:b,setTouched:p}}e.s(["useFormField",()=>o])},273325,746788,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(817556),i=e.i(276385),a=e.i(389959),s=e.i(183035),o=e.i(269848),c=e.i(738623),u=e.i(414248),l=e.i(294426),d=e.i(673920),p=e.i(322823),f=e.i(858248),m=e.i(709485),h=e.i(872199),g=e.i(84466),v=e.i(344188);let y={isValidEmail:function(e){return(0,t._)(function(){return(0,n._)(this,function(t){return e?(0,g.default)(e)?[2]:[2,{message:"Invalid email address"}]:[2,{message:"Must include valid email address"}]})})()},email:function(e){return(0,t._)(function(){return(0,n._)(this,function(t){switch(t.label){case 0:if(!e)return[2,null];if(!(0,g.default)(e))return[2,{message:"Invalid email address"}];return[4,(0,v.postJson)("/data/user/exists",{email:e})];case 1:if(t.sent().exists)return[2,{message:"Email already in use"}];return[2]}})})()},username:function(e){return(0,t._)(function(){return(0,n._)(this,function(t){switch(t.label){case 0:if(!e)return[2,null];if(!(0,h.default)(e,{min:2,max:15}))return[2,{message:"Your username must be between 2 and 15 characters"}];if(!e.match(/^[0-9a-zA-Z]+$/))return[2,{message:"Your username can only contain alphanumeric characters (letters A-Z, numbers 0-9)"}];return[4,(0,v.postJson)("/data/user/exists",{username:e})];case 1:if(t.sent().exists)return[2,{message:"Username is taken"}];return[2]}})})()},teamUsername:function(e){return(0,t._)(function(){return(0,n._)(this,function(t){switch(t.label){case 0:if(!e)return[2,null];if(!(0,h.default)(e,{min:2,max:28}))return[2,{message:"Your username must be between 2 and 28 characters"}];if(!e.match(/^[0-9a-zA-Z-]+$/))return[2,{message:"Username can only contain alphanumeric characters (letters A-Z, numbers 0-9) and hyphens."}];if(e.match(/^-.*|.*-$|.*--.*/))return[2,{message:"A username can not start or end with hyphens, or contain two consecutive hyphens."}];return[4,(0,v.postJson)("/data/user/exists",{username:e})];case 1:if(t.sent().exists)return[2,{message:"Username is taken"}];return[2]}})})()},password:function(e){return e?(0,h.default)(e,{min:8})?void 0:{message:"Must be at least 8 characters"}:null},school:function(e){return null},replTitle:function(e){if(!(0,h.default)(e,{min:1,max:60}))return{message:"Titles must be between 1 and 60 characters"}},replDescription:function(e){if(!(0,h.default)(e,{min:0,max:1e3}))return{message:"Titles must be between 0 and 1000 characters"}},orgName:function(e){return(0,t._)(function(){return(0,n._)(this,function(t){return e?(0,h.default)(e,{min:2,max:40})?e.match(/^[0-9a-zA-Z ]+$/)?[2]:[2,{message:"Organization name can only contain alphanumeric characters (letters A-Z, numbers 0-9)"}]:[2,{message:"Organization name must be between 2 and 40 characters"}]:[2,{message:"Organization name cannot be empty"}]})})()},orgBio:function(e){return(0,t._)(function(){return(0,n._)(this,function(t){return(0,h.default)(e,{min:0,max:1e4})?[2]:[2,{message:"Bio must be between 0 and 10000 characters"}]})})()}};e.s(["default",0,y],746788);var x=e.i(446530),b=e.i(613355),_=e.i(612372),w=e.i(887877),S=e.i(625484),C=(0,x.cssRecord)({form:[b.rcss.colWithGap(8),b.rcss.width("100%")]});function T(e){var h,g=e.onSubmit,v=e.mode,x=e.onRedirectingChange,b=e.seededEmail,T=(0,r._)((0,a.useState)(!1),2),k=T[0],I=T[1],E=(0,r._)((0,a.useState)(!1),2),P=E[0],j=E[1],R=(0,p.useFormField)(b,y.isValidEmail);(0,d.useEffectOnce)(function(){R.validate()});var F=R.error?{message:R.error.message,severity:null!=(h=R.error.severity)?h:"error"}:void 0;return(0,i.jsxs)(w.Form,{onSubmit:function(e){return(0,t._)(function(){var t,r,i;return(0,n._)(this,function(n){switch(n.label){case 0:if(e.preventDefault(),k)return[2];return I(!0),[4,(0,c.getAuthTenant)({type:"email",email:R.value})];case 1:if("error"===(t=n.sent()).type)return I(!1),g({error:t.message}),[2];return[4,x(!0)];case 2:return n.sent(),(0,f.track)(m.events.AUTH_FORM_SSO_REQUESTED,{provider:"saml",authenticationType:v,isTeacher:"false"}),r=t.tenantId,i=t.samlProviderId,[4,(0,l.signInWithProvider)({tenantId:r,provider:{type:"saml",providerId:i}})];case 3:if("error"===n.sent().type)return I(!1),g({error:l.signInWithProviderErrorMessage}),[2];return I(!1),j(!0),[2]}})})()},css:C.form,children:[(0,i.jsx)(u.default,{type:"text",label:"Company email",name:"username",autoComplete:"email",onBlur:R.handleBlur,validationResults:F?[F]:[],onChange:R.setValue,value:R.value}),(0,i.jsx)(S.View,{gap:24,children:(0,i.jsx)(_.default,{type:"submit",variant:"primary",stretch:!0,loading:k,disabled:!R.isValid||P,iconRight:k?(0,i.jsx)(o.default,{}):P?(0,i.jsx)(s.default,{}):void 0,dataCy:"saml-log-in-btn",text:"Log in with SSO"})})]})}e.s(["default",()=>T],273325)},414248,e=>{"use strict";var t=e.i(530658),r=e.i(276385),n=e.i(389959),i=e.i(964304),a=e.i(785240),s=e.i(756841),o=e.i(183035),c=e.i(712771),u=e.i(979530),l=e.i(269848),d=e.i(416298),p=e.i(480028),f=e.i(446530),m=e.i(613355),h=e.i(136540),g=(0,f.cssRecord)({input:[m.rcss.position.relative],label:[m.brandStyles.typography.micro,m.rcss.color.foregroundDimmest,m.rcss.position.absolute,m.rcss.top(12),m.rcss.left(16),m.rcss.zIndex(2)],field:[m.brandStyles.typography.body.small,m.rcss.border({width:2,color:p.tokens.backgroundDefault}),m.rcss.backgroundColor.backgroundHigher,m.rcss.color.foregroundDefault,m.rcss.borderRadius(8),m.rcss.position.relative,m.rcss.display.grid,m.rcss.pl(16),m.rcss.pb(8),m.rcss.pr(48),m.rcss.width("100%"),m.rcss.zIndex(1),{paddingTop:26}],fieldWithToggle:[m.brandStyles.typography.body.small,m.rcss.border({width:2,color:p.tokens.backgroundDefault}),m.rcss.backgroundColor.backgroundHigher,m.rcss.color.foregroundDefault,m.rcss.borderRadius(8),m.rcss.position.relative,m.rcss.display.grid,m.rcss.pl(16),m.rcss.pb(8),m.rcss.pr(80),m.rcss.width("100%"),m.rcss.zIndex(1),{paddingTop:26}],fieldIcon:[m.rcss.position.absolute,m.rcss.right(16),m.rcss.bottom(16),m.rcss.zIndex(2),{"&:hover":{backgroundColor:"transparent !important"}}],toggleIcon:[m.rcss.position.absolute,m.rcss.right(16),m.rcss.bottom(16),m.rcss.zIndex(2),{"&:hover":{backgroundColor:"transparent !important"}}],toggleIconWithValidation:[m.rcss.position.absolute,m.rcss.right(48),m.rcss.bottom(16),m.rcss.zIndex(2),{"&:hover":{backgroundColor:"transparent !important"}}]});e.s(["default",0,function(e){var f,m=e.label,v=e.name,y=e.type,x=e.value,b=e.showToggle,_=void 0===b||b,w=e.autoComplete,S=e.onChange,C=e.onBlur,T=e.validationResults,k=(0,t._)((0,n.useState)(y),2),I=k[0],E=k[1],P="".concat(v,"-").concat((0,n.useId)()),j=T?T[0]:void 0;if(j)switch("state"in j?j.state:j.severity){case"error":f=(0,r.jsx)(h.IconButton,{css:g.fieldIcon,alt:j.message,children:(0,r.jsx)(d.default,{size:24,color:p.tokens.accentNegativeDefault})});break;case"success":f=(0,r.jsx)(h.IconButton,{css:g.fieldIcon,alt:j.message,children:(0,r.jsx)(o.default,{size:24,color:p.tokens.accentPositiveDefault})});break;default:f=(0,r.jsx)(h.IconButton,{css:g.fieldIcon,alt:j.message,children:(0,r.jsx)(l.default,{size:24,color:p.tokens.outlineDimmer})})}else f=void 0;var R=(0,r.jsx)(h.IconButton,{css:j?g.toggleIconWithValidation:g.toggleIcon,alt:"password"===I?"Show password":"Hide password",onClick:function(){return E("password"===I?"text":"password")},children:"password"===I?(0,r.jsx)(c.default,{size:24}):(0,r.jsx)(u.default,{size:24})});return(0,r.jsxs)(s.TextField,{css:g.input,isRequired:!0,onChange:S,onBlur:C,autoComplete:w,children:[(0,r.jsx)(a.Label,{css:g.label,htmlFor:P,children:m}),(0,r.jsx)(i.Input,{css:"password"===y&&_&&j?g.fieldWithToggle:g.field,id:P,type:I,name:v,value:x,autoCorrect:"off",autoCapitalize:"off"}),"password"===y&&_?R:null,j?f:null]})}])},612372,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(886513),i=e.i(276385),a=e.i(389959),s=e.i(116235),o=e.i(173703),c=e.i(480028),u=e.i(877249),l=e.i(446530),d=e.i(6338),p=e.i(613355),f=e.i(140487),m="hsla(29, 5%, 82%, 1)",h="hsla(0, 0%, 95%, 1)",g="hsla(0, 0%, 100%, 1)",v="hsla(201, 39%, 7%, 1)",y=(0,l.cssRecord)({root:[p.brandFontVariable,p.rcss.position.relative,p.rcss.border({color:"transparent"}),p.rcss.align.center,p.rcss.justify.center,p.rcss.reset.button,{transitionProperty:"outline, outline-offset, background-color",transitionDuration:"500ms",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)"}],focusRing:{outline:"0px solid transparent",outlineOffset:"0px",":after":{content:"''",position:"absolute",inset:0,borderRadius:"inherit",outline:"0px solid transparent",transitionProperty:"outline",transitionDuration:u.TRANSITIONS.duration,transitionTimingFunction:u.TRANSITIONS.timingFunction},":focus-visible":{outline:"2px solid "+g,outlineOffset:"-2px",":after":{outline:"2px solid "+c.tokens.brandAccentDefault}}},disabled:{opacity:.4}}),x=(0,l.cssRecord)({primary:[{color:g,backgroundColor:c.tokens.brandAccentDefault,"@media (hover: hover)":{":not([disabled])":{cursor:"pointer",":hover":{backgroundColor:c.tokens.brandAccentDimmer},":active":{backgroundColor:c.tokens.brandAccentDimmer}}}}],secondary:[{color:v,backgroundColor:h,"@media (hover: hover)":{":not([disabled])":{cursor:"pointer",":hover":{backgroundColor:m},":active":{backgroundColor:m}}}}],tertiary:[{color:v,backgroundColor:"transparent","@media (hover: hover)":{":not([disabled])":{cursor:"pointer",":hover":{backgroundColor:h},":active":{backgroundColor:h}}}}],clean:[{color:v,backgroundColor:"transparent","@media (hover: hover)":{":not([disabled])":{cursor:"pointer",":hover":{opacity:.75},":active":{opacity:.75}}}}]}),b={primary:"default",secondary:"default",tertiary:"default",clean:"nofill"},_={primary:"brand",secondary:"grey",tertiary:"grey",clean:"grey"},w={homepage:"big",default:"big",small:"small",large:"big"},S=(0,l.cssRecord)({homepage:[p.rcss.rowWithGap(8),p.rcss.px(8),p.rcss.py(6),p.rcss.borderRadius(4),p.brandStyles.typography.caption.medium],default:[p.rcss.rowWithGap(8),p.rcss.px(16),p.rcss.py(8),p.rcss.borderRadius(6),p.brandStyles.typography.caption.medium],small:[p.rcss.rowReverseWithGap(4),p.rcss.px(8),p.rcss.py(6),p.rcss.borderRadius(4),p.brandStyles.typography.caption.small],large:[p.rcss.rowWithGap(12),p.rcss.px(24),p.rcss.py(12),p.rcss.borderRadius(12),p.brandStyles.typography.body.large]});function C(e){var t,r=e.disabled,n=e.variant,i=e.stretch,a=e.size,s=e.loading;return t="primary"===n?d.loadingStyle.backgroundPulse(c.tokens.brandAccentDefault,c.tokens.brandAccentDimmer):d.loadingStyle.backgroundPulse(h,m),[p.rcss.viewStyle,y.root,y.focusRing,n?x[n]:x.primary,a?S[a]:S.default,i&&{alignSelf:"stretch"},r||s?y.disabled:null,s?t:void 0]}function T(e){var t=e.variant,r=e.size;return{variant:t?b[t]:"default",colorway:t?_[t]:"grey",size:r?w[r]:"default"}}var k=function(e){var t=e.iconLeft,r=e.iconRight,n=e.size,a=e.text,o="large"===n?20:16;return(0,i.jsxs)(i.Fragment,{children:[t?(0,i.jsx)(s.IconProvider,{size:o,children:t}):null,(0,i.jsx)("span",{css:p.rcss.truncate,children:a}),r?(0,i.jsx)(s.IconProvider,{size:o,children:r}):null]})},I=(0,a.forwardRef)(function(e,a){var s=e.onClick,c=(0,n._)(e,["onClick"]),u=C(c);if((0,o.useIsShadesSurfaceChild)()){var l=c.variant,d=c.size,p=(0,n._)(c,["variant","size"]),m=T({variant:l,size:d});return(0,i.jsx)(f.Button,(0,r._)((0,t._)({ref:a,onClick:s},m,p),{text:c.text}))}return(0,i.jsx)(f.BaseButton,(0,r._)((0,t._)({type:c.type,ref:a,css:u,isDisabled:c.disabled||c.loading,onPress:s,"data-cy":c.dataCy},c),{children:(0,i.jsx)(k,(0,t._)({},c))}))});I.displayName="BrandButton",e.s(["BrandButtonContent",()=>k,"brandButtonCss",()=>C,"brandButtonShades",()=>T,"default",0,I])},6338,e=>{"use strict";var t=e.i(967629),r=e.i(480028),n=(0,t.keyframes)("\n  0% {background-position-x: 100%}\n  100% {background-position-x: 0%}\n"),i={backgroundPulse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.tokens.outlineDimmest,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.tokens.interactiveBackground;return(0,t.css)({background:"linear-gradient(90deg, ".concat(e,", ").concat(i,", ").concat(e,", ").concat(i,")"),backgroundSize:"300% 100%",backgroundPositionX:"0%",animation:"".concat(n," 2s linear infinite")})},foregroundPulse:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.tokens.outlineDefault,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.tokens.backgroundRoot;return(0,t.css)({position:"relative",overflow:"hidden","&::after":{position:"absolute",top:0,left:0,content:'""',opacity:"50%",pointerEvents:"none",width:"100%",height:"100%",background:"linear-gradient(90deg, ".concat(e,", ").concat(i,", ").concat(e,", ").concat(i,")"),backgroundSize:"300% 100%",backgroundPositionX:"0%",animation:"".concat(n," 2s linear infinite")}})}};e.s(["loadingStyle",()=>i])},257982,e=>{"use strict";function t(e){throw Error("Unhandled discriminated union member: ".concat(JSON.stringify(e)))}e.s(["default",()=>t])},177037,e=>{"use strict";e.s(["brandOrange",()=>"#F26207"])},738623,953891,e=>{"use strict";var t=e.i(297083),r=e.i(878420),n=e.i(817556),i=e.i(830675),a=e.i(862927),s=e.i(960933);s.Type.Object({privacyInviteCode:s.Type.Optional(s.Type.String()),rawPassword:s.Type.Optional(s.Type.String()),source:s.Type.Optional(s.Type.String()),referrerId:s.Type.Optional(s.Type.Number()),tenantId:s.Type.Optional(s.Type.String())});var o=s.Type.Object({isNewUser:s.Type.Boolean(),userId:s.Type.Number(),redirectUrl:s.Type.Optional(s.Type.String()),cookieExpiresAt:s.Type.Optional(s.Type.Number())}),c=s.Type.Union([o,s.Type.Object({message:s.Type.String(),reauth:s.Type.Optional(s.Type.Object({tenantId:s.Type.String(),samlProviderId:s.Type.String()}))})]);s.Type.Union([s.Type.Object({type:s.Type.Literal("tenantId"),tenantId:s.Type.String()}),s.Type.Object({type:s.Type.Literal("email"),email:s.Type.String()})]);var u=s.Type.Object({tenantId:s.Type.String(),samlProviderId:s.Type.String()}),l=s.Type.Union([u,s.Type.Object({message:s.Type.String()})]),d=s.Type.Union([s.Type.Literal("CLIENT_TYPE_ANDROID"),s.Type.Literal("CLIENT_TYPE_IOS"),s.Type.Literal("CLIENT_TYPE_WEB")]);s.Type.Object({email:s.Type.String(),privacyInviteCode:s.Type.Optional(s.Type.String()),rawPassword:s.Type.String(),clientType:d,recaptchaToken:s.Type.String(),source:s.Type.String(),referrerId:s.Type.Optional(s.Type.Number()),aiPrompt:s.Type.Optional(s.Type.String())}),s.Type.Object({emailOrUsername:s.Type.String(),rawPassword:s.Type.String(),clientType:d,recaptchaToken:s.Type.String()});var p=s.Type.Object({kind:s.Type.String(),idToken:s.Type.String(),displayName:s.Type.Optional(s.Type.String()),email:s.Type.String(),refreshToken:s.Type.String(),expiresIn:s.Type.String(),localId:s.Type.String()});s.Type.Object({error:s.Type.Object({code:s.Type.Number(),message:s.Type.String(),errors:s.Type.Array(s.Type.Object({message:s.Type.String(),domain:s.Type.String(),reason:s.Type.String()}))})});var f=s.Type.Union([s.Type.Object({userId:s.Type.Number(),session:p}),s.Type.Object({message:s.Type.String()})]),m=e.i(904851),h=e.i(90659),g=e.i(721281),v=e.i(282453),y=s.Type.Object({cookieExpiresAt:s.Type.Number(),userId:s.Type.Number()}),x=function(){function e(){(0,m._)(this,e)}return(0,h._)(e,null,[{key:"shouldRefreshSessionCookie",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e5,t=this.getSessionInfo();return!!t&&Date.now()>=t.cookieExpiresAt-e}},{key:"setSessionInfo",value:function(e){var t=(0,r._)({},e);v.default.set(this.SESSION_INFO_KEY,t)}},{key:"getSessionInfo",value:function(){return v.default.get(this.SESSION_INFO_KEY,y)}},{key:"clearSessionInfo",value:function(){v.default.remove(this.SESSION_INFO_KEY)}}]),e}();(0,g._)(x,"SESSION_INFO_KEY","replit_session_info"),e.s(["SessionInfoManager",()=>x],953891);var b="/api/v1/auth",_=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,t._)(function(){var t,o,u,l,d;return(0,n._)(this,function(n){switch(n.label){case 0:return[4,e.getIdToken()];case 1:return t=n.sent(),o=null!==e.tenantId?{tenantId:e.tenantId}:{},u=(0,r._)({},s,o),[4,fetch(b,{method:"POST",headers:{Authorization:"Bearer ".concat(t),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(u)})];case 2:return[4,(l=n.sent()).json()];case 3:if(d=n.sent(),!a.Value.Check(c,d))return i.withScope(function(t){t.setExtras({fuid:e.uid,status:l.status,body:d}),i.captureException(Error("Unexpected POST ".concat(b," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if(l.ok||428===l.status||i.withScope(function(t){t.setExtras({fuid:e.uid,status:l.status,body:d}),i.captureException(Error("Unexpected POST ".concat(b," response")))}),"message"in d)return[2,{type:428===l.status?"needs_email_verification":"error",message:d.message,reauth:d.reauth}];return d.cookieExpiresAt&&x.setSessionInfo({cookieExpiresAt:d.cookieExpiresAt,userId:d.userId}),[2,{type:"success",userId:d.userId,isNewUser:d.isNewUser,redirectUrl:d.redirectUrl}]}})})()},w=function(e){return(0,t._)(function(){var t,r,a,s;return(0,n._)(this,function(n){switch(n.label){case 0:return[4,e.getIdToken()];case 1:return t=n.sent(),[4,fetch("".concat(b,"-anon"),{method:"POST",headers:{Authorization:"Bearer ".concat(t),"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin"})];case 2:switch((r=n.sent()).status){case 204:case 304:return[3,3]}return[3,4];case 3:return[2,{type:"success"}];case 4:return[4,r.json()];case 5:return a=n.sent(),i.withScope(function(t){t.setExtras({anonUser:e}),i.captureException(Error("Unexpected POST ".concat(b,"-anon response")))}),[2,{type:"error",message:null!=(s=a.message)?s:"Something unexpected happened, please try again."}];case 6:return[2]}})})()},S=function(e){return(0,t._)(function(){var t,r,s;return(0,n._)(this,function(n){switch(n.label){case 0:return[4,fetch(t="/api/v1/auth/sign-up",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:r=n.sent(),n.label=2;case 2:return n.trys.push([2,4,,5]),[4,r.json()];case 3:return s=n.sent(),[3,5];case 4:return n.sent(),[3,5];case 5:if(!r.ok&&400!==r.status){if(i.withScope(function(n){n.setExtras({email:e.email,status:r.status,body:s}),i.captureException(Error("Unexpected POST ".concat(t," response status")))}),429===r.status)return[2,{type:"error",message:"You are doing that too many times, please try again later. If you believe this is an error, please reach out to support@replit.com"}];return[2,{type:"error",message:"Something unexpected happened, please try again."}]}if(!a.Value.Check(f,s))return i.withScope(function(n){n.setExtras({email:e.email,status:r.status,body:s}),i.captureException(Error("Unexpected POST ".concat(t," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if("message"in s)return[2,{type:"error",message:s.message}];return[2,{type:"success",userId:s.userId,session:s.session}]}})})()},C=function(e){return(0,t._)(function(){var t,r,s;return(0,n._)(this,function(n){switch(n.label){case 0:return[4,fetch(t="/api/v1/auth/sign-in",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:return[4,(r=n.sent()).json()];case 2:if(s=n.sent(),!a.Value.Check(f,s))return i.withScope(function(n){n.setExtras({emailOrUsername:e.emailOrUsername,status:r.status,body:s}),i.captureException(Error("Unexpected POST ".concat(t," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if(r.ok||400===r.status||i.withScope(function(n){n.setExtras({emailOrUsername:e.emailOrUsername,status:r.status,body:s}),i.captureException(Error("Unexpected POST ".concat(t," response status")))}),"message"in s)return[2,{type:"error",message:s.message}];return[2,{type:"success",userId:s.userId,session:s.session}]}})})()},T=function(e){return(0,t._)(function(){var t,r,s;return(0,n._)(this,function(n){switch(n.label){case 0:return[4,fetch(t="/api/v1/auth/tenants",{method:"POST",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},credentials:"same-origin",body:JSON.stringify(e)})];case 1:return[4,(r=n.sent()).json()];case 2:if(s=n.sent(),!a.Value.Check(l,s))return i.withScope(function(n){n.setExtras({request:e,status:r.status,body:s}),i.captureException(Error("Unexpected POST ".concat(t," response format")))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if(!r.ok&&404!==r.status&&422!==r.status)return i.withScope(function(t){t.setExtras({request:e,status:r.status}),i.captureException(Error("Unexpected GET /api/v1/auth/tenants response"))}),[2,{type:"error",message:"Something unexpected happened, please try again."}];if("message"in s)return[2,{type:"error",message:s.message}];return[2,{type:"success",tenantId:s.tenantId,samlProviderId:s.samlProviderId}]}})})()};e.s(["getAuthTenant",()=>T,"setAnonCookie",()=>w,"setCookie",()=>_,"signInWithPassword",()=>C,"signUpWithPassword",()=>S],738623)},344188,e=>{"use strict";var t=e.i(297083),r=e.i(817556),n=e.i(324753),i=e.i(272391);function a(e){var n,a,o,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=s(e,c),a=e,o=new i.default("Unknown http error"),Promise.resolve(n).then(function(e){return(0,t._)(function(){var t,n,i,s;return(0,r._)(this,function(r){switch(r.label){case 0:if(e.ok)return[2,e.json()];if(t=o,!((n=e.headers.get("content-type"))&&n.includes("application/json")))return[3,2];return[4,e.json()];case 1:return i=r.sent(),[3,4];case 2:return[4,e.text()];case 3:s=r.sent();try{i=JSON.parse(s)}catch(e){i={message:s}}r.label=4;case 4:throw i.message&&(t.message=i.message),t.setExtras({url:a,responseBody:i,responseData:{status:e.status,statusText:e.statusText,redirected:e.redirected,type:e.type,url:e.url}}).setTag("httpError","true"),t}})})()})}function s(e,t){return(0,n.default)(e,{credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},method:"post",body:JSON.stringify(t)})}e.s(["postJson",()=>a,"wrapPost",()=>s])},427802,e=>{"use strict";var t=e.i(904851),r=e.i(90659),n=e.i(700005),i=e.i(282453),a=function(){function e(){(0,t._)(this,e)}return(0,r._)(e,null,[{key:"get",value:function(e){return i.default.get(e,"string")||n.default.get(e)}},{key:"set",value:function(e,t){i.default.set(e,t),n.default.set(e,t)}},{key:"remove",value:function(e){i.default.remove(e),n.default.remove(e)}}]),e}();e.s(["default",()=>a])},844941,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function a(e){return(0,n.jsx)(i.default,(0,r._)((0,t._)({},e),{children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M23.31 11.753a.75.75 0 0 1-.75.75h-1.523v2.698a.75.75 0 0 1-1.5 0v-2.698h-2.476v3.698a.75.75 0 0 1-1.5 0v-3.698h-3.219a5.17 5.17 0 0 1-7.103 4.051 5.168 5.168 0 0 1-3.182-4.806v-.008a5.168 5.168 0 0 1 10.268-.737H22.56a.75.75 0 0 1 .75.75Zm-12.417.043-.002-.03a3.668 3.668 0 0 0-7.334-.004 3.668 3.668 0 1 0 7.336.034Z",clipRule:"evenodd"})}))}e.s(["default",()=>a])},536262,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function a(e){return(0,n.jsx)(i.default,(0,r._)((0,t._)({},e),{children:(0,n.jsx)("path",{d:"M12 2.25A9.751 9.751 0 1 1 2.25 12a.75.75 0 0 1 1.5 0 8.25 8.25 0 1 0 8.251-8.25 9 9 0 0 0-6.22 2.53l-.97.97H8a.75.75 0 0 1 0 1.5H3a.752.752 0 0 1-.133-.013l-.016-.003c-.014-.002-.026-.008-.04-.011-.033-.009-.066-.017-.098-.03-.03-.013-.056-.029-.083-.045a.746.746 0 0 1-.16-.118.746.746 0 0 1-.12-.16c-.015-.028-.031-.055-.043-.084A.748.748 0 0 1 2.25 8V3a.75.75 0 0 1 1.5 0v3.19l.988-.989a10.501 10.501 0 0 1 7.26-2.951H12Z"})}))}e.s(["default",()=>a])},187505,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(389959),i=e.i(441329),a=e.i(858248),s=e.i(709485),o=e.i(782514);function c(){var e=(0,o.useTrackingHierarchy)(),c=(0,i.useIsInBonsaiWebview)();return{trackClick:(0,n.useCallback)(function(n){var i=(0,r._)((0,t._)({},e,n),{isBonsai:c});(0,a.track)(s.events.CLICK,i)},[e,c])}}e.s(["useTrackClick",()=>c])},819229,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function a(e){return(0,n.jsx)(i.default,(0,r._)((0,t._)({},e),{children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0 0 24 12c0-6.63-5.37-12-12-12Z",clipRule:"evenodd"})}))}e.s(["default",()=>a])},669996,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(null==e)throw TypeError("Expected a string but received a ".concat(e));if("String"!==e.constructor.name)throw TypeError("Expected a string but received a ".concat(e.constructor.name))},t.exports=r.default,t.exports.default=r.default},501005,e=>{"use strict";var t=e.i(148382),r=e.i(297083),n=e.i(817556),i="473079ba-e99f-4e25-a635-e9b661c7dd3e",a=0,s=null;function o(e,a){return(0,r._)(function(){var r;return(0,n._)(this,function(n){switch(n.label){case 0:if("true"===t.default.env.IS_CYPRESS_AUTOMATED_TEST||"true"===t.default.env.SKIP_HCAPTCHA)return[2,"bypassed"];if(!s)return[3,2];return[4,s];case 1:n.sent(),n.label=2;case 2:return r=window.hcaptcha,[2,new Promise(function(t,n){var s=document.createElement("div"),o=r.render(s,{sitekey:e||i,size:"invisible",callback:function(e){r.reset(o),window.document.body.contains(s)&&window.document.body.removeChild(s),t(e)},"open-callback":function(){a&&a()},"close-callback":function(){r.reset(o),window.document.body.contains(s)&&window.document.body.removeChild(s),n(Error("HCaptcha closed"))},"chalexpired-callback":function(){r.reset(o),window.document.body.contains(s)&&window.document.body.removeChild(s),n(Error("HCaptcha challenge expired"))},"error-callback":function(){r.reset(o),window.document.body.contains(s)&&window.document.body.removeChild(s),n(Error("HCaptcha render error"))},"expired-callback":function(){r.reset(o),window.document.body.contains(s)&&window.document.body.removeChild(s),n(Error("HCaptcha render expired"))}});window.document.body.appendChild(s),r.execute(o)})]}})})()}s=function e(){return(0,r._)(function(){var t;return(0,n._)(this,function(r){return(t=document.createElement("script")).src="https://js.hcaptcha.com/1/api.js?render=explicit&host=repl.it",[2,new Promise(function(r,n){t.onload=function e(t){return function(){void 0===window.hcaptcha?setTimeout(function(){e(t)},100):t()}}(function(){s=null,r()}),t.onerror=function(){a++,s=new Promise(function(t,r){setTimeout(function(){e().then(t,r)},1e3*Math.pow(1.7,a)+Math.floor(500*Math.random()))}),5===a&&n(Error("Failed to load captcha script after ".concat(5," times")))},window.document.head.appendChild(t)})]})})()}(),e.s(["HCAPTCHA_SITE_KEY",()=>i,"default",()=>o])},416298,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function a(e){return(0,n.jsxs)(i.default,(0,r._)((0,t._)({},e),{children:[(0,n.jsx)("path",{d:"M12.01 16.25a.75.75 0 0 1 0 1.5H12a.75.75 0 0 1 0-1.5h.01ZM12 8.25a.75.75 0 0 1 .75.75v4a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Z"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M11.99 2.236a2.753 2.753 0 0 1 2.39 1.392l8 13.997a2.755 2.755 0 0 1 0 2.749 2.753 2.753 0 0 1-2.379 1.376H4a2.753 2.753 0 0 1-2.768-2.743 2.752 2.752 0 0 1 .369-1.382L9.6 3.628a2.75 2.75 0 0 1 2.39-1.392Zm0 1.5a1.251 1.251 0 0 0-1.087.634l-.002.002-8 14v.003a1.251 1.251 0 0 0 1.093 1.875H20l.163-.01a1.252 1.252 0 0 0 .918-1.865l-.002-.003-8-14V4.37a1.253 1.253 0 0 0-1.089-.634Z",clipRule:"evenodd"})]}))}e.s(["default",()=>a])},230440,248033,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(932200),i=e.i(886513),a=e.i(530658),s=e.i(389959),o=(0,s.createContext)({}),c=(0,s.forwardRef)(function(e,c){e=(u=(0,a._)((0,n.useContextProps)(e,c,o),2))[0],c=u[1];var u,l=e.elementType,d=(0,i._)(e,["elementType"]);return s.default.createElement(void 0===l?"span":l,(0,r._)((0,t._)({className:"react-aria-Text"},d),{ref:c}))});e.s(["Text",()=>c,"TextContext",()=>o],248033);var u=e.i(716768),l=(0,s.createContext)(null),d=(0,s.forwardRef)(function(e,n){var i=(0,s.useContext)(l);return(null==i?void 0:i.isInvalid)?s.default.createElement(p,(0,r._)((0,t._)({},e),{ref:n})):null}),p=(0,s.forwardRef)(function(e,i){var a=(0,s.useContext)(l),o=(0,u.filterDOMProps)(e),d=(0,n.useRenderProps)((0,r._)((0,t._)({},e),{defaultClassName:"react-aria-FieldError",defaultChildren:0===a.validationErrors.length?void 0:a.validationErrors.join(" "),values:a}));return null==d.children?null:s.default.createElement(c,(0,r._)((0,t._)({slot:"errorMessage"},o,d),{ref:i}))});e.s(["FieldError",()=>d,"FieldErrorContext",()=>l],230440)},593583,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(886513),i=e.i(530658),a=e.i(932200),s=e.i(509124),o=e.i(389959),c=(0,o.createContext)(null),u=(0,o.forwardRef)(function(e,u){e=(l=(0,i._)((0,a.useContextProps)(e,u,c),2))[0],u=l[1];var l,d=e.validationErrors,p=e.validationBehavior,f=void 0===p?"native":p,m=e.children,h=e.className,g=(0,n._)(e,["validationErrors","validationBehavior","children","className"]);return o.default.createElement("form",(0,r._)((0,t._)({noValidate:"native"!==f},g),{ref:u,className:h||"react-aria-Form"}),o.default.createElement(c.Provider,{value:(0,r._)((0,t._)({},e),{validationBehavior:f})},o.default.createElement(s.FormValidationContext.Provider,{value:null!=d?d:{}},m)))});e.s(["Form",()=>u,"FormContext",()=>c])},756841,245237,894548,e=>{"use strict";var t=e.i(167626),r=e.i(878420),n=e.i(64386),i=e.i(886513),a=e.i(530658),s=e.i(932200),o=e.i(230440),c=e.i(593583),u=e.i(964304),l=e.i(785240),d=e.i(10425),p=e.i(248033),f=e.i(721281),m=e.i(72746),h=e.i(160100),g=e.i(498562),v=e.i(674310),y=e.i(389959),x=e.i(354183),b=e.i(161177),_=e.i(886982);function w(e){var t=e.description,r=e.errorMessage,n=e.isInvalid,i=e.validationState,a=(0,b.useLabel)(e),s=a.labelProps,o=a.fieldProps,c=(0,_.useSlotId)([!!t,!!r,n,i]),u=(0,_.useSlotId)([!!t,!!r,n,i]);return{labelProps:s,fieldProps:o=(0,v.mergeProps)(o,{"aria-describedby":[c,u,e["aria-describedby"]].filter(Boolean).join(" ")||void 0}),descriptionProps:{id:c},errorMessageProps:{id:u}}}e.s(["useField",()=>w],245237);var S=e.i(697731),C=e.i(205381),T=e.i(509124);function k(e,i){var s,o=e.inputElementType,c=e.isDisabled,u=e.isRequired,l=void 0!==u&&u,d=e.isReadOnly,p=e.type,b=e.validationBehavior,_=void 0===b?"aria":b,k=(0,a._)((0,x.useControlledState)(e.value,e.defaultValue||"",e.onChange),2),I=k[0],E=k[1],P=(0,S.useFocusable)(e,i).focusableProps,j=(0,T.useFormValidationState)((0,n._)((0,r._)({},e),{value:I})),R=j.displayValidation,F=R.isInvalid,O=R.validationErrors,A=R.validationDetails,L=w((0,n._)((0,r._)({},e),{isInvalid:F,errorMessage:e.errorMessage||O})),M=L.labelProps,D=L.fieldProps,U=L.descriptionProps,N=L.errorMessageProps,V=(0,m.filterDOMProps)(e,{labelable:!0}),B={type:void 0===p?"text":p,pattern:e.pattern};return(0,h.useFormReset)(i,I,E),(0,C.useFormValidation)(e,j,i),(0,y.useEffect)(function(){if((0,t._)(i.current,(0,g.getOwnerWindow)(i.current).HTMLTextAreaElement)){var e=i.current;Object.defineProperty(e,"defaultValue",{get:function(){return e.value},set:function(){},configurable:!0})}},[i]),{labelProps:M,inputProps:(0,v.mergeProps)(V,"input"===(void 0===o?"input":o)?B:void 0,(0,r._)((s={disabled:void 0!==c&&c,readOnly:void 0!==d&&d,required:l&&"native"===_,"aria-required":l&&"aria"===_||void 0,"aria-invalid":F||void 0,"aria-errormessage":e["aria-errormessage"],"aria-activedescendant":e["aria-activedescendant"],"aria-autocomplete":e["aria-autocomplete"],"aria-haspopup":e["aria-haspopup"],"aria-controls":e["aria-controls"],value:I,onChange:function(e){return E(e.target.value)},autoComplete:e.autoComplete,autoCapitalize:e.autoCapitalize,maxLength:e.maxLength,minLength:e.minLength,name:e.name,placeholder:e.placeholder,inputMode:e.inputMode,autoCorrect:e.autoCorrect,spellCheck:e.spellCheck},(0,f._)(s,parseInt(y.default.version,10)>=17?"enterKeyHint":"enterkeyhint",e.enterKeyHint),(0,f._)(s,"onCopy",e.onCopy),(0,f._)(s,"onCut",e.onCut),(0,f._)(s,"onPaste",e.onPaste),(0,f._)(s,"onCompositionEnd",e.onCompositionEnd),(0,f._)(s,"onCompositionStart",e.onCompositionStart),(0,f._)(s,"onCompositionUpdate",e.onCompositionUpdate),(0,f._)(s,"onSelect",e.onSelect),(0,f._)(s,"onBeforeInput",e.onBeforeInput),(0,f._)(s,"onInput",e.onInput),s),P,D)),descriptionProps:U,errorMessageProps:N,isInvalid:F,validationErrors:O,validationDetails:A}}e.s(["useTextField",()=>k],894548);var I=e.i(128001),E=e.i(716768),P=e.i(624071),j=(0,y.createContext)(null),R=(0,I.createHideableComponent)(function(e,f){e=(m=(0,a._)((0,s.useContextProps)(e,f,j),2))[0],f=m[1];var m,h,g,v=((0,s.useSlottedContext)(c.FormContext)||{}).validationBehavior,x=null!=(g=null!=(h=e.validationBehavior)?h:v)?g:"native",b=(0,y.useRef)(null),_=(0,a._)((0,s.useContextProps)({},b,u.InputContext),2),w=_[0],S=_[1],C=(0,a._)((0,s.useSlot)(!e["aria-label"]&&!e["aria-labelledby"]),2),T=C[0],I=C[1],R=(0,a._)((0,y.useState)("input"),2),F=R[0],O=R[1],A=k((0,n._)((0,r._)({},(0,s.removeDataAttributes)(e)),{inputElementType:F,label:I,validationBehavior:x}),S),L=A.labelProps,M=A.inputProps,D=A.descriptionProps,U=A.errorMessageProps,N=(0,i._)(A,["labelProps","inputProps","descriptionProps","errorMessageProps"]),V=(0,y.useCallback)(function(e){S.current=e,e&&O((0,t._)(e,HTMLTextAreaElement)?"textarea":"input")},[S]),B=(0,s.useRenderProps)((0,n._)((0,r._)({},e),{values:{isDisabled:e.isDisabled||!1,isInvalid:N.isInvalid,isReadOnly:e.isReadOnly||!1,isRequired:e.isRequired||!1},defaultClassName:"react-aria-TextField"})),H=(0,E.filterDOMProps)(e);return delete H.id,y.default.createElement("div",(0,n._)((0,r._)({},H,B),{ref:f,slot:e.slot||void 0,"data-disabled":e.isDisabled||void 0,"data-invalid":N.isInvalid||void 0,"data-readonly":e.isReadOnly||void 0,"data-required":e.isRequired||void 0}),y.default.createElement(s.Provider,{values:[[l.LabelContext,(0,n._)((0,r._)({},L),{ref:T})],[u.InputContext,(0,n._)((0,r._)({},(0,P.mergeProps)(M,w)),{ref:V})],[d.TextAreaContext,(0,n._)((0,r._)({},M),{ref:V})],[p.TextContext,{slots:{description:D,errorMessage:U}}],[o.FieldErrorContext,N]]},B.children))});e.s(["TextField",()=>R,"TextFieldContext",()=>j],756841)},98816,e=>{"use strict";var t=e.i(389959),r=e.i(628745);function n(e){var n=(0,t.useRef)(e);return(0,r.default)(function(){n.current=e},[e]),n}e.s(["default",()=>n])},712771,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function a(e){return(0,n.jsxs)(i.default,(0,r._)((0,t._)({},e),{children:[(0,n.jsx)("path",{fillRule:"evenodd",d:"M12 8.25a3.75 3.75 0 1 1 0 7.5 3.75 3.75 0 0 1 0-7.5Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M12 4.251a11.5 11.5 0 0 1 10.631 7.115l.01.026a1.75 1.75 0 0 1 0 1.217l-.01.026a11.502 11.502 0 0 1-21.263 0l-.01-.026a1.751 1.751 0 0 1 0-1.217l.01-.026A11.501 11.501 0 0 1 12 4.251Zm0 1.5a10.003 10.003 0 0 0-9.238 6.169.252.252 0 0 0 0 .161 10.002 10.002 0 0 0 14.8 4.48 10.002 10.002 0 0 0 3.673-4.48.25.25 0 0 0 .002-.161A10 10 0 0 0 12 5.75Z",clipRule:"evenodd"})]}))}e.s(["default",()=>a])},887877,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(886513),i=e.i(276385),a=e.i(389959),s=e.i(593583);e.i(509124);var o=e.i(783211),c=(0,a.forwardRef)(function(e,a){var c=e.dataCy,u=(0,n._)(e,["dataCy"]);return(0,i.jsx)(s.Form,(0,r._)((0,t._)({},(0,o.useView)(u)),{ref:a,"data-cy":c}))});e.s(["Form",()=>c])},979530,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function a(e){return(0,n.jsxs)(i.default,(0,r._)((0,t._)({},e),{children:[(0,n.jsx)("path",{fillRule:"evenodd",d:"M1.47 1.47a.75.75 0 0 1 1.06 0l20 20a.75.75 0 1 1-1.06 1.06l-4.108-4.107a11.502 11.502 0 0 1-15.993-5.79 1.75 1.75 0 0 1-.01-1.243l.01-.024c.826-2.005 2.2-3.729 3.956-4.98L1.469 2.53a.75.75 0 0 1 0-1.06Zm4.933 5.994a10 10 0 0 0-3.64 4.454.25.25 0 0 0 0 .16 10.001 10.001 0 0 0 10.297 6.115 10.002 10.002 0 0 0 3.182-.89l-2.175-2.175a3.751 3.751 0 0 1-4.719-.477 3.75 3.75 0 0 1-.477-4.72L6.403 7.465Zm3.568 3.568a2.245 2.245 0 0 0-.222.988 2.25 2.25 0 0 0 2.231 2.23c.345.003.681-.076.987-.222l-2.996-2.996Z",clipRule:"evenodd"}),(0,n.jsx)("path",{d:"M10.644 4.331a11.497 11.497 0 0 1 11.8 6.604l.187.43.01.025c.146.392.146.825 0 1.217l-.01.026a11.5 11.5 0 0 1-1.545 2.663.75.75 0 0 1-1.185-.919c.545-.703.995-1.477 1.336-2.299a.25.25 0 0 0 0-.159A9.996 9.996 0 0 0 10.822 5.82a.75.75 0 0 1-.178-1.489Z"})]}))}e.s(["default",()=>a])},35073,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||"[object RegExp]"===Object.prototype.toString.call(n)&&n.test(e))return!0}return!1},t.exports=r.default,t.exports.default=r.default},872199,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){(0,i.default)(e),"object"===a(t)?(r=t.min||0,n=t.max):(r=arguments[1],n=arguments[2]);var r,n,s=encodeURI(e).split(/%..|./).length-1;return s>=r&&(void 0===n||s<=n)};var n,i=(n=e.r(669996))&&n.__esModule?n:{default:n};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.exports=r.default,t.exports.default=r.default},718435,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},t.exports=r.default,t.exports.default=r.default},919872,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){(0,n.default)(e),(t=(0,i.default)(t,s)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var r=e.split("."),a=r[r.length-1];return!(t.require_tld&&(r.length<2||!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a)||/\s/.test(a)))&&!(!t.allow_numeric_tld&&/^\d+$/.test(a))&&r.every(function(e){return!(e.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))})};var n=a(e.r(669996)),i=a(e.r(718435));function a(e){return e&&e.__esModule?e:{default:e}}var s={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};t.exports=r.default,t.exports.default=r.default},97982,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(t);var n=("object"===a(r)?r.version:arguments[1])||"";return n?"4"===n.toString()?c.test(t):"6"===n.toString()&&l.test(t):e(t,{version:4})||e(t,{version:6})};var n,i=(n=e.r(669996))&&n.__esModule?n:{default:n};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",o="(".concat(s,"[.]){3}").concat(s),c=new RegExp("^".concat(o,"$")),u="(?:[0-9a-fA-F]{1,4})",l=RegExp("^("+"(?:".concat(u,":){7}(?:").concat(u,"|:)|")+"(?:".concat(u,":){6}(?:").concat(o,"|:").concat(u,"|:)|")+"(?:".concat(u,":){5}(?::").concat(o,"|(:").concat(u,"){1,2}|:)|")+"(?:".concat(u,":){4}(?:(:").concat(u,"){0,1}:").concat(o,"|(:").concat(u,"){1,3}|:)|")+"(?:".concat(u,":){3}(?:(:").concat(u,"){0,2}:").concat(o,"|(:").concat(u,"){1,4}|:)|")+"(?:".concat(u,":){2}(?:(:").concat(u,"){0,3}:").concat(o,"|(:").concat(u,"){1,5}|:)|")+"(?:".concat(u,":){1}(?:(:").concat(u,"){0,4}:").concat(o,"|(:").concat(u,"){1,6}|:)|")+"(?::((?::".concat(u,"){0,5}:").concat(o,"|(?::").concat(u,"){1,7}|:))")+")(%[0-9a-zA-Z.]{1,})?$");t.exports=r.default,t.exports.default=r.default},84466,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,t){if((0,n.default)(e),(t=(0,c.default)(t,l)).require_display_name||t.allow_display_name){var r=e.match(d);if(r){var u,v,y=r[1];if(e=e.replace(y,"").replace(/(^<|>$)/g,""),y.endsWith(" ")&&(y=y.slice(0,-1)),!(!(!(v=(u=y).replace(/^"(.+)"$/,"$1")).trim()||/[\.";<>]/.test(v)&&(v===u||v.split('"').length!==v.split('\\"').length))&&1))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var x=e.split("@"),b=x.pop(),_=b.toLowerCase();if(t.host_blacklist.length>0&&(0,i.default)(_,t.host_blacklist)||t.host_whitelist.length>0&&!(0,i.default)(_,t.host_whitelist))return!1;var w=x.join("@");if(t.domain_specific_validation&&("gmail.com"===_||"googlemail.com"===_)){var S=(w=w.toLowerCase()).split("+")[0];if(!(0,a.default)(S.replace(/\./g,""),{min:6,max:30}))return!1;for(var C=S.split("."),T=0;T<C.length;T++)if(!f.test(C[T]))return!1}if(!1===t.ignore_max_length&&(!(0,a.default)(w,{max:64})||!(0,a.default)(b,{max:254})))return!1;if(!(0,s.default)(b,{require_tld:t.require_tld,ignore_max_length:t.ignore_max_length,allow_underscores:t.allow_underscores})){if(!t.allow_ip_domain)return!1;if(!(0,o.default)(b)){if(!b.startsWith("[")||!b.endsWith("]"))return!1;var k=b.slice(1,-1);if(0===k.length||!(0,o.default)(k))return!1}}if(t.blacklisted_chars&&-1!==w.search(RegExp("[".concat(t.blacklisted_chars,"]+"),"g")))return!1;if('"'===w[0]&&'"'===w[w.length-1])return w=w.slice(1,w.length-1),t.allow_utf8_local_part?g.test(w):m.test(w);for(var I=t.allow_utf8_local_part?h:p,E=w.split("."),P=0;P<E.length;P++)if(!I.test(E[P]))return!1;return!0};var n=u(e.r(669996)),i=u(e.r(35073)),a=u(e.r(872199)),s=u(e.r(919872)),o=u(e.r(97982)),c=u(e.r(718435));function u(e){return e&&e.__esModule?e:{default:e}}var l={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},d=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,p=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,f=/^[a-z\d]+$/,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,g=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;t.exports=r.default,t.exports.default=r.default},673920,e=>{"use strict";var t=e.i(389959);function r(e){var r=(0,t.useRef)(!1);(0,t.useEffect)(function(){r.current||(r.current=!0,e())},[e])}e.s(["useEffectOnce",()=>r])},441648,252890,751010,364839,285030,484059,e=>{"use strict";var t,r,n=e.i(346715),i=e.i(276385),a=e.i(761201),s=e.i(446530),o=e.i(613355),c=e.i(960178),u=e.i(625484),l=(0,s.cssRecord)({signupFormEmailDisclaimerContainer:[o.rcss.width("100%")],signupFormEmailDisclaimer:[o.rcss.color.brandText,o.rcss.font.brandVariable,o.brandStyles.typography.caption.small,o.rcss.textAlign.center,o.rcss.width("100%")],link:[o.rcss.color.foregroundDefault,{fontWeight:700,textDecoration:"none"}]});let d=function(){return(0,i.jsx)(u.View,{css:l.signupFormEmailDisclaimerContainer,children:(0,i.jsxs)(c.Text,{css:l.signupFormEmailDisclaimer,children:["By continuing, you agree to Replit's",(0,i.jsx)("br",{}),(0,i.jsx)("a",{css:l.link,href:a.LINKS_LEGAL.TERMS_OF_SERVICE,target:"_blank",children:"Terms of Service"})," ","and"," ",(0,i.jsx)("a",{css:l.link,href:a.LINKS_LEGAL.PRIVACY_POLICY,target:"_blank",children:"Privacy Policy"})]})})};var p=e.i(878420),f=e.i(427802),m=e.i(858248),h=e.i(709485),g=function(e){var t=f.default.get("gfa_ref")||void 0,r=f.default.get("gfa_campaign")||void 0,n=f.default.get("gfa_landed_on")||void 0;(0,m.identify)({id:e,firstAcquisitionSource:t,firstAcquisitionCampaign:r,firstAcquisitionLandedOn:n})},v=function(e){var t=e.isLogin,r=e.authFormPlacement;(0,m.track)(h.events.AUTH_FORM_MODE_TOGGLED,t?{from:"login",to:"signup",authFormPlacement:r}:{from:"signup",to:"login",authFormPlacement:r})},y=function(e){var t=e.from,r=e.location,n=e.authFormPlacement,i=e.extras;(0,m.track)(h.events.LOGIN_REQUESTED,(0,p._)({from:t,location:r,authFormPlacement:n},void 0===i?{}:i))},x=function(e){var t=e.from,r=e.location,n=e.authFormPlacement,i=e.extras;(0,m.track)(h.events.SIGNUP_REQUESTED,(0,p._)({from:t,location:r,authFormPlacement:n},void 0===i?{}:i))};e.s(["attributeAcquisition",()=>g,"trackLoginView",()=>y,"trackSignupView",()=>x,"trackToggleAuth",()=>v],252890);var b=e.i(187505),_=e.i(480028),w=e.i(988676),S=[o.rcss.align.center,o.rcss.colWithGap(16)],C=(0,s.cssRecord)({footerLinkWrapper:[o.brandStyles.typography.caption.small,o.rcss.textAlign.center],footerLink:[o.brandStyles.typography.caption.small,o.rcss.color.brandAccentStrongest,{":hover":{color:_.tokens.brandAccentStronger,backgroundColor:"transparent"}}],footerContainerNotModal:(0,n._)(S).concat([o.rcss.bottom(24)]),footerContainerModal:(0,n._)(S).concat([o.rcss.pt(24)]),heightWrapper:[o.rcss.height(132)],recaptchaDisclaimer:[o.rcss.textAlign.center,o.brandStyles.typography.caption.small,o.rcss.color.foregroundDimmest,{"& > a":{color:"inherit",textDecoration:"underline"},"& > a:hover":{textDecoration:"none"}}]}),T=function(e){var t=e.mode,r=e.isModal,n=e.onModeChange,a=e.className,s=e.appName,o=(0,b.useTrackClick)().trackClick,u=function(e){e.preventDefault(),o({productArea:"auth",target:"login"===t?"sign_up_button":"log_in_button"}),v({isLogin:"login"===t,authFormPlacement:r?"modal":"auth-page"}),n("login"===t?"signup":"login")};return(0,i.jsxs)(c.Text,{css:C.footerLinkWrapper,className:a,variant:"small",multiline:!1,children:["login"===t?"New to ".concat(s||"Replit","? "):"Already have an account? ",(0,i.jsx)("a",{role:"button",tabIndex:0,onKeyDown:function(e){"Enter"===e.key&&u(e)},onClick:function(e){return u(e)},css:C.footerLink,children:"login"===t?"Sign up":"Log in"})]})},k=function(){return(0,i.jsxs)(c.Text,{variant:"small",color:"dimmest",css:C.recaptchaDisclaimer,children:["This site is protected by reCAPTCHA Enterprise and the Google"," ",(0,i.jsx)("a",{href:"https://policies.google.com/privacy",children:"Privacy Policy"})," and"," ",(0,i.jsx)("a",{href:"https://policies.google.com/terms",children:"Terms of Service"})," apply."]})};e.s(["AuthTypeToggle",()=>T,"default",0,function(e){var t=e.isModal,r=e.mode,n=e.onModeChange,a=t?void 0:C.heightWrapper;return(0,i.jsx)(u.View,{css:a,children:(0,i.jsxs)(u.View,{css:t?C.footerContainerModal:C.footerContainerNotModal,children:[(0,i.jsx)(w.DividerH,{}),"signup"===r?(0,i.jsx)(u.View,{pb:24,children:(0,i.jsx)(d,{})}):null,(0,i.jsx)(T,{mode:r,isModal:t,onModeChange:n}),(0,i.jsx)(u.View,{row:!0,gap:16,align:"center",children:(0,i.jsx)(c.Text,{css:C.footerLinkWrapper,variant:"small",multiline:!1,children:(0,i.jsx)("a",{href:"https://replit.com/help",target:"_blank",rel:"noopener noreferrer",css:C.footerLink,children:"Get help"})})}),(0,i.jsx)(k,{})]})})}],441648);var I=(0,s.cssRecord)({self:[o.rcss.font.brandDefault,{fontWeight:512,fontSize:24,lineHeight:32/24}]});e.s(["default",0,function(e){var t=e.mode,r=e.privateDeployment,n=e.privateDevDomain,a="Create a Replit account";return"login"===t&&(a="Log in to your account"),r&&(a="Log in to access a private website"),n&&(a="Log in to access a private app"),(0,i.jsx)(c.Header,{variant:"headerDefault",level:1,css:I.self,children:a})}],751010);var E=e.i(148382),P=e.i(297083),j=e.i(530658),R=e.i(817556),F=e.i(485273),O=e.i(389959),A=e.i(830675),L=e.i(183035),M=e.i(269848),D=e.i(64386),U=e.i(571926),N=e.i(344188),V=function(e){if(e.isLoggedIn){var t;(0,m.identify)((0,D._)((0,p._)({id:e.id.toString(),email:e.email,roles:e.roles,verified:e.isVerified,emailPreference:e.emailNotifications,createdAt:e.timeCreated},!!e.loginMethod&&{loginMethod:e.loginMethod}),{signupMethod:null!=(t=e.signupMethod)?t:U.NONE_IDENTIFY_PROP}))}},B=e.i(738623),H=e.i(414248),z=e.i(278598),W=e.i(700005);function q(e){var t=e.redirectUrl,r=W.default.get("shouldUseMobileAppAuthComplete");return"string"!=typeof r||r.length<1?t:"/authComplete?redirectUrl=".concat(encodeURI(t))}e.s(["default",()=>q],364839);var G=e.i(294426),Z=e.i(501005),$=e.i(441329),Y=e.i(612372),X=e.i(887877),K=e.i(782514),J=(0,s.cssRecord)({form:[o.rcss.colWithGap(8),o.rcss.width("100%")],secondaryAction:[o.rcss.width("100%"),o.rcss.textAlign.center,o.brandStyles.typography.caption.medium,o.rcss.color.brandAccentStrongest,{":hover":{color:_.tokens.brandAccentStronger,backgroundColor:"transparent"}}]});function Q(e){var t=e.onSubmit,r=e.trackSource,n=e.footer,a=e.emailField,s=(0,j._)((0,O.useState)(!1),2),o=s[0],c=s[1],l=(0,j._)((0,O.useState)(!1),2),d=l[0],f=l[1],g=(0,j._)((0,O.useState)(""),2),v=g[0],y=g[1],x=(0,F.useRouter)(),b=(0,K.useTrackingHierarchy)().surface,_=function(e){var n=e.emailOrUsername,i=e.password;return(0,P._)(function(){var e,a,s,o,u;return(0,R._)(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,(0,G.getRecaptchaToken)({action:"signInWithPassword"})];case 1:return e=l.sent(),[3,3];case 2:return l.sent(),[2,{fallthrough:!0}];case 3:return[4,(0,B.signInWithPassword)({emailOrUsername:n,rawPassword:i,clientType:"CLIENT_TYPE_WEB",recaptchaToken:e})];case 4:if("error"===(a=l.sent()).type)return f(!1),c(!1),t({error:a.message}),[2,{fallthrough:!1}];return[4,(0,G.setUserFromApiResponse)({response:a.session})];case 5:if("error"===(s=l.sent()).type)return f(!1),c(!1),t({error:s.message}),[2,{fallthrough:!1}];return[4,(0,B.setCookie)(s.user,{source:r})];case 6:return"success"===(o=l.sent()).type?(c(!1),f(!0),u=o.redirectUrl?q({redirectUrl:o.redirectUrl}):void 0,(0,z.saveLastLoginMethod)("password"),t({user:{id:o.userId,postLoginRedirectUrl:u},isLogin:!0})):(f(!1),c(!1),t({error:o.message,reauth:o.reauth})),[2,{fallthrough:!1}]}})})()};return(0,i.jsxs)(X.Form,{onSubmit:function(e){return(0,P._)(function(){return(0,R._)(this,function(r){switch(r.label){case 0:if(e.preventDefault(),o)return[2];return(0,m.track)(h.events.AUTH_FORM_SUBMITTED,{mode:"login",method:"password",surface:b}),c(!0),[4,_({emailOrUsername:a.value,password:v})];case 1:if(!r.sent().fallthrough)return[3,3];return[4,(0,P._)(function(){var e,r,n,i,s;return(0,R._)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,(0,Z.default)(void 0,function(){(0,m.track)(h.events.AUTH_FORM_CAPTCHA_TRIGGERED,{authenticationType:"login"})})];case 1:return e=o.sent(),[3,3];case 2:return r=o.sent(),A.captureException(r,function(e){return e.setTag("bonsai",(0,$.isInNativeMobileAuthFlow)(x))}),t({error:"Something went wrong trying to submit. Please try again."}),c(!1),[2];case 3:return[4,function(e){return(0,P._)(function(e){var t,r,n,i,a,s,o,c,u,l;return(0,R._)(this,function(d){switch(d.label){case 0:t=e.username,r=e.password,n=e.teacher,i=e.hCaptchaResponse,a=e.hCaptchaSiteKey,d.label=1;case 1:return d.trys.push([1,3,,4]),[4,(0,N.postJson)("/login",(0,D._)((0,p._)({username:t,password:r},n?{teacher:n}:{}),{hCaptchaResponse:i,hCaptchaSiteKey:a}))];case 2:return s=d.sent(),[3,4];case 3:return(null==(u=(l=o=d.sent()).extras)||null==(c=u.responseData)?void 0:c.status)===401&&(o.status=l.extras.responseData.status),[2,{isLoggedIn:!1,error:o}];case 4:return V(s),[2,s]}})}).apply(this,arguments)}({username:a.value,password:v,hCaptchaResponse:e,hCaptchaSiteKey:Z.HCAPTCHA_SITE_KEY})];case 4:if("error"in(n=o.sent())){if(i=n.error,c(!1),t({error:i.message||"Something went wrong"}),i.status&&i.status>=500)throw i;return[2]}return s=n.postLoginRedirectUrl?q({redirectUrl:n.postLoginRedirectUrl}):void 0,(0,z.saveLastLoginMethod)("password"),t({user:{id:n.id,postLoginRedirectUrl:s},isLogin:!0}),[2]}})})()];case 2:r.sent(),r.label=3;case 3:return[2]}})})()},css:J.form,children:[(0,i.jsx)(H.default,{type:"text",label:"Email or username",name:"username",value:a.value,onChange:a.setValue,autoComplete:"email"}),(0,i.jsx)(H.default,{type:"password",label:"Password",name:"password",value:v,onChange:y}),(0,i.jsxs)(u.View,{gap:n?8:24,children:[(0,i.jsx)(Y.default,{type:"submit",variant:"primary",stretch:!0,loading:o,disabled:!v||!a.value||d,iconRight:o?(0,i.jsx)(M.default,{}):d?(0,i.jsx)(L.default,{}):void 0,dataCy:"log-in-btn",text:"Log In"}),n||(0,i.jsx)(Y.default,{variant:"clean",css:J.secondaryAction,onClick:function(){window.location.href="/forgot"},text:"Forgot password?"}),!1]})]})}e.s(["default",()=>Q],285030);var ee=e.i(664152),et=((t={})[t.Loaded=0]="Loaded",t[t.Skipped=1]="Skipped",t[t.Failed=2]="Failed",t),er="https://elements.stytch.com/telemetry.js";function en(){return"true"===E.default.env.IS_CYPRESS_AUTOMATED_TEST}var ei=window.location.pathname;function ea(e){return(0,P._)(function(){var t;return(0,R._)(this,function(n){switch(n.label){case 0:var i;return n.trys.push([0,2,,3]),[4,Promise.race([(i=e,(0,P._)(function(){var e,t;return(0,R._)(this,function(n){switch(n.label){case 0:return[4,(0,P._)(function(){return(0,R._)(this,function(e){switch(e.label){case 0:if(en())return[2,1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,r];case 2:return e.sent(),[2,0];case 3:return e.sent(),[2,2];case 4:return[2]}})})()];case 1:if(n.sent()!==et.Loaded)return[2];return e=window.location.host.startsWith("staging")?"public-token-test-f16841f0-b961-4442-93b3-751c8cfe0d8b":"public-token-live-88edc789-05cb-440a-a321-dab99f475524",[4,window.GetTelemetryID(e,"https://telemetry.replit.com/submit")];case 2:if(!(t=n.sent())||""===t.trim())return ee.logger.error("Client received an empty telemetryId",{userId:i}),[2];return ee.logger.info("Successfully received the telemetryId from Stytch ".concat(t),{telemetryId:t,userId:i}),[4,fetch("/telemetry",{method:"GET",headers:{"Content-Type":"application/json","telemetry-id":t,"user-id":i}})];case 3:return n.sent(),[2]}})})()),new Promise(function(e,t){return setTimeout(function(){return t(Error("Could not process device fingerprint in 4s"))},4e3)})])];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),ee.logger.error("Error fetching device fingerprint data ".concat(t.message)),[2,"N/A"];case 3:return[2]}})})()}!en()&&["/signup","/login"].some(function(e){return ei.startsWith(e)})&&(0,P._)(function(){var e,t,n;return(0,R._)(this,function(i){return e=performance.now(),(t=document.createElement("script")).src=er,t.async=!0,n=new Promise(function(e){setTimeout(function(){ee.logger.error("Timeout while loading Stytch script"),e()},4e3)}),r=Promise.race([new Promise(function(r){t.onload=function(){var t=performance.now();ee.logger.time("time to load Stytch script",t-e),r()},t.onerror=function(){ee.logger.error("Error loading Stytch script at ".concat(er)),r()},document.head.appendChild(t)}),n]),[2]})})().catch(function(e){return A.captureException(e)}),e.s(["callDeviceFingerprinting",()=>ea],484059)},127060,e=>{"use strict";var t=e.i(878420),r={signup:"68d1cdc1ca209329fe9a53f8",payment:"68d1cdeb7c0bfc7f9cc1ebe0"};function n(e,n){var i=r[e];i?function(e,r,n){if(!r)return console.warn("Invalid metric ID for event type: ".concat(e));window.CFQ=window.CFQ||[];var i={emit:e,payload:(0,t._)({metricId:r},n?{metadata:n}:{})};window.CFQ.push(i)}("conversion",i,n):console.warn("Unknown conversion metric: ".concat(e))}e.s(["sendCoframeConversionEvent",()=>n])},832970,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(817556),i=e.i(276385),a=e.i(389959),s=e.i(183035),o=e.i(269848),c=e.i(738623),u=e.i(414248),l=e.i(278598),d=e.i(364839),p=e.i(294426),f=e.i(322823),m=e.i(978486),h=e.i(484059),g=e.i(858248),v=e.i(709485),y=e.i(746788),x=e.i(446530),b=e.i(613355),_=e.i(612372);e.i(140487);var w=e.i(625484),S=e.i(127060),C=e.i(782514);function T(e){return e.error?[{message:e.error.message,state:"error"}]:e.warning?[{message:e.warning.message,state:"warning"}]:e.value?e.isValid?[{message:"",state:"success"}]:e.touched?[{message:"",state:"loading"}]:void 0:void 0}var k=(0,x.cssRecord)({form:[b.rcss.width("100%")]});function I(e){var x=e.onSubmit,b=e.tracking,I=void 0===b?{from:"explicit"}:b,E=e.emailField,P=(0,r._)((0,a.useState)(!1),2),j=P[0],R=P[1],F=(0,r._)((0,a.useState)(!1),2),O=F[0],A=F[1],L=(0,C.useTrackingHierarchy)().surface,M=(0,f.useFormField)("",y.default.password),D=(0,m.useGetAgentQueryPrompt)().directQueryPrompt,U=!E.value;return(0,i.jsx)("form",{onSubmit:function(e){return(0,t._)(function(){var t,r,i,a,s;return(0,n._)(this,function(n){switch(n.label){case 0:if(e.preventDefault(),(0,g.track)(v.events.AUTH_FORM_SUBMITTED,{mode:"signup",method:"password",surface:L}),R(!0),E.isValid)return[3,2];return[4,E.validate()];case 1:if(n.sent())return R(!1),[2];n.label=2;case 2:if(!M.isValid&&M.validate())return R(!1),[2];n.label=3;case 3:return n.trys.push([3,5,,6]),[4,(0,p.getRecaptchaToken)({action:"signUpPassword"})];case 4:return t=n.sent(),[3,6];case 5:return n.sent(),x({error:"We failed to evaluate your browser integrity. Please refresh the page and try again. If the problem persists, check your browser and network configuration."}),[2];case 6:return[4,(0,c.signUpWithPassword)({email:E.value,rawPassword:M.value,clientType:"CLIENT_TYPE_WEB",recaptchaToken:t,source:I.from,referrerId:I.referrerId,aiPrompt:D||void 0})];case 7:if("error"===(r=n.sent()).type)return A(!1),R(!1),x({error:r.message}),[2];return[4,(0,p.setUserFromApiResponse)({response:r.session})];case 8:if("error"===(i=n.sent()).type)return A(!1),R(!1),x({error:i.message}),[2];return[4,(0,c.setCookie)(i.user,{source:I.from,referrerId:I.referrerId})];case 9:if("success"===(a=n.sent()).type)return[3,10];return[3,12];case 10:return R(!1),A(!0),[4,(0,h.callDeviceFingerprinting)(a.userId.toString())];case 11:return n.sent(),s=a.redirectUrl?(0,d.default)({redirectUrl:a.redirectUrl}):void 0,(0,S.sendCoframeConversionEvent)("signup"),(0,l.saveLastLoginMethod)("password"),x({user:{id:a.userId,postLoginRedirectUrl:s},isLogin:!1}),[3,13];case 12:return A(!1),R(!1),x({error:a.message,reauth:a.reauth}),[3,13];case 13:return[2]}})})()},css:k.form,children:(0,i.jsxs)(w.View,{css:k.form,gap:8,children:[(0,i.jsx)(u.default,{type:"text",name:"email",label:"Email",onBlur:E.handleBlur,validationResults:T(E),onChange:E.setValue,value:E.value,autoComplete:"email"}),(0,i.jsx)(u.default,{type:"password",label:"Password",name:"password",onBlur:M.handleBlur,validationResults:T(M),onChange:M.setValue,value:M.value}),(0,i.jsx)(w.View,{gap:4,children:(0,i.jsx)(_.default,{type:"submit",variant:"primary",stretch:!0,loading:j,disabled:!M.value||U||O,iconLeft:j?(0,i.jsx)(o.default,{}):O?(0,i.jsx)(s.default,{}):void 0,dataCy:"signup-create-account",text:"Create Account"})}),null]})})}e.s(["default",()=>I])},444903,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function a(e){return(0,n.jsx)(i.default,(0,r._)((0,t._)({},e),{children:(0,n.jsx)("path",{d:"M20.34 8.5c-.128.1-2.38 1.37-2.38 4.192 0 3.265 2.866 4.42 2.952 4.449-.013.07-.456 1.582-1.512 3.122-.941 1.355-1.925 2.708-3.42 2.708-1.497 0-1.882-.869-3.61-.869-1.682 0-2.28.898-3.65.898-1.368 0-2.323-1.254-3.42-2.794C4.027 18.397 3 15.588 3 12.92c0-4.277 2.781-6.546 5.518-6.546 1.454 0 2.667.955 3.58.955.869 0 2.224-1.012 3.879-1.012.627 0 2.88.057 4.363 2.183ZM15.19 4.508c.685-.812 1.169-1.938 1.169-3.065 0-.156-.014-.314-.042-.442-1.113.042-2.438.741-3.237 1.668-.627.713-1.212 1.84-1.212 2.981 0 .172.029.343.042.398.07.014.185.029.3.029.998 0 2.254-.669 2.98-1.569Z"})}))}e.s(["default",()=>a])},14950,182530,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function a(e){return(0,n.jsx)(i.default,(0,r._)((0,t._)({},e),{children:(0,n.jsx)("path",{d:"M12 0c6.627 0 12 5.373 12 12 0 5.99-4.388 10.954-10.125 11.854V15.47h2.796L17.203 12h-3.328V9.749c0-.255.034-.509.112-.743.176-.528.578-.958 1.332-1.09.155-.027.325-.041.512-.041h1.513V4.922s-1.374-.234-2.686-.234c-2.742 0-4.533 1.66-4.533 4.668V12H7.078v3.469h3.047v8.385C4.388 22.954 0 17.99 0 12 0 5.373 5.373 0 12 0Z"})}))}e.s(["default",()=>a],14950);var s=e.i(913965);function o(e){return(0,n.jsxs)(s.default,(0,r._)((0,t._)({},e),{children:[(0,n.jsx)("path",{fill:"#4285F4",fillRule:"evenodd",d:"M21.6 12.227c0-.71-.064-1.391-.182-2.046H12v3.869h5.382a4.6 4.6 0 0 1-1.996 3.018v2.509h3.232c1.891-1.741 2.982-4.305 2.982-7.35Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#34A853",fillRule:"evenodd",d:"M12 22c2.7 0 4.963-.896 6.618-2.423l-3.232-2.509c-.895.6-2.04.955-3.386.955-2.605 0-4.81-1.76-5.596-4.123h-3.34v2.59A9.996 9.996 0 0 0 12 22Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#FBBC05",fillRule:"evenodd",d:"M6.405 13.9c-.2-.6-.314-1.241-.314-1.9 0-.66.114-1.3.314-1.9V7.509H3.064A9.996 9.996 0 0 0 2 11.999c0 1.614.386 3.142 1.064 4.492l3.34-2.591Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fill:"#EA4335",fillRule:"evenodd",d:"M12 5.977c1.468 0 2.786.505 3.822 1.496l2.869-2.868C16.959 2.99 14.695 2 12 2 8.09 2 4.709 4.24 3.063 7.51l3.341 2.59C7.191 7.736 9.395 5.977 12 5.977Z",clipRule:"evenodd"})]}))}e.s(["default",()=>o],182530)},936706,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function a(e){return(0,n.jsx)(i.default,(0,r._)((0,t._)({},e),{children:(0,n.jsx)("path",{d:"M0 .21h7.098l6.561 9.167L21.826 0l1.94.035-9.14 10.66L24 23.79h-7.095l-6.193-8.543L3.147 24h-1.91l8.536-10.001L0 .21Zm6.429 1.354H2.68L17.678 22.4h3.681L6.43 1.564Z"})}))}e.s(["default",()=>a])},108369,683743,149797,661922,961418,969761,e=>{"use strict";var t,r=e.i(878420),n=e.i(530658),i=e.i(276385),a=e.i(389959),s=e.i(844941),o=e.i(11029),c=e.i(536262),u=e.i(738623),l=e.i(441648),d=e.i(751010),p=e.i(285030),f=e.i(273325),m=e.i(294426),h=e.i(832970),g=e.i(721281),v=e.i(886513),y=e.i(444903),x=e.i(14950),b=e.i(819229),_=e.i(182530),w=e.i(269848),S=e.i(936706),C=e.i(694387),T=e.i(446530),k=e.i(173703),I=e.i(613355),E=e.i(612372),P=e.i(140487),j=e.i(624782),R=e.i(625484),F=(0,T.cssRecord)({ssoButton:[I.rcss.backgroundColor.brandBackgroundDarker,I.rcss.minHeight(40)],ssoButtonWrapper:[I.rcss.position.relative,I.rcss.width("100%")],lastUsedPill:[I.rcss.position.absolute,{top:0,right:0,transform:"translate(0, -50%)",pointerEvents:"none"}]}),O=(t={},(0,g._)(t,C.AppleProviderId,y.default),(0,g._)(t,C.FacebookProviderId,x.default),(0,g._)(t,C.GitHubProviderId,b.default),(0,g._)(t,C.GoogleProviderId,_.default),(0,g._)(t,C.XProviderId,S.default),t),A=function(e){var t=O[e.id];return t?(0,i.jsx)(t,{size:20}):null},L=function(e){var t=e.onClick,n=e.iconLeft,a=e.text,s=e.customCss,o=e.showLastUsed,c=e.loading,u=(0,v._)(e,["onClick","iconLeft","text","customCss","showLastUsed","loading"]),l=s?[F.ssoButton,s]:F.ssoButton,d=c?(0,i.jsx)(w.default,{size:20}):n;if((0,k.useIsShadesSurfaceChild)()){u.children,u.size;var p=(0,v._)(u,["children","size"]);return(0,i.jsxs)(R.View,{css:F.ssoButtonWrapper,children:[(0,i.jsx)(P.Button,(0,r._)({style:{minHeight:40},variant:"default",onClick:t,stretch:!0,iconLeft:d,text:a,loading:c},p)),o?(0,i.jsx)(j.Pill,{text:"Last used",variant:"filled",compact:!0,colorway:"grey",css:F.lastUsedPill}):null]})}return(0,i.jsxs)(R.View,{css:F.ssoButtonWrapper,children:[(0,i.jsx)(E.default,(0,r._)({css:l,variant:"secondary",onClick:t,stretch:!0,iconLeft:d,text:a,loading:c},u)),o?(0,i.jsx)(j.Pill,{text:"Last used",variant:"filled",compact:!0,css:F.lastUsedPill}):null]})};e.s(["SsoButton",()=>L,"SsoIcon",()=>A],683743);var M=e.i(297083),D=e.i(346715),U=e.i(817556),N=e.i(187505),V=e.i(858248),B=e.i(709485),H=(0,T.cssRecord)({minimizedSection:[I.rcss.gap(8)],showMoreButton:[I.rcss.py(6)]}),z=[C.GoogleProviderId,C.GitHubProviderId,C.XProviderId,C.AppleProviderId],W=(0,D._)(z).concat([C.FacebookProviderId]);function q(e){var t=e.mode,r=e.onRedirectingChange,s=e.onSubmit,c=e.onEmailClick,u=e.replitAuthProps,l=e.additionalOptions,d=(0,N.useTrackClick)().trackClick,p=(0,n._)((0,a.useState)(!1),2),f=p[0],h=p[1],g=(0,a.useMemo)(function(){var e;return null!=(e=null==u?void 0:u.minimizedProviders)?e:[]},[u]),v=g.includes("email"),y="login"===t?W:z,x=(0,a.useMemo)(function(){var e=function(e){return!!u&&"facebook.com"===e},t=y.filter(function(t){return g.includes(t.replace(".com",""))&&!e(t)}),r=y.filter(function(r){return!t.includes(r)&&!e(r)});return 0===r.length&&t.length>0&&(r.push.apply(r,(0,D._)(t)),t.length=0),{primaryProviders:r,minimizedProvidersList:t}},[y,g,u]),b=x.primaryProviders,_=x.minimizedProvidersList;return(0,i.jsxs)(i.Fragment,{children:[(0,D._)(b).concat((0,D._)(f?_:[])).map(function(e){return(0,i.jsx)(L,{text:"Continue with ".concat((0,C.getOAuthProviderName)(e)),iconLeft:(0,i.jsx)(A,{id:e}),customCss:null==u?void 0:u.ssoButtonCss,onClick:function(){if("facebook.com"===e){window.confirm('Facebook login is no longer supported. Click "Ok" to continue to password reset using the connected email address.')&&(window.location.href="/forgot");return}(0,M._)(function(){var n;return(0,U._)(this,function(i){switch(i.label){case 0:return n=e.replace(".com",""),d({productArea:"auth",target:"continue_with_".concat(n,"_button")}),(0,V.track)(B.events.AUTH_FORM_SSO_REQUESTED,{provider:n,authenticationType:t,isTeacher:"false"}),[4,r(!0)];case 1:return i.sent(),[4,(0,m.signInWithProvider)({tenantId:void 0,provider:{type:"oauth",providerId:e}})];case 2:return"error"===i.sent().type&&s({error:m.signInWithProviderErrorMessage}),[2]}})})()}},e)}),u?(0,i.jsx)(L,{onClick:c,iconLeft:(0,i.jsx)(o.default,{}),text:"Continue with email",customCss:null==u?void 0:u.ssoButtonCss}):null,l,(_.length>0||v)&&!f&&(0,i.jsx)(R.View,{css:H.minimizedSection,children:(0,i.jsx)(P.Button,{onClick:function(){d({productArea:"auth",target:"more_options_button"}),h(!0)},css:H.showMoreButton,variant:"underlinedOnHover",colorway:"grey",stretch:!0,text:"More options"})})]})}e.s(["SsoOptionsList",()=>q,"oauthLoginProviders",()=>W,"oauthSignupProviders",()=>z],149797);var G=e.i(252890),Z=e.i(322823),$=e.i(746788),Y=e.i(480028),X=e.i(988676),K=e.i(960178),J=(0,T.cssRecord)({mainControls:[I.rcss.width("100%"),I.rcss.px(12)],ssoContainer:[I.rcss.width("100%"),I.rcss.colWithGap(8)],samlLoginForm:[I.rcss.width("100%"),I.rcss.pb(32)],orText:[I.rcss.fontSize(Y.tokens.fontSizeSmall)]});function Q(e){var t=e.mode,r=e.onRedirectingChange,n=e.onModeChange,a=e.onSubmit,s=e.tracking,o=e.seededEmail,c=e.isModal;return(0,i.jsxs)(i.Fragment,{children:["login"===t?(0,i.jsx)(ee,{onRedirectingChange:r,onSubmit:a,tracking:s}):(0,i.jsx)(et,{onRedirectingChange:r,onSubmit:a,seededEmail:o,tracking:s}),(0,i.jsx)(l.default,{mode:t,isModal:c,onModeChange:n})]})}var ee=function(e){var t=e.onRedirectingChange,r=e.onSubmit,s=e.tracking,o=e.replitAuthProps,c=(0,n._)((0,a.useState)("password"),2),u=c[0],l=c[1],d=(0,Z.useFormField)("",$.default.isValidEmail);return(0,i.jsxs)(i.Fragment,{children:["password"===u?(0,i.jsx)(p.default,{onSubmit:r,trackSource:s.from,emailField:d}):null,"saml"===u?(0,i.jsx)(R.View,{css:J.samlLoginForm,children:(0,i.jsx)(f.default,{onSubmit:r,mode:"login",onRedirectingChange:t,seededEmail:d.value})}):null,(0,i.jsxs)(R.View,{css:J.ssoContainer,children:[(0,i.jsx)(er,{emailLoginType:u,setEmailLoginType:l}),(0,i.jsx)(q,{mode:"login",onRedirectingChange:t,onSubmit:r,replitAuthProps:o})]})]})},et=function(e){var t=e.onRedirectingChange,r=e.onSubmit,s=e.seededEmail,o=e.tracking,c=(0,n._)((0,a.useState)("initial"),2),u=c[0],l=c[1],d=(0,Z.useFormField)(s||"",$.default.email);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(R.View,{css:J.ssoContainer,align:"center",children:[(0,i.jsx)(q,{mode:"signup",onRedirectingChange:t,onSubmit:r}),"initial"===u?(0,i.jsx)(K.Text,{css:J.orText,children:"Or"}):(0,i.jsx)(X.DividerH,{}),(0,i.jsx)(er,{emailLoginType:u,setEmailLoginType:l})]}),"password"===u?(0,i.jsx)(h.default,{onSubmit:r,seededEmail:s,tracking:o,emailField:d}):null,"saml"===u?(0,i.jsx)(f.default,{onSubmit:r,mode:"signup",onRedirectingChange:t,seededEmail:d.value}):null]})},er=function(e){var t=e.emailLoginType,r=e.setEmailLoginType,n=(0,N.useTrackClick)().trackClick;return"password"===t?(0,i.jsx)(L,{onClick:function(){n({productArea:"auth",target:"switch_to_sso_button"}),r("saml")},iconLeft:(0,i.jsx)(s.default,{size:20}),text:"Use SSO login"}):"saml"===t?(0,i.jsx)(L,{onClick:function(){n({productArea:"auth",target:"switch_to_email_button"}),r("password")},iconLeft:(0,i.jsx)(c.default,{size:20}),text:"Use email login"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.default,{dataCy:"auth-form-reveal-email",onClick:function(){n({productArea:"auth",target:"email_and_password_button"}),r("password")},iconLeft:(0,i.jsx)(o.default,{size:20}),text:"Email & password",variant:"tertiary",stretch:!0}),(0,i.jsx)(E.default,{onClick:function(){n({productArea:"auth",target:"sso_button"}),r("saml")},iconLeft:(0,i.jsx)(s.default,{size:20}),text:"Single sign-on (SSO)",variant:"tertiary",stretch:!0})]})};e.s(["default",0,function(e){var t=e.children,n=e.customHeader,s=e.isModal,o=e.mode,c=e.onRedirectingChange,l=e.onSubmit,p=e.initialTenantId,f=e.tracking,h=e.privateDeployment,g=e.privateDevDomain,v=e.renderForm;return(0,a.useEffect)(function(){var e,t,r=s?"modal":"auth-page";"login"===o?(0,G.trackLoginView)({from:f.from,location:null!=(e=f.location)?e:"",authFormPlacement:r}):(0,G.trackSignupView)({from:f.from,location:null!=(t=f.location)?t:"",authFormPlacement:r})},[o,s,f.from,f.location]),(0,a.useEffect)(function(){void 0!==p&&(c(!0),(0,u.getAuthTenant)({type:"tenantId",tenantId:p}).then(function(e){"error"===e.type?l({error:e.message}):(0,m.signInWithProvider)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}}).then(function(e){if("error"===e.type)return void l({error:m.signInWithProviderErrorMessage})})}))},[p,c,l]),(0,i.jsxs)(i.Fragment,{children:[n?null:(0,i.jsx)(d.default,{mode:o,privateDeployment:h,privateDevDomain:g}),(0,i.jsxs)(R.View,{css:J.mainControls,gap:12,children:[t,v?v(e):(0,i.jsx)(Q,(0,r._)({},e))]})]})}],108369);var en=(0,T.cssRecord)({container:[(0,g._)({margin:"auto"},I.media.max("mobileMax"),[I.rcss.pt(96)]),I.rcss.colWithGap(32)],button:[I.rcss.color.foregroundDimmest]});e.s(["default",0,function(e){var t=e.email,r=e.providerId,n=e.onCancel,a=(0,C.getOAuthProviderName)(r);return a||(a="this provider",r===C.PasswordProviderId&&(a="your password")),(0,i.jsxs)(R.View,{css:en.container,pt:128,children:[(0,i.jsx)(K.Header,{variant:"headerDefault",level:1,children:"Verification required"}),(0,i.jsxs)(R.View,{gap:16,children:[(0,i.jsxs)(K.Text,{variant:"subheadDefault",multiline:!0,children:["In order to log in with ",a,", you must verify"," ",t||"your email","."]}),(0,i.jsx)(K.Text,{multiline:!0,children:"We've sent an email with a verification link. If you don't see it, check your spam folder, or contact support for assistance."})]}),(0,i.jsx)(P.Button,{size:"big",variant:"outlined",css:en.button,onClick:function(){return n()},text:"Back to log in"})]})}],661922);var ei=e.i(485273),ea=e.i(442121),es=e.i(278598);let eo=function(){return{href:"/home",as:"/~"}};e.s(["default",0,eo],961418);var ec=e.i(221586),eu=e.i(127060),el="/agentVerify2?prompt=storage2&skipOnboarding=true";function ed(e){var t=e.enabled,r=(0,ei.useRouter)(),i=(0,ea.useApolloClient)(),s=(0,n._)((0,a.useState)(!1),2),o=s[0],c=s[1],l=(0,n._)((0,a.useState)(null),2),d=l[0],p=l[1],f=(0,n._)((0,a.useState)(null),2),h=f[0],g=f[1],v=(0,a.useRef)(!1),y=(0,a.useCallback)(function(e){c(!0),g("SAML SSO required. Redirecting to the SSO login page..."),setTimeout(function(){return(0,M._)(function(){return(0,U._)(this,function(t){switch(t.label){case 0:return[4,(0,m.signInWithProvider)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}})];case 1:return"error"===t.sent().type&&(p("Something went wrong. Please try logging in again."),c(!1),g(null)),[2]}})})()},3e3)},[]);return(0,a.useEffect)(function(){t&&!v.current&&(v.current=!0,(0,m.handlePotentialOAuthRedirect)().then(function(e){return(0,M._)(function(){var t,n,a,s,o,l;return(0,U._)(this,function(d){switch(d.label){case 0:if("success"!==e.type)return[3,4];if(null===e.result)return c(!1),[2];return c(!0),[4,(0,u.setCookie)(e.result.user,{source:r.pathname})];case 1:if("success"===(t=d.sent()).type)return(n=(0,es.getPendingLoginMethod)())?((0,es.saveLastLoginMethod)(n),(0,es.clearPendingLoginMethod)()):(s=null==(a=e.result.user.providerData[0])?void 0:a.providerId)&&(0,es.isValidLoginMethod)(s)&&(0,es.saveLastLoginMethod)(s),t.isNewUser&&(0,eu.sendCoframeConversionEvent)("signup"),(0,ec.getLoggedOutExperiencePrompt)()?window.location.href=el:window.location.href=eo().as,[2];if("error"!==t.type)return[3,3];if(t.reauth)return(l=null==(o=e.result.user.providerData[0])?void 0:o.providerId)&&(0,es.isValidLoginMethod)(l)&&(0,es.savePendingLoginMethod)(l),y(t.reauth),[2];return p(t.message),c(!1),[4,(0,m.signOut)(i)];case 2:d.sent(),d.label=3;case 3:return[2];case 4:return c(!1),p("Something went wrong. Please try again."),[2]}})})()}).catch(function(){c(!1),p("Something went wrong. Please try again.")}))},[t,i,r.pathname,y]),{isRedirecting:o,error:d,samlRedirectMessage:h,authWithSamlTenant:y,setIsRedirecting:c,setError:p}}e.s(["LOGGED_OUT_EXPERIENCE_REDIRECT_URL",()=>el,"useOAuthRedirectHandler",()=>ed],969761)},68278,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(817556),i=e.i(389959),a=e.i(830675),s=e.i(878420),o=e.i(569384),c=e.i(973245),u=e.i(951262);function l(){var e=(0,o._)(["\n  mutation SaveUserAuth($input: SaveUserAuthInput!) {\n    saveUserAuth(input: $input) {\n      ... on CurrentUser {\n        id\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return l=function(){return e},e}var d={},p=(0,c.gql)(l()),f=e.i(294426),m={type:"error",message:"Something unexpected happened, please try again."};function h(){var e,o=(0,r._)((e=(0,s._)({},d,void 0),u.useMutation(p,e)),1)[0];return(0,i.useCallback)(function(e){var r=e.userCredential,i=e.oauthProviderId,s=e.scopes;return(0,t._)(function(){var e,t;return(0,n._)(this,function(n){switch(n.label){case 0:if(!(e=(0,f.getAccessTokenFromCredential)(i,r))||!e.accessToken)return a.captureException(Error("Failed to extract token from ".concat(i," credential"))),[2,m];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,o({variables:{input:{provider:i,token:e.accessToken,scopes:s}}})];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),a.captureException(Error("Failed to save ".concat(i," Auth state"))),[2,m];case 4:if(!t.data)return a.captureException(Error("Unexpected error trying to save ".concat(i," Auth state"))),[2,m];if("CurrentUser"!==t.data.saveUserAuth.__typename)return[2,{type:"error",message:t.data.saveUserAuth.message}];return[2,{type:"success"}]}})})()},[o])}e.s(["useSaveUserAuth",()=>h],68278)},192479,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(346715),i=e.i(817556),a=e.i(276385),s=e.i(485273),o=e.i(389959),c=e.i(830675),u=e.i(442121),l=e.i(269848),d=e.i(257982),p=e.i(694387),f=e.i(738623),m=e.i(108369),h=e.i(751010),g=e.i(661922),v=e.i(364839),y=e.i(294426),x=e.i(252890),b=e.i(969761),_=e.i(68278),w=e.i(484059),S=e.i(221586),C=e.i(956111),T=e.i(446530),k=e.i(613355),I=e.i(624782),E=e.i(396776),P=e.i(960178),j=e.i(625484),R=e.i(127060),F=e.i(782514),O=[k.rcss.width(470),k.rcss.maxWidth("100%"),k.rcss.colWithGap(32),k.rcss.align.center,{margin:"auto","& *":[k.brandFontDefault]}],A=(0,T.cssRecord)({error:[k.rcss.mb(16)],container:(0,n._)(O).concat([k.rcss.p(24)]),containerModal:(0,n._)(O),loadingText:[k.rcss.fontSize(16),k.rcss.flex.shrink(1)]}),L="redirecting";function M(e){var n=e.customHeader,T=e.isModal,k=e.mode,O=e.onModeChange,M=e.onSuccess,D=e.seededEmail,U=e.initialTenantId,N=e.tracking,V=e.privateDeployment,B=e.privateDevDomain,H=e.renderForm,z=e.replitAuthProps,W=e.signupCoupon,q=(0,u.useApolloClient)(),G=(0,s.useRouter)(),Z=(0,C.useQueryParam)(L,"boolean"),$=(0,r._)((0,o.useState)(Z?{type:"redirecting"}:{type:"form"}),2),Y=$[0],X=$[1],K=(0,r._)((0,o.useState)(),2),J=K[0],Q=K[1],ee=(0,o.useCallback)(function(e){return(0,t._)(function(){return(0,i._)(this,function(t){switch(t.label){case 0:if(!e)return[3,2];return X({type:"redirecting"}),[4,(0,C.updatePathWithQueryParams)({router:G,params:[{mode:"add",key:L,value:"1"}]})];case 1:return t.sent(),[3,3];case 2:X({type:"form"}),(0,C.updatePathWithQueryParams)({router:G,params:[{mode:"delete",key:L}]}),t.label=3;case 3:return[2]}})})()},[G]),et=function(e){X({type:"redirecting",message:"SAML SSO required. Redirecting to the SSO login page..."}),setTimeout(function(){return(0,t._)(function(){return(0,i._)(this,function(t){switch(t.label){case 0:return[4,(0,y.signInWithProvider)({tenantId:e.tenantId,provider:{type:"saml",providerId:e.samlProviderId}})];case 1:return"error"===t.sent().type&&(Q({message:"Something went wrong. Please try logging in again.",colorway:"negative"}),X({type:"form"})),[2]}})})()},3e3)},er=(0,o.useCallback)(function(e){return(0,t._)(function(){var t,r;return(0,i._)(this,function(n){switch(n.label){case 0:if(!("error"in e&&e.error))return[3,2];if(e.reauth)return et(e.reauth),[2];return Q({message:e.error,colorway:null!=(t=e.colorway)?t:"negative"}),[4,ee(!1)];case 1:return n.sent(),[2];case 2:if(!("user"in e&&e.user))throw Error("Expected error or user object");if(null!=(r=e.user.postLoginRedirectUrl)&&r.length>0)return window.location.href=r,[2];return e.isLogin||(0,x.attributeAcquisition)(e.user.id.toString()),M(e),[2]}})})()},[ee,M,Q]),en=(0,_.useSaveUserAuth)();return(0,o.useEffect)(function(){(0,y.handlePotentialOAuthRedirect)().then(function(e){return(0,t._)(function(){var t,r,n,a;return(0,i._)(this,function(i){switch(i.label){case 0:if("success"!==e.type)return[3,13];if(null===e.result)return"redirecting"===Y.type&&ee(!1),[2];return"redirecting"!==Y.type&&ee(!0),[4,(0,f.setCookie)(e.result.user,{source:N.from,referrerId:N.referrerId})];case 1:switch((t=i.sent()).type){case"success":return[3,2];case"needs_email_verification":return[3,7];case"error":return[3,9]}return[3,11];case 2:if((null==(r=e.result)?void 0:r.providerId)!==p.GitHubProviderId)return[3,4];return[4,en({userCredential:e.result,oauthProviderId:p.GitHubProviderId,scopes:[]})];case 3:i.sent(),i.label=4;case 4:if(t.isNewUser&&(0,R.sendCoframeConversionEvent)("signup"),(0,S.getLoggedOutExperiencePrompt)())return window.location.href=b.LOGGED_OUT_EXPERIENCE_REDIRECT_URL,[2];if(n=t.redirectUrl?(0,v.default)({redirectUrl:t.redirectUrl}):void 0)return window.location.href=n,[2];if(!(t.isNewUser&&e.result.providerId===p.GoogleProviderId))return[3,6];return[4,(0,w.callDeviceFingerprinting)(t.userId.toString())];case 5:i.sent(),i.label=6;case 6:return M({user:{id:t.userId},isLogin:!t.isNewUser}),[3,12];case 7:return ee(!1),X({type:"needs-email-verification",email:e.result.user.email,providerId:e.result.providerId}),[4,(0,y.signOut)(q)];case 8:case 10:return i.sent(),[3,12];case 9:if(t.reauth)return et(t.reauth),[2];return ee(!1),Q({message:t.message,colorway:"negative"}),[4,(0,y.signOut)(q)];case 11:(0,d.default)(t),i.label=12;case 12:return[2];case 13:switch(ee(!1),e.treatment){case"requires-provider-link":return[3,14];case"credential-conflict":return[3,15];case"email-conflict":return[3,16];case"forbidden-operation":return[3,17];case"user-needs-email":return[3,18];case"timeout":case"unhandled":case"unknown":return[3,20]}return[3,21];case 14:return Q({message:"Please log in to ".concat(e.context.email," with another method and link ").concat((0,p.getOAuthProviderName)(e.context.credential.providerId)," from the account page."),colorway:"negative"}),[3,22];case 15:return Q({message:"This provider cannot be used, please try another method.",colorway:"negative"}),[3,22];case 16:return Q({message:"This email cannot be used, please try another method.",colorway:"negative"}),[3,22];case 17:return Q({message:"That action is not permitted",colorway:"negative"}),[3,22];case 18:return a=(0,p.getOAuthProviderName)(e.credential.providerId),Q({message:"Your ".concat(a," account is missing an email address. To use it for Replit, you'll need to ").concat("login"===k?"log in":"sign up"," with another method and connect ").concat(a," from the account page."),colorway:"negative"}),[4,(0,y.signOut)(q)];case 19:return i.sent(),[3,22];case 20:return Q({message:"Something unexpected happened, please try again.",colorway:"negative"}),[3,22];case 21:(0,d.default)(e),i.label=22;case 22:return[2]}})})()}).catch(function(e){return c.captureException(e)})},[]),(0,a.jsx)(j.View,{css:T?A.containerModal:A.container,children:"form"===Y.type?(0,a.jsx)(F.TrackingHierarchyProvider,{hierarchy:{page:"auth_page",view:k},children:(0,a.jsxs)(m.default,{customHeader:n||!!W,isModal:T,mode:k,onModeChange:function(e){Q(void 0),O(e)},onRedirectingChange:ee,onSubmit:er,seededEmail:D,initialTenantId:U,tracking:N,privateDeployment:V,privateDevDomain:B,renderForm:H,replitAuthProps:z,children:[J?(0,a.jsx)(E.StatusBanner,{css:A.error,colorway:J.colorway,text:J.message}):null,W?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(j.View,{gap:16,align:"center",pb:8,children:[(0,a.jsxs)(j.View,{row:!0,gap:8,align:"center",justify:"center",children:[(0,a.jsx)("div",{children:"Using code"}),(0,a.jsx)(I.Pill,{colorway:"green",text:W.toUpperCase()})]}),(0,a.jsx)(h.default,{mode:"signup"})]})}):null]})}):"needs-email-verification"===Y.type?(0,a.jsx)(g.default,{email:Y.email,providerId:Y.providerId,onCancel:function(){return X({type:"form"})}}):(0,a.jsxs)(j.View,{gap:8,align:"center",children:[(0,a.jsx)(l.default,{size:32}),Y.message?(0,a.jsx)(P.Text,{multiline:!0,css:A.loadingText,children:Y.message}):null]})})}e.s(["default",()=>M,"redirectingParam",()=>L])}]);

//# debugId=dbf395c2-24c8-29f6-66d7-df06392472b6
//# sourceMappingURL=f69e24e7f5bfe6b3.js.map