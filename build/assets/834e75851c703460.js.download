;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="2c8548e4-b3cb-ef1f-9a7b-bb7e40fb545c")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,170784,122965,534518,e=>{"use strict";var t=e.i(878420),n=e.i(389959),r=e.i(992785);function i(e){var t=e.repl,n=e.currentUser;return{asViewer:e.asViewer,repl:{__typename:"Repl",authorizations:t.authorizations,id:t.id,language:t.language},currentUser:n?{__typename:"CurrentUser",id:n.id,username:n.username,isSubscribed:n.isSubscribed}:void 0}}function a(e){var a=e?i((0,t._)({},e)):null,o=(0,n.useRef)(a);return(0,r.default)(a,o.current)||(o.current=a),o.current}e.s(["createConnectContext",()=>i,"useMemoizedConnectContext",()=>a],170784);var o=e.i(775973),s=e.i(98816);function l(){var e=(0,o.useLDClient)(),t=(0,s.default)(e);return(0,n.useCallback)(function(){var e,n;return!Number.isFinite(n=parseInt(null==(e=t.current)?void 0:e.variation("flag-container-retry-minimum-ms",0),10))||n<0?0:n},[t])}e.s(["useFlaggedRetrier",()=>l],122965);var u=e.i(629712),c=e.i(858248),d=e.i(297083),p=e.i(530658),f=e.i(119468),g=e.i(817556),m=e.i(960933),h=e.i(469546),v=e.i(282453),b={};function _(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.info("ot client dataloss",(0,t._)({case:n,startTime:r.startTime,opsSinceFlush:r.opsSinceFlush,whileReconnecting:r.whileReconnecting,replid:r.replId,filePath:r.filePath},i))}var y={replsList:function(){return"dataLossRepls"},replFiles:function(e){return"dataLossReplFiles".concat(e)},latestOp:function(e,t){return"dataLossLatestOp--".concat(e,"--").concat(t)},latestFlushedOp:function(e,t){return"dataLossLatestFlushed--".concat(e,"--").concat(t)},latestOwnOp:function(e,t){return"dataLosslatestOwnOp--".concat(e,"--").concat(t)},opsSinceFlush:function(e,t){return"dataLossOpsSinceFlush--".concat(e,"--").concat(t)}},k=m.Type.Object({crc32:m.Type.Number(),version:m.Type.Number()});function w(){var e=v.default.get(y.replsList(),m.Type.Array(m.Type.String()));return e||(e=[],v.default.set(y.replsList(),e)),e}function T(e){var t=v.default.get(y.replFiles(e),m.Type.Array(m.Type.String()));return t||(t=[],v.default.set(y.replFiles(e),t)),t}function x(e){var t=T(e),n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;"string"==typeof s&&function(e,t){v.default.remove(y.latestOp(e,t)),v.default.remove(y.latestFlushedOp(e,t)),v.default.remove(y.latestOwnOp(e,t));var n=T(e).filter(function(e){return e!==t});v.default.set(y.replFiles(e),n)}(e,s)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}v.default.remove(y.replFiles(e));var l=w().filter(function(t){return t!==e});v.default.set(y.replsList(),l)}function I(e){var t,n=e.replId,r=e.filePath;(t=w()).includes(n)||(t.length>20?(x(t[0]),t[0]=n):t.push(n),v.default.set(y.replsList(),t));var i=T(n);i.includes(r)||(i.length>20?(x(i[0]),i[0]=r):i.push(r),v.default.set(y.replFiles(n),i))}function S(e){var t=e.filePath,n=e.replId,r=e.opType,i=e.op;!function(e){var t=e.filePath,n=e.replId,r=e.opType,i=e.logger,a=e.isReconnecting,o=_.bind(null,i),s="".concat(n,"--").concat(t);b[s]||(b[s]={replId:n,filePath:t,timer:null,startTime:null,whileReconnecting:0,opsSinceFlush:0});var l=b[s];if("latestFlushedOp"===r){delete b[s];var u=l.startTime;if(u){var c=Date.now()-u;c>6e4&&o("flush_delay_received",l,{elapsed:c})}var d=l.timer;d&&(clearTimeout(d),l.timer=null)}else{l.opsSinceFlush+=1,a&&(l.whileReconnecting+=1);var p,f=null!=(p=l.startTime)?p:Date.now();l.startTime=f,l.timer||(l.timer=setTimeout(function(){o("flush_delay_timeout",l)},6e4)),150===l.opsSinceFlush?o("flush_delay_small",l):1e3===l.opsSinceFlush&&o("flush_delay_large",l)}}({filePath:t,replId:n,opType:r,logger:e.logger,isReconnecting:e.isReconnecting}),v.default.set(y[r](n,t),i)}var E={};function A(e){return(0,d._)(function(e){var t,n,r,i,a,o,s,l;return(0,g._)(this,function(u){return t=e.filePath,n=e.replId,r=e.serverVersion,i=e.serverContent,a=e.fetchOps,o=e.logger,E[t+n]||(E[t+n]=!0,s=function(e,t){var n={latestOp:null,latestFlushedOp:null,latestOwnOp:null},r=Object.keys(n),i=!0,a=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=v.default.get(y[u](e,t),k);c&&c&&(void 0===c?"undefined":(0,f._)(c))==="object"&&"number"==typeof c.crc32&&"number"==typeof c.version&&(n[u]=c)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return n}(n,t),l=h.str(i)>>>0,Object.keys(s).forEach(function(e){return(0,d._)(function(){var t,n,i;return(0,g._)(this,function(u){switch(u.label){case 0:if(!(t=s[e]))return[2];if(r<t.version)return o.info("ot client dataloss",{opType:e,case:"server_forgot"}),[2];if(r===t.version)return l!==t.crc32&&o.info("ot client dataloss",{opType:e,case:"crc32_mismatch"}),[2];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,a(t.version,t.version)];case 2:return n=p._.apply(void 0,[u.sent(),1])[0],[3,4];case 3:return i=u.sent(),o.info("ot client dataloss",{opType:e,case:"error_fetching_op",originalError:String(i)}),[2];case 4:if(!n)return o.info("ot client dataloss",{opType:e,case:"op_not_found"}),[2];return n.crc32!==t.crc32&&o.info("ot client dataloss",{opType:e,case:"crc32_mismatch"}),[2]}})})()})),[2]})}).apply(this,arguments)}e.s(["checkAndTrack",()=>A,"ensureTrackedFile",()=>I,"storeOp",()=>S],518656);var P=e.i(518656);function C(e){var t=e.container;return(0,u.default)({container:t,dataloss:P,track:c.track})}e.s(["default",()=>C],534518)},170710,e=>{"use strict";var t=e.i(276385),n=e.i(115306),r=e.i(389959),i=e.i(904851),a=e.i(90659),o=e.i(721281);e.i(242933);var s=e.i(790164),l=function(){function e(){var t=this;(0,i._)(this,e),(0,o._)(this,"state",new s.ObservableState(null)),(0,o._)(this,"timeoutId",null),(0,o._)(this,"start",function(e){t.clearTimeout(),t.state.set({prompt:e}),t.timeoutId=setTimeout(t.remove,2e4)}),(0,o._)(this,"update",function(e){var n,r=null==(n=t.state.current)?void 0:n.prompt;r&&t.state.set({prompt:r,repl:e})}),(0,o._)(this,"remove",function(){t.clearTimeout(),t.state.set(null)})}return(0,a._)(e,[{key:"clearTimeout",value:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}}]),e}(),u=(0,r.createContext)(null),c=(0,n.default)(function(){return e.A(556827).then(function(e){return e.LoadingStateOverlay})},{loadableGenerated:{modules:[148805]},ssr:!1});function d(e){var n=(0,r.useRef)();return n.current||(n.current=new l),(0,t.jsxs)(u.Provider,{value:n.current,children:[e.children,(0,t.jsx)(c,{state:n.current.state})]})}function p(){return(0,r.useContext)(u)}e.s(["WorkspaceLoadingProvider",()=>d,"useWorkspaceLoadingState",()=>p],170710)},445059,e=>{"use strict";var t=e.i(297083),n=e.i(878420),r=e.i(64386),i=e.i(530658),a=e.i(817556),o=e.i(389959),s=e.i(131141);e.i(242933);var l=e.i(279606);e.i(925218);var u=e.i(112077),c=e.i(399978),d=e.i(509908),p="attached_assets",f=function(e){return"".concat(p,"/").concat(e)};function g(e){var p=e.sessionId,g=e.uploadFiles,m=e.onError,h=(0,u.useCreateObservable)([]),v=(0,u.useCreateObservable)([]),b=(0,o.useMemo)(function(){return l.Observable.combine(l.Observable.from(h),l.Observable.from(v)).select(function(e){var t=(0,i._)(e,2),n=t[0],r=t[1];return n.some(function(e){return e.isLoading})||r.some(function(e){return e.file.isLoading})})},[h,v]),_=(0,o.useCallback)(function(e){h.update(function(t){return(0,s.produce)(t,function(t){var n=t.findIndex(function(t){return t.path===e});-1!==n&&t.splice(n,1)})})},[h]),y=(0,o.useCallback)(function(e){v.update(function(t){return(0,s.produce)(t,function(t){var n=t.findIndex(function(t){return t.file.path===e});-1!==n&&t.splice(n,1)})})},[v]),k=(0,o.useCallback)(function(e){return(0,t._)(function(){var t,i,o,l,u,v,b,y,k;return(0,a._)(this,function(a){switch(a.label){case 0:t=e.map(function(e){var t=function(e){if(e){var t=e.lastIndexOf("."),n=-1!==t?e.slice(0,t):e,r=-1!==t?e.slice(t):"",i=n.replace(/\s+/g,"_"),a=Date.now(),o="_".concat(a),s=o.length+r.length,l=i.slice(0,Math.max(0,80-s));return"".concat(l).concat(o).concat(r)}return"pasted_".concat(Date.now())}(e.fileName);return{path:f(t),mimeType:e.file.type,file:new File([e.file],t,{type:e.file.type,lastModified:e.file.lastModified}),isLoading:!0}}),i=!0,o=!1,l=void 0;try{for(u=t[Symbol.iterator]();!(i=(v=u.next()).done);i=!0){if((b=v.value).file.size>c.MAX_FILE_UPLOAD_SIZE_LIMIT_BYTES)return null==m||m("Attachment size exceeds ".concat(c.MAX_FILE_UPLOAD_SIZE_LIMIT_BYTES/1024/1024," MB limit.")),(0,d.trackAgentAnalyticsEvent)({action:"attempted_to_attach_file_exceeding_size_limit",fileType:b.file.type,fileSize:b.file.size,sessionId:p}),[2,[]];if("image/svg+xml"===b.file.type)return null==m||m("SVG images are not allowed"),(0,d.trackAgentAnalyticsEvent)({action:"attempted_to_attach_svg_image",sessionId:p}),[2,[]]}}catch(e){o=!0,l=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw l}}return y=!1,[4,new Promise(function(e){h.update(function(e){return(0,s.produce)(e,function(e){var n=t.filter(function(t){return!e.some(function(e){return e.path===t.path})});if(e.length+n.length>20)return null==m||m("You can only attach up to ".concat(20," files.")),e;y=!0,t.forEach(function(t){var n=e.findIndex(function(e){return e.path===t.path});-1!==n?e[n]=t:e.push(t)})})}),e()})];case 1:if(a.sent(),!y)return[2,[]];if(t.forEach(function(e){(0,d.trackAgentAnalyticsEvent)({action:"attached_file",fileType:e.file.type,fileSize:e.file.size,sessionId:p})}),k=t.map(function(e){return e.file}),!g)return[3,5];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,g({files:k,onError:function(e){t.forEach(function(e){return _(e.path)}),null==m||m("Error writing files: "+e)}})];case 3:return a.sent(),[3,5];case 4:return a.sent(),[2,[]];case 5:return h.update(function(e){return(0,s.produce)(e,function(e){t.forEach(function(t){var i=e.findIndex(function(e){return e.path===t.path});-1!==i&&(e[i]=(0,r._)((0,n._)({},e[i]),{isLoading:!1}))})})}),[2,t]}})})()},[g,_,m,p,h]),w=(0,o.useCallback)(function(e){var i=e.url,o=e.file;return(0,t._)(function(){var e;return(0,a._)(this,function(t){switch(t.label){case 0:return e=!1,[4,new Promise(function(t){v.update(function(t){return(0,s.produce)(t,function(t){var n=t.findIndex(function(e){return e.url===i&&e.file.path===o.path});if(-1===n&&t.length+h.current.length>=20)return null==m||m("You can only attach up to ".concat(20," files.")),t;e=!0,-1!==n?t[n]={url:i,file:o}:t.push({url:i,file:o})})}),t()})];case 1:if(t.sent(),!e)return[2,null];if((0,d.trackAgentAnalyticsEvent)({action:"attached_url_file",fileType:o.file.type,fileSize:o.file.size,sessionId:p}),!g)return[3,5];t.label=2;case 2:return t.trys.push([2,4,,5]),[4,g({files:[o.file],onError:function(e){y(o.path),null==m||m("Error writing URL file: "+e)}})];case 3:return t.sent(),v.update(function(e){return(0,s.produce)(e,function(e){var t=e.findIndex(function(e){return e.url===i});-1!==t&&(e[t].file=(0,r._)((0,n._)({},e[t].file),{isLoading:!1}))})}),[3,5];case 4:return t.sent(),[2,null];case 5:return[2,{url:i,file:o}]}})})()},[g,y,m,p,v,h]),T=(0,o.useCallback)(function(){h.set([]),v.set([])},[h,v]);return(0,o.useMemo)(function(){return{attachments:h,removeAttachment:_,removeUrlAttachment:y,clearAttachments:T,urlAttachments:v,addAttachments:k,addUrlAttachment:w,isLoading:b}},[h,_,y,T,v,k,w,b])}e.s(["ATTACHED_ASSETS_PATH",()=>p,"getAttachedAssetsPath",()=>f,"useAttachmentsImpl",()=>g],445059)},509908,597103,e=>{"use strict";var t,n=e.i(721281),r=e.i(878420),i=e.i(485273),a=e.i(368964),o=e.i(569384),s=e.i(973245),l=e.i(304277);function u(){var e=(0,o._)(["\n  query ReplConfigAgentStackPlatformType($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        config {\n          agentStackPlatformType\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}e.i(566901);var c={},d=(0,s.gql)(u());function p(e){var t=(0,r._)({},c,e);return l.useQuery(d,t)}function f(){var e=(0,o._)(["\n  query TrackAgentAnalyticsEvent($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        origin {\n          ... on Repl {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return f=function(){return e},e}e.s(["ReplConfigAgentStackPlatformTypeDocument",()=>d,"useReplConfigAgentStackPlatformTypeQuery",()=>p],597103);var g=(0,s.gql)(f()),m=e.i(82259),h=e.i(634759),v=e.i(629536),b=e.i(173738),_=e.i(441329),y=e.i(858248),k=e.i(709485);function w(){var e,t,n,r,a=(0,_.isInMobileWorkspace)(i.default),o=(0,_.isInBonsaiWebview)(i.default);switch(i.default.pathname){case"/replEnvironmentDesktop":case"/replEnvironmentMobile":(e=i.default.query.replId?i.default.query.replId.toString():void 0)&&(t=(r=function(e){var t,n,r=null,i=null;try{r=null===b.apolloClient||void 0===b.apolloClient?void 0:b.apolloClient.readQuery({query:g,variables:{replId:e}}),i=null===b.apolloClient||void 0===b.apolloClient?void 0:b.apolloClient.readQuery({query:d,variables:{replId:e}})}catch(e){}var a=(null==r?void 0:r.getRepl.__typename)==="Repl"?r.getRepl:void 0,o=(null==i?void 0:i.getRepl.__typename)==="Repl"&&null!=(n=i.getRepl.config.agentStackPlatformType)?n:void 0;return{replId:null==a?void 0:a.id,originReplId:null==a||null==(t=a.origin)?void 0:t.id,agentStackPlatformType:o}}(e)).originReplId,n=r.agentStackPlatformType)}return{isMobile:a,isBonsai:o,replId:e,originReplId:t,agentStackPlatformType:n}}function T(e){var t=e.action,n=e.fileType,i=e.fileSize,a=e.messageText,o=e.feedbackText,s=e.sessionId,l=e.eventId,u=e.secretsRequested,c=e.freeCheckpoint,d=e.replOwnerPlanName,p=e.planApprovalState,f=e.blueprints,g=e.toolDataKind,m=e.hasUbbV2,h=e.checkpointPrice,v=e.isEnterprise,b=e.ctaLabel,_=e.agentMode,T=e.initialBuildMode,x=e.hasFigmaLinks,I=e.figmaLinksCount,S=e.figmaLinksCountUnique,E=e.autonomyLevel,A=e.integrationSearchQuery,P=e.integrationSearchNumResults,C=w(),D=C.isMobile,O=C.isBonsai,R=C.replId,M=C.originReplId,N=C.agentStackPlatformType;return(0,y.track)(k.events.AGENT_USED,(0,r._)({action:t,file_type:n,is_mobile:D,is_bonsai:O,repl_id:R,file_size:i,message_text:a,feedback_text:o,session_id:s,event_id:l,secrets_requested:u,free_checkpoint:c,origin_repl_id:M,repl_owner_plan_name:d,plan_approval_state:p,blueprints:f,tool_data_kind:g,hasUbbV2:m,checkpointPrice:h,is_enterprise:v,cta_label:b,agent_chat_mode:_,agent_stack_platform_type:N,initial_build_mode:T,autonomy_level:E,integration_search_query:A,integration_search_num_results:P},x?{has_figma_links:x,figma_links_count:I,figma_links_count_unique:S}:{}))}function x(e){var t,n,r=e.action,i=e.sessionId,a=e.messageText,o=e.planText,s=e.planId,l=e.isLatestPlanProposal,u=e.skipRapidBuild,c=e.planSupportsVisualPreview,d=e.didVisualPreviewComplete,p=e.numPlansProposed,f=e.stepsApproved,g=e.planBlueprints,b=e.stepBlueprints,_=e.stepId,T=e.stepName,x=e.initialBuildMode,S=e.isEnterprise,E=e.agentStackTriggerType,A=e.stackBlueprint,P=w(),C=P.isMobile,D=P.isBonsai,O=P.replId,R=P.originReplId,M=P.agentStackPlatformType;return(0,y.track)(k.events.AGENT_USED,{action:r,session_id:i,is_mobile:C,is_bonsai:D,repl_id:O,message_text:a,plan_text:o,plan_id:s,is_latest_plan_proposal:l,skip_rapid_build:u,plan_supports_visual_preview:c,did_visual_preview_complete:d,num_plans_proposed:p,origin_repl_id:R,steps_approved:f,plan_blueprints:g,step_blueprints:b,step_id:_,step_name:T,initial_build_mode:function(e){switch(e){case m.AgentInitialBuildMode.AGENT_INITIAL_BUILD_MODE_SYNC:return"design";case m.AgentInitialBuildMode.AGENT_INITIAL_BUILD_MODE_ASYNC:return"full_build";default:return"unknown"}}(x),is_enterprise:S,agent_stack_platform_type:null!=M?M:E?I[E]:void 0,stack_name:null==(t=A)||t===h.StackBlueprint.STACK_BLUEPRINT_NONE||t===h.StackBlueprint.STACK_BLUEPRINT_BEST_EFFORT_FALLBACK?"Unknown":null!=(n=v.stackBlueprintDetails[t].name)?n:"Unknown"})}var I=(t={},(0,n._)(t,m.AgentStackTriggerType.UNKNOWN_TRIGGER_TYPE,a.AgentStackPlatformType.TimeBased),(0,n._)(t,m.AgentStackTriggerType.SLACK_MESSAGE,a.AgentStackPlatformType.Slack),(0,n._)(t,m.AgentStackTriggerType.TELEGRAM_MESSAGE,a.AgentStackPlatformType.Telegram),(0,n._)(t,m.AgentStackTriggerType.TIME_BASED,a.AgentStackPlatformType.TimeBased),(0,n._)(t,m.AgentStackTriggerType.CONNECTOR_TRIGGER,a.AgentStackPlatformType.TimeBased),t);function S(e){var t=e.action,n=e.sessionId,r=e.messageText,i=e.isEnterprise,a=w(),o=a.isMobile,s=a.isBonsai,l=a.replId,u=a.originReplId,c=a.agentStackPlatformType;return(0,y.track)(k.events.AGENT_USED,{action:t,session_id:n,is_mobile:o,is_bonsai:s,repl_id:l,message_text:r,origin_repl_id:u,is_enterprise:i,agent_stack_platform_type:c})}e.s(["getAnalyticsMetadata",()=>w,"trackAgentAnalyticsEvent",()=>T,"trackAgentPlanningAnalyticsEvent",()=>x,"trackAgentQueueAnalyticsEvent",()=>S],509908)},377772,e=>{"use strict";var t=e.i(830675);function n(e,n){return t.withScope(function(r){r.setTag("start-with-ai",!0),n&&r.setExtras(n),t.captureException(e)}),e}e.s(["sendErrorToSentry",()=>n])},399978,e=>{"use strict";var t,n=e.i(297083),r=e.i(346715),i=e.i(817556),a=e.i(826771),o=e.i(903381),s=((t={}).AlreadyExists="ALREADY_EXIST",t.FileRead="FILE_READ",t.Network="NETWORK",t);function l(e){return(0,n._)(function(e){var t,s,l,u,c,d,p,f,g,m,h,v;return(0,i._)(this,function(b){switch(b.label){case 0:if(t=e.parentPath,s=e.overwrite,l=e.fs,u=e.files,c=e.onStart,d=e.onUpload,p=e.onError,f=e.onDone,g=e.envMigrationFlag,u.length>1e6)throw Error("Trying to upload too many files at once.");if(u.reduce(function(e,t){return t.size+e},0)>0xc800000)throw Error("Total file upload size exceeds maximum limit.");return m=function(e){var t=e.targetPath,r=e.file,a=e.progress;return(0,n._)(function(){var e,n;return(0,i._)(this,function(i){switch(i.label){case 0:if(s)return[3,2];return[4,l.stat(t)];case 1:if(i.sent().exists)return p(e={file:r,path:t,error:"ALREADY_EXIST"}),[2,e];i.label=2;case 2:return[4,l.transferFile(t,r,function(e,t){a.current=t/e},g)];case 3:if(i.sent().error===o.FsErrors.NotReadable)return p(n={file:r,path:t,error:"FILE_READ"}),[2,n];return null==d||d({file:r,path:t}),[2,{path:t,file:r}]}})})()},h=u.map(function(e){var n=e.dirPath||e.webkitRelativePath||e.name;return{targetPath:t?t+"/"+n:n,progress:(0,a.observableValue)(0),file:e}}),null==c||c(h),[4,Promise.all(h.map(m))];case 1:return v=b.sent(),null==f||f({parentPath:t,uploads:v.filter(function(e){return!("error"in e)}),errors:v.reduce(function(e,t){return"error"in t?(0,r._)(e).concat([t]):e},[])}),[2]}})}).apply(this,arguments)}e.s(["MAX_FILE_UPLOAD_SIZE_LIMIT_BYTES",()=>0xc800000,"MAX_NUM_FILES_UPLOAD_LIMIT",()=>1e6,"UploadErrors",()=>s,"uploadFiles",()=>l])},871318,481682,e=>{"use strict";var t=e.i(276385),n=e.i(682070),r=e.i(529131),i=e.i(878420),a=e.i(569384),o=e.i(973245),s=e.i(304277);function l(){var e=(0,a._)(["\n  query AgentInputRequiresPaymentMethodInfo($orgId: String) {\n    currentUser {\n      id\n      usageInterval {\n        ... on UsageInterval {\n          endDate\n        }\n      }\n      org(orgId: $orgId) {\n        ... on Org {\n          id\n          planInfo {\n            ... on OrgPlanInfo {\n              planEndDate\n            }\n          }\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n"]);return l=function(){return e},e}e.i(566901);var u={},c=(0,o.gql)(l()),d=e.i(629536),p=e.i(64386),f=e.i(116235);function g(e){return(0,t.jsxs)(f.default,(0,p._)((0,i._)({},e),{children:[(0,t.jsx)("path",{d:"M13 4.25a.75.75 0 0 1 0 1.5H4c-.69 0-1.25.56-1.25 1.25v2.25H16a.75.75 0 0 1 0 1.5H2.75V17c0 .69.56 1.25 1.25 1.25h16c.69 0 1.25-.56 1.25-1.25v-6a.75.75 0 0 1 1.5 0v6A2.75 2.75 0 0 1 20 19.75H4A2.75 2.75 0 0 1 1.25 17V7A2.75 2.75 0 0 1 4 4.25h9Z"}),(0,t.jsx)("path",{d:"M19 1.25a.75.75 0 0 1 .75.75v2.25H22a.75.75 0 0 1 0 1.5h-2.25V8a.75.75 0 0 1-1.5 0V5.75H16a.75.75 0 0 1 0-1.5h2.25V2a.75.75 0 0 1 .75-.75Z"})]}))}e.s(["default",()=>g],481682);var m=e.i(441329),h=e.i(341126),v=e.i(284325),b=e.i(446530),_=e.i(613355),y=e.i(140487),k=e.i(960178),w=e.i(625484),T=(0,b.cssRecord)({root:[_.rcss.borderRadius(8)],infoText:[_.rcss.textAlign.center]});function x(e){var a,o,l,p,f,b=e.owner,_=e.orgId,x=(0,m.useDoesBonsaiWebviewSupportFeature)("stripePayment")&&(null==b?void 0:b.type)!=="org",I=(0,m.useIsInBonsaiWebview)(),S=(0,v.default)(),E=(a={variables:{orgId:_}},o=(0,i._)({},u,a),s.useQuery(c,o)).data,A=null,P="",C=null==E?void 0:E.currentUser;C&&(_&&(null==(l=C.org)?void 0:l.__typename)==="Org"?A=(null==(f=C.org.planInfo)?void 0:f.__typename)==="OrgPlanInfo"?C.org.planInfo.planEndDate:null:_||(null==(p=C.usageInterval)?void 0:p.__typename)!=="UsageInterval"||(A=C.usageInterval.endDate)),A&&(P=", resets in "+function(e,t){return(0,r.default)(1,arguments),(0,n.default)(e,Date.now(),t)}(new Date(A),{addSuffix:!1}));var D=(null==b?void 0:b.type)==="org"?"".concat((0,h.orgLinks)({slug:b.slug}).settings.href,"?tab=billing"):"/account#billing",O="Add payment method";return x?O="Add more usage":I&&(O="Add payment method on replit.com"),(0,t.jsxs)(w.View,{gap:8,align:"center",css:T.root,children:[(0,t.jsxs)(k.Text,{css:T.infoText,color:"dimmer",children:["No monthly ",d.AGENT_NAME," usage left",P,(0,t.jsx)("br",{}),"Get more usage now by adding a payment method"]}),(0,t.jsx)(y.Button,{onClick:function(){x?S.showPaymentFlow({type:"setup",source:"agent_input_requires_payment_method"}):window.open(D,"_blank")},disabled:I&&!x,stretch:!0,iconLeft:(0,t.jsx)(g,{}),variant:"outlined",text:O})]})}e.s(["default",()=>x],871318)},310158,e=>{"use strict";var t=e.i(969979);e.s(["isValid",()=>t.default])},760129,e=>{"use strict";var t=e.i(716499),n=e.i(529131),r=/[T ]/,i=/[Z ]/i,a=/([Z+-].*)$/,o=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,s=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function u(e,u){(0,n.default)(1,arguments);var g,m,h=u||{},v=null==h.additionalDigits?2:(0,t.default)(h.additionalDigits);if(2!==v&&1!==v&&0!==v)throw RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var b=function(e){var t,n={},o=e.split(r);if(o.length>2)return n;if(/:/.test(o[0])?(n.date=null,t=o[0]):(n.date=o[0],t=o[1],i.test(n.date)&&(n.date=e.split(i)[0],t=e.substr(n.date.length,e.length))),t){var s=a.exec(t);s?(n.time=t.replace(s[1],""),n.timezone=s[1]):n.time=t}return n}(e);if(b.date){var _=function(e,t){var n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:null};var i=r[1]&&parseInt(r[1]),a=r[2]&&parseInt(r[2]);return{year:null==a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(b.date,v);g=function(e,t){if(null===t)return null;var n,r,i,a,s,l,u,d,g,m,h,v,b=e.match(o);if(!b)return null;var _=!!b[4],y=c(b[1]),k=c(b[2])-1,w=c(b[3]),T=c(b[4]),x=c(b[5])-1;if(_){return(n=T,r=x,n>=1&&n<=53&&r>=0&&r<=6)?(i=t,a=T,s=x,(l=new Date(0)).setUTCFullYear(i,0,4),u=l.getUTCDay()||7,l.setUTCDate(l.getUTCDate()+((a-1)*7+s+1-u)),l):new Date(NaN)}var I=new Date(0);return(d=t,g=k,m=w,g>=0&&g<=11&&m>=1&&m<=(p[g]||(f(d)?29:28))&&(h=t,(v=y)>=1&&v<=(f(h)?366:365)))?(I.setUTCFullYear(t,k,Math.max(y,w)),I):new Date(NaN)}(_.restDateString,_.year)}if(isNaN(g)||!g)return new Date(NaN);var y=g.getTime(),k=0;if(b.time&&(isNaN(k=function(e){var t,n,r,i=e.match(s);if(!i)return null;var a=d(i[1]),o=d(i[2]),l=d(i[3]);return(t=a,n=o,r=l,24===t?0===n&&0===r:r>=0&&r<60&&n>=0&&n<60&&t>=0&&t<25)?36e5*a+6e4*o+1e3*l:NaN}(b.time))||null===k))return new Date(NaN);if(b.timezone){if(isNaN(m=function(e){if("Z"===e)return 0;var t,n=e.match(l);if(!n)return 0;var r="+"===n[1]?-1:1,i=parseInt(n[2]),a=n[3]&&parseInt(n[3])||0;return(t=a)>=0&&t<=59?r*(36e5*i+6e4*a):NaN}(b.timezone)))return new Date(NaN)}else{var w=new Date(y+k),T=new Date(0);return T.setFullYear(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()),T.setHours(w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getUTCMilliseconds()),T}return new Date(y+k+m)}function c(e){return e?parseInt(e):1}function d(e){return e&&parseFloat(e.replace(",","."))||0}var p=[31,null,31,30,31,30,31,31,30,31,30,31];function f(e){return e%400==0||e%4==0&&e%100}e.s(["parseISO",()=>u],760129)},676566,e=>{e.v(JSON.parse('["aaa","aarp","abb","abbott","abbvie","abc","able","abogado","abudhabi","ac","academy","accenture","accountant","accountants","aco","actor","ad","ads","adult","ae","aeg","aero","aetna","af","afl","africa","ag","agakhan","agency","ai","aig","airbus","airforce","airtel","akdn","al","alibaba","alipay","allfinanz","allstate","ally","alsace","alstom","am","amazon","americanexpress","americanfamily","amex","amfam","amica","amsterdam","analytics","android","anquan","anz","ao","aol","apartments","app","apple","aq","aquarelle","ar","arab","aramco","archi","army","arpa","art","arte","as","asda","asia","associates","at","athleta","attorney","au","auction","audi","audible","audio","auspost","author","auto","autos","aw","aws","ax","axa","az","azure","ba","baby","baidu","banamex","band","bank","bar","barcelona","barclaycard","barclays","barefoot","bargains","baseball","basketball","bauhaus","bayern","bb","bbc","bbt","bbva","bcg","bcn","bd","be","beats","beauty","beer","bentley","berlin","best","bestbuy","bet","bf","bg","bh","bharti","bi","bible","bid","bike","bing","bingo","bio","biz","bj","black","blackfriday","blockbuster","blog","bloomberg","blue","bm","bms","bmw","bn","bnpparibas","bo","boats","boehringer","bofa","bom","bond","boo","book","booking","bosch","bostik","boston","bot","boutique","box","br","bradesco","bridgestone","broadway","broker","brother","brussels","bs","bt","build","builders","business","buy","buzz","bv","bw","by","bz","bzh","ca","cab","cafe","cal","call","calvinklein","cam","camera","camp","canon","capetown","capital","capitalone","car","caravan","cards","care","career","careers","cars","casa","case","cash","casino","cat","catering","catholic","cba","cbn","cbre","cc","cd","center","ceo","cern","cf","cfa","cfd","cg","ch","chanel","channel","charity","chase","chat","cheap","chintai","christmas","chrome","church","ci","cipriani","circle","cisco","citadel","citi","citic","city","ck","cl","claims","cleaning","click","clinic","clinique","clothing","cloud","club","clubmed","cm","cn","co","coach","codes","coffee","college","cologne","com","commbank","community","company","compare","computer","comsec","condos","construction","consulting","contact","contractors","cooking","cool","coop","corsica","country","coupon","coupons","courses","cpa","cr","credit","creditcard","creditunion","cricket","crown","crs","cruise","cruises","cu","cuisinella","cv","cw","cx","cy","cymru","cyou","cz","dad","dance","data","date","dating","datsun","day","dclk","dds","de","deal","dealer","deals","degree","delivery","dell","deloitte","delta","democrat","dental","dentist","desi","design","dev","dhl","diamonds","diet","digital","direct","directory","discount","discover","dish","diy","dj","dk","dm","dnp","do","docs","doctor","dog","domains","dot","download","drive","dtv","dubai","dunlop","dupont","durban","dvag","dvr","dz","earth","eat","ec","eco","edeka","edu","education","ee","eg","email","emerck","energy","engineer","engineering","enterprises","epson","equipment","er","ericsson","erni","es","esq","estate","et","eu","eurovision","eus","events","exchange","expert","exposed","express","extraspace","fage","fail","fairwinds","faith","family","fan","fans","farm","farmers","fashion","fast","fedex","feedback","ferrari","ferrero","fi","fidelity","fido","film","final","finance","financial","fire","firestone","firmdale","fish","fishing","fit","fitness","fj","fk","flickr","flights","flir","florist","flowers","fly","fm","fo","foo","food","football","ford","forex","forsale","forum","foundation","fox","fr","free","fresenius","frl","frogans","frontier","ftr","fujitsu","fun","fund","furniture","futbol","fyi","ga","gal","gallery","gallo","gallup","game","games","gap","garden","gay","gb","gbiz","gd","gdn","ge","gea","gent","genting","george","gf","gg","ggee","gh","gi","gift","gifts","gives","giving","gl","glass","gle","global","globo","gm","gmail","gmbh","gmo","gmx","gn","godaddy","gold","goldpoint","golf","goo","goodyear","goog","google","gop","got","gov","gp","gq","gr","grainger","graphics","gratis","green","gripe","grocery","group","gs","gt","gu","gucci","guge","guide","guitars","guru","gw","gy","hair","hamburg","hangout","haus","hbo","hdfc","hdfcbank","health","healthcare","help","helsinki","here","hermes","hiphop","hisamitsu","hitachi","hiv","hk","hkt","hm","hn","hockey","holdings","holiday","homedepot","homegoods","homes","homesense","honda","horse","hospital","host","hosting","hot","hotels","hotmail","house","how","hr","hsbc","ht","hu","hughes","hyatt","hyundai","ibm","icbc","ice","icu","id","ie","ieee","ifm","ikano","il","im","imamat","imdb","immo","immobilien","in","inc","industries","infiniti","info","ing","ink","institute","insurance","insure","int","international","intuit","investments","io","ipiranga","iq","ir","irish","is","ismaili","ist","istanbul","it","itau","itv","jaguar","java","jcb","je","jeep","jetzt","jewelry","jio","jll","jm","jmp","jnj","jo","jobs","joburg","jot","joy","jp","jpmorgan","jprs","juegos","juniper","kaufen","kddi","ke","kerryhotels","kerrylogistics","kerryproperties","kfh","kg","kh","ki","kia","kids","kim","kindle","kitchen","kiwi","km","kn","koeln","komatsu","kosher","kp","kpmg","kpn","kr","krd","kred","kuokgroup","kw","ky","kyoto","kz","la","lacaixa","lamborghini","lamer","lancaster","land","landrover","lanxess","lasalle","lat","latino","latrobe","law","lawyer","lb","lc","lds","lease","leclerc","lefrak","legal","lego","lexus","lgbt","li","lidl","life","lifeinsurance","lifestyle","lighting","like","lilly","limited","limo","lincoln","link","lipsy","live","living","lk","llc","llp","loan","loans","locker","locus","lol","london","lotte","lotto","love","lpl","lplfinancial","lr","ls","lt","ltd","ltda","lu","lundbeck","luxe","luxury","lv","ly","ma","madrid","maif","maison","makeup","man","management","mango","map","market","marketing","markets","marriott","marshalls","mattel","mba","mc","mckinsey","md","me","med","media","meet","melbourne","meme","memorial","men","menu","merckmsd","mg","mh","miami","microsoft","mil","mini","mint","mit","mitsubishi","mk","ml","mlb","mls","mm","mma","mn","mo","mobi","mobile","moda","moe","moi","mom","monash","money","monster","mormon","mortgage","moscow","moto","motorcycles","mov","movie","mp","mq","mr","ms","msd","mt","mtn","mtr","mu","museum","music","mv","mw","mx","my","mz","na","nab","nagoya","name","navy","nba","nc","ne","nec","net","netbank","netflix","network","neustar","new","news","next","nextdirect","nexus","nf","nfl","ng","ngo","nhk","ni","nico","nike","nikon","ninja","nissan","nissay","nl","no","nokia","norton","now","nowruz","nowtv","np","nr","nra","nrw","ntt","nu","nyc","nz","obi","observer","office","okinawa","olayan","olayangroup","ollo","om","omega","one","ong","onl","online","ooo","open","oracle","orange","org","organic","origins","osaka","otsuka","ott","ovh","pa","page","panasonic","paris","pars","partners","parts","party","pay","pccw","pe","pet","pf","pfizer","pg","ph","pharmacy","phd","philips","phone","photo","photography","photos","physio","pics","pictet","pictures","pid","pin","ping","pink","pioneer","pizza","pk","pl","place","play","playstation","plumbing","plus","pm","pn","pnc","pohl","poker","politie","porn","post","pr","pramerica","praxi","press","prime","pro","prod","productions","prof","progressive","promo","properties","property","protection","pru","prudential","ps","pt","pub","pw","pwc","py","qa","qpon","quebec","quest","racing","radio","re","read","realestate","realtor","realty","recipes","red","redstone","redumbrella","rehab","reise","reisen","reit","reliance","ren","rent","rentals","repair","report","republican","rest","restaurant","review","reviews","rexroth","rich","richardli","ricoh","ril","rio","rip","ro","rocks","rodeo","rogers","room","rs","rsvp","ru","rugby","ruhr","run","rw","rwe","ryukyu","sa","saarland","safe","safety","sakura","sale","salon","samsclub","samsung","sandvik","sandvikcoromant","sanofi","sap","sarl","sas","save","saxo","sb","sbi","sbs","sc","scb","schaeffler","schmidt","scholarships","school","schule","schwarz","science","scot","sd","se","search","seat","secure","security","seek","select","sener","services","seven","sew","sex","sexy","sfr","sg","sh","shangrila","sharp","shell","shia","shiksha","shoes","shop","shopping","shouji","show","si","silk","sina","singles","site","sj","sk","ski","skin","sky","skype","sl","sling","sm","smart","smile","sn","sncf","so","soccer","social","softbank","software","sohu","solar","solutions","song","sony","soy","spa","space","sport","spot","sr","srl","ss","st","stada","staples","star","statebank","statefarm","stc","stcgroup","stockholm","storage","store","stream","studio","study","style","su","sucks","supplies","supply","support","surf","surgery","suzuki","sv","swatch","swiss","sx","sy","sydney","systems","sz","tab","taipei","talk","taobao","target","tatamotors","tatar","tattoo","tax","taxi","tc","tci","td","tdk","team","tech","technology","tel","temasek","tennis","teva","tf","tg","th","thd","theater","theatre","tiaa","tickets","tienda","tips","tires","tirol","tj","tjmaxx","tjx","tk","tkmaxx","tl","tm","tmall","tn","to","today","tokyo","tools","top","toray","toshiba","total","tours","town","toyota","toys","tr","trade","trading","training","travel","travelers","travelersinsurance","trust","trv","tt","tube","tui","tunes","tushu","tv","tvs","tw","tz","ua","ubank","ubs","ug","uk","unicom","university","uno","uol","ups","us","uy","uz","va","vacations","vana","vanguard","vc","ve","vegas","ventures","verisign","vermögensberater","vermögensberatung","versicherung","vet","vg","vi","viajes","video","vig","viking","villas","vin","vip","virgin","visa","vision","viva","vivo","vlaanderen","vn","vodka","volvo","vote","voting","voto","voyage","vu","wales","walmart","walter","wang","wanggou","watch","watches","weather","weatherchannel","webcam","weber","website","wed","wedding","weibo","weir","wf","whoswho","wien","wiki","williamhill","win","windows","wine","winners","wme","wolterskluwer","woodside","work","works","world","wow","ws","wtc","wtf","xbox","xerox","xihuan","xin","xxx","xyz","yachts","yahoo","yamaxun","yandex","ye","yodobashi","yoga","yokohama","you","youtube","yt","yun","za","zappos","zara","zero","zip","zm","zone","zuerich","zw","ελ","ευ","бг","бел","дети","ею","католик","ком","мкд","мон","москва","онлайн","орг","рус","рф","сайт","срб","укр","қаз","հայ","ישראל","קום","ابوظبي","ارامكو","الاردن","البحرين","الجزائر","السعودية","العليان","المغرب","امارات","ایران","بارت","بازار","بيتك","بھارت","تونس","سودان","سورية","شبكة","عراق","عرب","عمان","فلسطين","قطر","كاثوليك","كوم","مصر","مليسيا","موريتانيا","موقع","همراه","پاکستان","ڀارت","कॉम","नेट","भारत","भारतम्","भारोत","संगठन","বাংলা","ভারত","ভাৰত","ਭਾਰਤ","ભારત","ଭାରତ","இந்தியா","இலங்கை","சிங்கப்பூர்","భారత్","ಭಾರತ","ഭാരതം","ලංකා","คอม","ไทย","ລາວ","გე","みんな","アマゾン","クラウド","グーグル","コム","ストア","セール","ファッション","ポイント","世界","中信","中国","中國","中文网","亚马逊","企业","佛山","信息","健康","八卦","公司","公益","台湾","台灣","商城","商店","商标","嘉里","嘉里大酒店","在线","大拿","天主教","娱乐","家電","广东","微博","慈善","我爱你","手机","招聘","政务","政府","新加坡","新闻","时尚","書籍","机构","淡马锡","游戏","澳門","点看","移动","组织机构","网址","网店","网站","网络","联通","谷歌","购物","通販","集团","電訊盈科","飞利浦","食品","餐厅","香格里拉","香港","닷넷","닷컴","삼성","한국"]'))},736266,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(530658),i=e.i(932200),a=e.i(167626),o=e.i(886513),s=e.i(72746),l=e.i(674310),u=e.i(455971),c=e.i(697731),d=e.i(884737),p=e.i(638086),f=e.i(99906),g=e.i(389959),m=(0,g.createContext)(null),h=(0,g.forwardRef)(function(e,h){e=(N=(0,r._)((0,i.useContextProps)(e,h,m),2))[0],h=N[1];var v,b,_,y,k,w,T,x,I,S,E,A,P,C,D,O,R,M,N,L=e.href&&!e.isDisabled?"a":"span",j=(v=(0,n._)((0,t._)({},e),{elementType:L}),b=h,_=v.elementType,y=v.onPress,k=v.onPressStart,w=v.onPressEnd,T=v.onClick,x=v.isDisabled,I=(0,o._)(v,["elementType","onPress","onPressStart","onPressEnd","onClick","isDisabled"]),S={},"a"!==(void 0===_?"a":_)&&(S={role:"link",tabIndex:x?void 0:0}),E=(0,c.useFocusable)(v,b).focusableProps,P=(A=(0,d.usePress)({onPress:y,onPressStart:k,onPressEnd:w,isDisabled:x,ref:b})).pressProps,C=A.isPressed,D=(0,s.filterDOMProps)(I,{labelable:!0}),O=(0,l.mergeProps)(E,P),R=(0,u.useRouter)(),M=(0,u.useLinkProps)(v),{isPressed:C,linkProps:(0,l.mergeProps)(D,M,(0,n._)((0,t._)({},O,S),{"aria-disabled":x||void 0,"aria-current":v["aria-current"],onClick:function(e){var t;null==(t=P.onClick)||t.call(P,e),T&&(T(e),console.warn("onClick is deprecated, please use onPress")),!R.isNative&&(0,a._)(e.currentTarget,HTMLAnchorElement)&&e.currentTarget.href&&!e.isDefaultPrevented()&&(0,u.shouldClientNavigate)(e.currentTarget,e)&&v.href&&(e.preventDefault(),R.open(e.currentTarget,e,v.href,v.routerOptions))}}))}),z=j.linkProps,F=j.isPressed,U=(0,p.useHover)(e),B=U.hoverProps,q=U.isHovered,V=(0,f.useFocusRing)(),G=V.focusProps,H=V.isFocused,W=V.isFocusVisible,$=(0,i.useRenderProps)((0,n._)((0,t._)({},e),{defaultClassName:"react-aria-Link",values:{isCurrent:!!e["aria-current"],isDisabled:e.isDisabled||!1,isPressed:F,isHovered:q,isFocused:H,isFocusVisible:W}}));return g.default.createElement(L,(0,n._)((0,t._)({ref:h,slot:e.slot||void 0},(0,l.mergeProps)($,z,B,G)),{"data-focused":H||void 0,"data-hovered":q||void 0,"data-pressed":F||void 0,"data-focus-visible":W||void 0,"data-current":!!e["aria-current"]||void 0,"data-disabled":e.isDisabled||void 0}),$.children)});e.s(["Link",()=>h],736266)},495891,e=>{"use strict";var t=e.i(878420),n=e.i(64386),r=e.i(276385),i=e.i(116235);function a(e){return(0,r.jsx)(i.default,(0,n._)((0,t._)({},e),{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M17 13.25a3.75 3.75 0 1 1-3.675 4.5H5a.75.75 0 0 1 0-1.5h8.325c.348-1.712 1.86-3 3.675-3Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5ZM7 3.25a3.751 3.751 0 0 1 3.675 3H19a.75.75 0 0 1 0 1.5h-8.325A3.751 3.751 0 1 1 7 3.25Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z",clipRule:"evenodd"})}))}e.s(["default",()=>a])},46654,e=>{"use strict";var t=e.i(546284),n={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6},r={millisecond:"ms",month:"mo"};function i(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4,o=Math.round,s=" ago",l=function(e,n){if(i){var a=r[n]||n.substring(0,1);return"".concat(e).concat(a)}return"".concat((0,t.default)(n,e,!0)).concat(s)},u=Date.now()-new Date(e).getTime();if(u<0&&(u*=-1,s=" from now"),a&&u<=a)return"now";var c="millisecond";for(var d in n){if(o(u)<n[d])return l(o(u/n[c]),c);c=d}return l(o(u/n.year),"year")}e.s(["ago",()=>i])},97992,(e,t,n)=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},133723,(e,t,n)=>{"use strict";var r=e.r(97992);function i(){}function a(){}a.resetWarningCache=i,t.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},203537,(e,t,n)=>{t.exports=e.r(133723)()},162914,e=>{"use strict";var t=e.i(530658),n=e.i(389959);function r(e,r){var i=(0,t._)((0,n.useState)(e),2),a=i[0],o=i[1];return(0,n.useEffect)(function(){var t=setTimeout(function(){o(e)},r);return function(){clearTimeout(t)}},[e,r]),a}e.s(["default",()=>r])},715463,e=>{"use strict";function t(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}e.s(["default",()=>t])},940879,e=>{"use strict";function t(e,n){return(t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,n)}function n(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,t(e,n)}e.s(["default",()=>n],940879)},37068,e=>{"use strict";var t=e.i(530658),n=e.i(276385),r=e.i(389959),i=e.i(314531),a=e.i(480028),o=function(e){return function(t){return(0,n.jsx)("span",{style:e,children:t})}},s=function(e,t){var i=e.map(function(e,t){return(0,n.jsx)(r.Fragment,{children:e},t)});return(0,n.jsx)("span",{style:t,children:i})},l=function(e){var t=e.source,r=e.match,l=e.matchStyle,u=void 0===l?{fontWeight:500,color:a.tokens.foregroundDefault}:l,c=e.style,d=void 0===c?{color:a.tokens.foregroundDimmest}:c,p=o(u),f=i.default.filter(r,[t],{matchRenderer:p}).map(function(e){return e.elements});return f.length?s(f[0],d):(0,n.jsx)(n.Fragment,{children:t})},u=function(e){var r=e.source,i=e.match;if(!r.toLowerCase().includes(i.toLowerCase()))return(0,n.jsx)(n.Fragment,{children:r});var a=(0,t._)(r.split(RegExp("".concat(i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"(.+)?"),"i")),2),o=a[0],s=a[1];return(0,n.jsx)(n.Fragment,{children:[o,(0,n.jsx)("b",{children:r.substr(o.length,i.length)},i),s]})},c=function(e){var t=e.source,n=e.matches,r=e.matchStyle,i=void 0===r?{fontWeight:500,color:a.tokens.foregroundDefault}:r,l=e.style,u=void 0===l?{color:a.tokens.foregroundDimmest,maxWidth:"100%",wordWrap:"break-word"}:l,c=0,d=[],p=o(i);return n.forEach(function(e){var n=e.column,r=e.length;d.push(t.slice(c,n)),d.push(p(t.slice(n,n+r))),c=n+r}),d.push(t.slice(c)),s(d,u)};e.s(["ExactMatchSubString",()=>u,"FuzzyMatchSubString",()=>l,"HighlightMatches",()=>c])},750936,e=>{"use strict";var t=e.i(878420),n=e.i(569384),r=e.i(973245),i=e.i(304277);function a(){var e=(0,n._)(["\n  fragment ReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n        fullName\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n    templateLabel\n    publishedAs\n  }\n"]);return a=function(){return e},e}function o(){var e=(0,n._)(["\n  query ReplSelector(\n    $search: String!\n    $excludePrivate: Boolean\n    $excludeMultiplayer: Boolean\n  ) {\n    currentUser {\n      id\n      replSearch(\n        search: $search\n        excludePrivate: $excludePrivate\n        excludeMultiplayer: $excludeMultiplayer\n      ) {\n        id\n        ...ReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return o=function(){return e},e}e.i(566901);var s={},l=(0,r.gql)(a()),u=(0,r.gql)(o(),l);function c(e){var n=(0,t._)({},s,e);return i.useQuery(u,n)}e.s(["ReplSelectorReplFragmentDoc",()=>l,"useReplSelectorQuery",()=>c])},364357,e=>{e.v({default:"AgentChatModeDropdown-module__CxHzwa__default",emptyIcon:"AgentChatModeDropdown-module__CxHzwa__emptyIcon",selectButton:"AgentChatModeDropdown-module__CxHzwa__selectButton",toggleComboIcon:"AgentChatModeDropdown-module__CxHzwa__toggleComboIcon"})},971465,709867,e=>{"use strict";var t=e.i(721281),n=e.i(530658),r=e.i(276385),i=e.i(389959),a=e.i(96250),o=e.i(183035),s=e.i(167392),l=e.i(568430),u=e.i(409570),c=e.i(596139);e.i(32109);var d=e.i(926118),p=e.i(384401),f=e.i(262206),g=e.i(82259),m="Build",h="Make, test, iterate",v="Start building immediately",b="Plan",_="Ask questions, plan your work",y="Plan your work before building";function k(e){var n;return e?(n={},(0,t._)(n,g.AgentMode.AGENT_MODE_UNSPECIFIED,"build"),(0,t._)(n,g.AgentMode.AGENT_MODE_GENERAL,"build"),(0,t._)(n,g.AgentMode.AGENT_MODE_DISCUSSION,"plan"),(0,t._)(n,g.AgentMode.AGENT_MODE_INITIAL_PLANNING,"initial-planning"),(0,t._)(n,g.AgentMode.AGENT_MODE_QUICK_EDIT,"quick-edit"),n)[e]:"build"}e.s(["BUILD_MODE_DESCRIPTION_IN_ENTRY_POINT",()=>v,"BUILD_MODE_DESCRIPTION_IN_WS",()=>h,"BUILD_MODE_LABEL",()=>m,"PLAN_MODE_DESCRIPTION_IN_ENTRY_POINT",()=>y,"PLAN_MODE_DESCRIPTION_IN_WS",()=>_,"PLAN_MODE_LABEL",()=>b,"QUICK_EDIT_MODE_DESCRIPTION",()=>"Make lightweight changes, quickly","VISUAL_SELECTOR_PILL_PLACEHOLDER",()=>"Choose from preview","getAgentModeForAnalytics",()=>k],709867);var w=e.i(480028),T=e.i(140487),x=e.i(119274),I=e.i(960178),S=e.i(625484),E=e.i(947108),A=e.i(364357),P={id:"agent.switchMode",name:"Switch Agent mode",description:"Cycle through Agent modes (Build, Plan, Edit)",default:(0,f.defaultKeyCombo)({cmdOrCtrl:!0,key:"i"})};function C(e){var o,d=e.buttonSize,f=void 0===d?"xsmall":d,g=e.buttonVariant,k=e.disabled,w=e.popoverPlacement,C=void 0===w?"top start":w,R=e.chatMode,M=e.onChatModeChange,N=e.onModeSwitchFocusInput,L=e.keyboardShortcutEnabled,j=void 0!==L&&L,z=e.isFreeUser,F=void 0!==z&&z,U=e.isInWorkspace,B=void 0===U||U,q=e.onPlanModeUpsell,V=e.dropdownButtonRef,G=e.onOpenChange,H=(0,n._)((0,i.useState)(!1),2),W=H[0],$=H[1],Y=C.startsWith("top"),K=(0,i.useMemo)(function(){return[{id:"build",label:m,icon:(0,r.jsx)(u.default,{size:16}),description:B?h:v,requiresSubscription:!1},{id:"plan",label:b,icon:(0,r.jsx)(a.default,{size:16}),description:B?_:y,requiresSubscription:!0}]},[B]),Z=null!=(o=K.find(function(e){return e.id===R}))?o:K[0],Q=(0,i.useCallback)(function(e){if(e===R){null==N||N();return}switch(e){case"build":M("build");break;case"plan":if(F){null==q||q();break}M("plan")}null==N||N()},[R,N,M,q,F]),X=(0,i.useCallback)(function(){var e=(K.indexOf(Z)+1)%K.length;Q(K[e].id)},[Q,Z,K]);return(0,p.useCommandBinding)(function(){return j&&!F?[P.id,X]:void 0},[j,F,X]),(0,r.jsx)(x.PopupMenu,{"aria-label":"Modes",isOpen:W,onOpenChange:function(e){$(e),null==G||G(e),e||null==N||N()},placement:C,selectionMode:"single",selectedKeys:[R],header:j&&!F?(0,r.jsxs)(S.View,{row:!0,gap:4,px:4,pb:4,children:[(0,r.jsx)(O,{}),(0,r.jsx)(I.Text,{variant:"small",color:"dimmest",children:"to switch modes"})]}):null,trigger:(0,r.jsx)(T.Button,{ref:V,size:f,clsx:[A.default.selectButton,(0,t._)({},A.default.default,"default"===f)],text:null==Z?void 0:Z.label,iconLeft:null==Z?void 0:Z.icon,iconRight:Y?(0,r.jsx)(l.default,{size:"xsmall"===f?12:void 0}):(0,r.jsx)(s.default,{size:"xsmall"===f?12:void 0}),alignment:"start",disabled:void 0!==k&&k,variant:void 0===g?"default":g}),children:K.map(function(e){return(0,r.jsx)(D,{mode:e,handleModeChange:Q,isSelected:R===e.id,badge:F&&e.requiresSubscription?(0,r.jsx)(E.default,{plan:c.corePlanName,size:"small",variant:"icon-text"}):void 0},e.id)})})}function D(e){var t=e.mode,n=e.handleModeChange,i=e.isSelected,a=e.badge,s=t.icon,l=t.description,u=t.label;return(0,r.jsx)(x.BaseMenuItem,{id:t.id,textValue:t.label,onAction:function(){return n(t.id)},children:(0,r.jsxs)(S.View,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,r.jsxs)(S.View,{row:!0,gap:8,align:"center",children:[s,(0,r.jsx)(I.Text,{children:u}),(0,r.jsx)(I.Text,{color:"dimmest",children:l})]}),(0,r.jsx)(S.View,{children:i?(0,r.jsx)(o.default,{size:16,color:w.tokens.foregroundDimmer}):null!=a?a:(0,r.jsx)(S.View,{clsx:A.default.emptyIcon})})]})},t.id)}function O(){return(0,r.jsx)(d.KeyComboBlocks,{className:A.default.toggleComboIcon,keyCombo:P.default,small:!0,hideBorder:!0})}e.s(["AgentChatModeDropdown",()=>C,"switchAgentModeCommand",()=>P],971465)}]);

//# debugId=2c8548e4-b3cb-ef1f-9a7b-bb7e40fb545c
//# sourceMappingURL=2f6fc225bf398a54.js.map