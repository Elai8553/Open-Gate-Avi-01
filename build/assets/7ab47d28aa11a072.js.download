;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="19e3634c-b78e-2f77-a254-462ea568a793")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,163355,e=>{"use strict";var n=e.i(297083),t=e.i(878420),r=e.i(64386),a=e.i(530658),i=e.i(817556),o=e.i(389959),s=e.i(507491),l=function(e){var l=e.refetch,c=e.onConnectionCreated,u=(0,a._)((0,s.useCreateConnectionMutation)(),1)[0],d=(0,a._)((0,s.useDeleteConnectionMutation)(),1)[0];return{handleDelete:(0,o.useCallback)(function(e){return(0,n._)(function(){return(0,i._)(this,function(n){switch(n.label){case 0:return[4,d({variables:{input:{connectionId:e,orgId:null}},optimisticResponse:{__typename:"RootMutationType",deleteConnection:{__typename:"DeleteConnection",success:!0}},update:function(n){try{var a,i=n.readQuery({query:s.UserConnectorsPageDocument});if((null==i||null==(a=i.currentUser)?void 0:a.__typename)==="CurrentUser"){var o=i.currentUser.connectorContext.connections.filter(function(n){return n.connectionId!==e});n.writeQuery({query:s.UserConnectorsPageDocument,data:{currentUser:(0,r._)((0,t._)({},i.currentUser),{connectorContext:(0,r._)((0,t._)({},i.currentUser.connectorContext),{connections:o})})}})}}catch(e){}}})];case 1:return n.sent(),[4,l()];case 2:return n.sent(),[2]}})})()},[d,l]),handleEvent:(0,o.useCallback)(function(e){return(0,n._)(function(){return(0,i._)(this,function(n){switch(n.label){case 0:if("connect.connection-connected"!==e.name)return[3,3];return[4,u({variables:{input:{connectionId:e.data.connection_id,orgId:null}}})];case 1:return n.sent(),[4,l()];case 2:n.sent(),null==c||c(),n.label=3;case 3:return[2]}})})()},[u,l,c])}};e.s(["usePersonalConnectorMutations",()=>l])},438844,e=>{"use strict";var n=e.i(878420),t=e.i(64386),r=e.i(276385),a=e.i(116235);function i(e){return(0,r.jsxs)(a.default,(0,t._)((0,n._)({},e),{children:[(0,r.jsx)("path",{d:"M13.571 2c.936 0 1.835.366 2.506 1.019a3.43 3.43 0 0 1 1.004 2.95 3.584 3.584 0 0 1 3.007.983l.042.041a3.43 3.43 0 0 1 0 4.917l-7.255 7.114a.23.23 0 0 0 0 .328l1.49 1.462a.686.686 0 0 1 0 .983.72.72 0 0 1-1.003 0l-1.489-1.461a1.603 1.603 0 0 1-.36-1.77c.084-.198.207-.376.36-.525l7.255-7.115a2.06 2.06 0 0 0 0-2.95l-.042-.041a2.157 2.157 0 0 0-3.006-.002l-5.976 5.86-.083.084a.72.72 0 0 1-1.158-.226.687.687 0 0 1 .154-.757l6.06-5.945a2.06 2.06 0 0 0 .62-1.474 2.058 2.058 0 0 0-.622-1.473 2.157 2.157 0 0 0-3.009 0l-8.021 7.866a.719.719 0 0 1-1.156-.224.686.686 0 0 1 .154-.76l8.022-7.865A3.595 3.595 0 0 1 13.57 2Z"}),(0,r.jsx)("path",{d:"M13.571 4.781a.72.72 0 0 1 .502.204.686.686 0 0 1 0 .984L8.14 11.786a2.061 2.061 0 0 0-.461 2.277c.107.253.264.482.46.673a2.157 2.157 0 0 0 3.009 0l5.932-5.818a.72.72 0 0 1 1.157.226.686.686 0 0 1-.153.757L12.15 15.72a3.596 3.596 0 0 1-5.013 0 3.43 3.43 0 0 1 0-4.916l5.932-5.819a.72.72 0 0 1 .502-.204Z"})]}))}e.s(["default",()=>i])},109900,e=>{"use strict";var n=e.i(346715),t=e.i(276385),r=e.i(878420),a=e.i(569384),i=e.i(973245),o=e.i(304277);e.i(566901);var s=e.i(520112);function l(){var e=(0,a._)(["\n  query GitProvidersSection {\n    currentUser {\n      ... on CurrentUser {\n        id\n        connectorContext {\n          __typename\n          ...ConnectorContext\n          ... on Error {\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var c={},u=(0,i.gql)(l(),s.ConnectorContextFragmentDoc),d=e.i(64386),p=e.i(116235);function h(e){return(0,t.jsx)(p.default,(0,d._)((0,r._)({},e),{children:(0,t.jsx)("path",{d:"M22.495 11.02 12.93 1.415a1.41 1.41 0 0 0-1.538-.307 1.41 1.41 0 0 0-.457.307L8.948 3.409l2.52 2.531a1.667 1.667 0 0 1 1.724.403 1.687 1.687 0 0 1 .398 1.741l2.428 2.44a1.667 1.667 0 0 1 1.734.4 1.686 1.686 0 0 1 0 2.383 1.676 1.676 0 0 1-1.83.366 1.677 1.677 0 0 1-1.003-1.227 1.694 1.694 0 0 1 .093-.972L12.747 9.2v5.985a1.677 1.677 0 0 1 .936 1.51c0 .448-.176.877-.491 1.193a1.674 1.674 0 0 1-2.738-.547 1.69 1.69 0 0 1 .913-2.205v-6.04a1.69 1.69 0 0 1-.912-2.211L7.973 4.388l-6.559 6.586a1.417 1.417 0 0 0-.306 1.545c.071.172.175.328.306.46l9.566 9.605a1.41 1.41 0 0 0 1.995 0l9.52-9.56a1.42 1.42 0 0 0 0-2.005Z"})}))}var m=e.i(917063),v=e.i(163355),x=e.i(993796),f=e.i(882793),C=e.i(960178),g=e.i(625484),y=[],j=function(e){var a,i,s,l,d,p=e.query,j=e.onOpenGitPane,w=(0,x.useFlag)({controlName:"flag-github-connection-migration"}),_=(a={ssr:!1},i=(0,r._)({},c,a),o.useQuery(u,i)),b=_.data,k=_.refetch,P=(0,v.usePersonalConnectorMutations)({refetch:k}),T=P.handleDelete,S=P.handleEvent;if(!w)return null;var M=(0,n._)(f.VERSION_CONTROL_CONNECTORS),V=(null==b||null==(s=b.currentUser)?void 0:s.__typename)==="CurrentUser"?b.currentUser.connectorContext:null,L=(null==V?void 0:V.__typename)==="CurrentUserConnectorContext"?V.openIntClientToken:null,R=(null==V?void 0:V.__typename)==="CurrentUserConnectorContext"&&null!=(l=V.connections)?l:y,U=(null==V?void 0:V.__typename)==="CurrentUserConnectorContext"&&null!=(d=V.connectorConfigs)?d:y;return L?(0,t.jsxs)(g.View,{gap:8,children:[(0,t.jsxs)(g.View,{gap:4,children:[(0,t.jsxs)(g.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(h,{size:24}),(0,t.jsx)(C.Header,{level:2,variant:"subheadBig",children:"Git Providers"})]}),(0,t.jsxs)(C.Text,{color:"dimmer",children:["Connect your git provider to push, pull, and sync code via the"," ",j?(0,t.jsx)("a",{href:"",onClick:function(e){e.preventDefault(),j()},children:"Git pane"}):"Git pane",". Not accessible to Replit Agent."]})]}),(0,t.jsx)(m.ConnectorsShared,{token:L,connectorConfigs:U,connections:R,onDelete:T,onEvent:S,query:p,shouldShowConnectButton:!1,whitelist:M})]}):null};e.s(["GitProvidersSection",()=>j],109900)},24290,e=>{"use strict";var n=e.i(276385),t=e.i(389959),r=e.i(415756),a=e.i(252204),i=e.i(858248),o=e.i(709485),s=e.i(882793),l=e.i(140487),c=e.i(91720),u=e.i(734582),d=e.i(272119),p=e.i(423828),h=e.i(960178),m=e.i(625484),v=function(e){var v=e.query,x=e.openPane,f=(0,t.useMemo)(function(){return new r.Fzf(s.REPLIT_MANAGED_SERVICES,{fuzzy:!1,selector:function(e){return"".concat(e.name," ").concat(e.type)}})},[]),C=(0,t.useMemo)(function(){return v?f.find(v).map(function(e){return e.item}):s.REPLIT_MANAGED_SERVICES},[f,v]);return(0,n.jsx)(u.IndexTable,{autoLayout:!1,title:"",columns:[{key:"name",label:"Name",allowSorting:!1,width:200,isRowHeader:!0},{key:"type",label:"Type",allowSorting:!1,minWidth:118},{key:"actions",label:"",allowSorting:!1,width:118}],items:C,children:function(e){return(0,n.jsxs)(p.TableRow,{id:e.id,children:[(0,n.jsx)(d.TableCell,{children:(0,n.jsxs)(m.View,{gap:8,row:!0,align:"center",children:[e.icon,(0,n.jsx)(h.Text,{translate:"no",children:e.name})]})},"name"),(0,n.jsx)(d.TableCell,{children:(0,n.jsx)(h.Text,{color:"dimmer",children:e.type})},"type"),(0,n.jsx)(d.TableCell,{children:(0,n.jsx)(m.View,{row:!0,justify:"end",children:x?(0,n.jsx)(l.Button,{iconLeft:(0,n.jsx)(a.default,{size:12}),text:"Open",onClick:function(){(0,i.track)(o.events.REPLIT_MANAGED_SERVICE_CLICKED,{serviceName:e.name,serviceType:e.type,actionType:"open",source:"workspace"}),x(e.pane)},size:"small"}):(0,n.jsx)(c.ButtonLink,{href:e.link,iconLeft:(0,n.jsx)(a.default,{size:12}),text:"Learn more",size:"small",target:"_blank",onClick:function(){(0,i.track)(o.events.REPLIT_MANAGED_SERVICE_CLICKED,{serviceName:e.name,serviceType:e.type,actionType:"learn_more",source:"external"})}})})},"actions")]},e.id)}})};e.s(["ReplitManagedTable",()=>v])},344782,e=>{"use strict";var n=e.i(530658),t=e.i(276385),r=e.i(87995),a=e.i(389959),i=e.i(878420),o=e.i(569384),s=e.i(973245),l=e.i(304277);e.i(566901);var c=e.i(520112);function u(){var e=(0,o._)(["\n  query McpServersSection {\n    currentUser {\n      ... on CurrentUser {\n        id\n        connectorContext {\n          __typename\n          ...ConnectorContext\n          ... on Error {\n            message\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return u=function(){return e},e}var d={},p=(0,s.gql)(u(),c.ConnectorContextFragmentDoc),h=e.i(252204),m=e.i(438844),v=e.i(40916),x=e.i(917063),f=e.i(882793),C=e.i(297083),g=e.i(346715),y=e.i(817556),j=e.i(951262);function w(){var e=(0,o._)(['\n  query CustomMcpConnectorInfo {\n    getUserConnectorByName(connectorName: "custom-mcp") {\n      ... on UserConnector {\n        type\n        name\n        connectionSettings\n      }\n    }\n  }\n']);return w=function(){return e},e}function _(){var e=(0,o._)(["\n  mutation CreateCustomMcpConnection($input: CreateApiKeyConnectionInput!) {\n    createApiKeyConnection(input: $input) {\n      ... on CreateApiKeyConnectionResult {\n        connectionId\n      }\n      ... on UserError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return _=function(){return e},e}var b={},k=(0,s.gql)(w()),P=(0,s.gql)(_()),T=e.i(491194),S=e.i(416298),M=e.i(993796),V=e.i(322823),L=e.i(222342),R=e.i(858248),U=e.i(709485),N=e.i(613355),O=e.i(140487),E=e.i(136540),I=e.i(607278),A=e.i(818503),D=e.i(739521),q=e.i(624782),B=e.i(396776),F=e.i(960178),z=e.i(625484),H=[N.rcss.color.accentNegativeDefault],G=[N.rcss.color.orangeDefault],K=function(e){return e.trim()?null:{message:"Please enter a display name for this MCP server",severity:"error"}},W=function(e){if(!e.trim())return{message:"Please enter an MCP server URL",severity:"error"};try{var n=new URL(e);if("https:"!==n.protocol)return{message:"MCP server URL must use HTTPS for security",severity:"error"}}catch(e){return{message:"Please enter a valid URL",severity:"error"}}return null},Q=function(e){if(e.filter(function(e){return""!==e.key.trim()&&""===e.value.trim()||""===e.key.trim()&&""!==e.value.trim()}).length>0)return{message:"Please provide both name and value for all headers or remove them",severity:"error"};var n=new Set,t=new Set;return(e.forEach(function(e){var r=e.key.trim().toLowerCase();r&&t.has(r)&&n.add(e.key.trim()),r&&t.add(r)}),n.size>0)?{message:"Duplicate header keys found: ".concat(Array.from(n).join(", ")),severity:"warning"}:null};function Z(e){var n=e.token,r=e.onConnectionCreated,a=e.isOpen,i=e.onRequestClose,o=e.onSuccess,s=e.initialParams;return(0,M.useFlag)({controlName:"flag-use-openint-custommcp-modal"})&&n?(0,t.jsx)(X,{isOpen:a,onRequestClose:i,onSuccess:o,token:n,onConnectionCreated:r,initialParams:s}):(0,t.jsx)(Y,{isOpen:a,onRequestClose:i,onSuccess:o,initialParams:s})}function X(e){var n,r=e.isOpen,i=e.onRequestClose,o=e.onSuccess,s=e.token,l=e.onConnectionCreated,c=e.initialParams,u=(0,a.useCallback)(function(e,n){e||(i(),"authenticated"===n&&(null==o||o()))},[i,o]),d=(0,a.useCallback)(function(e){return(0,C._)(function(){var n,t;return(0,y._)(this,function(r){switch(r.label){case 0:if("connect.connection-connected"===e.name&&(0,R.track)(U.events.CUSTOM_MCP_CONNECTION_CREATED,{displayName:null!=(n=null==c?void 0:c.displayName)?n:"",hasCustomHeaders:(null!=(t=null==c?void 0:c.headers)?t:[]).length>0}),!l)return[3,2];return[4,l(e)];case 1:r.sent(),r.label=2;case 2:return[2]}})})()},[l,c]),p=c?{custom_mcp:{display_name:c.displayName,base_url:c.baseUrl,headers:null==(n=c.headers)?void 0:n.map(function(e){return{key:e.key,value:e.value}})}}:null;return(0,t.jsx)(x.AddIntegrationModal,{isOpen:r,setIsOpen:u,token:s,selectedConnector:"CUSTOM_MCP",onEvent:d,prefill:p})}function Y(e){var r,o,s,c,u,d,p,h=e.isOpen,m=e.onRequestClose,x=e.onSuccess,f=e.initialParams,w=(0,V.useFormField)(null!=(u=null==f?void 0:f.displayName)?u:"",K),_=(0,V.useFormField)(null!=(d=null==f?void 0:f.baseUrl)?d:"",W),M=(0,V.useFormField)(null!=(p=null==f?void 0:f.headers)?p:[],Q),R=(0,n._)((0,a.useState)(null),2),U=R[0],N=R[1],Z=(0,L.default)().showConfirm,X=(r={skip:!h},o=(0,i._)({},b,r),l.useQuery(k,o)).loading,Y=(0,n._)((s={onCompleted:function(e){"CreateApiKeyConnectionResult"===e.createApiKeyConnection.__typename?(Z("Custom MCP server added successfully!"),et(),null==x||x()):N(e.createApiKeyConnection.message)},onError:function(e){N(e.message)}},c=(0,i._)({},b,s),j.useMutation(P,c)),2),$=Y[0],J=Y[1].loading,ee=function(e){M.setValue(M.value.filter(function(n,t){return t!==e}))},en=function(e,n,t){var r=(0,g._)(M.value);r[e][n]=t,M.setValue(r)},et=function(){w.setValue("",{preventTouch:!0,preventValidation:!0}),_.setValue("",{preventTouch:!0,preventValidation:!0}),M.setValue([],{preventTouch:!0,preventValidation:!0}),w.setTouched(!1),_.setTouched(!1),M.setTouched(!1),N(null),m()},er=J||X||!!w.error||!!_.error||!!M.error;return(0,t.jsx)(D.Modal,{isOpen:h,onRequestClose:et,centered:!0,maxWidth:600,preventClose:J,children:(0,t.jsxs)(z.View,{gap:24,p:16,children:[(0,t.jsxs)(z.View,{gap:8,children:[(0,t.jsxs)(z.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(F.Header,{level:2,variant:"headerDefault",children:"Add Custom MCP Server"}),(0,t.jsx)(q.Pill,{text:"Beta",colorway:"primary"})]}),(0,t.jsx)(F.Text,{color:"dimmer",children:"Connect to any MCP server by providing the URL and authentication headers."})]}),(0,t.jsxs)(z.View,{gap:20,children:[(0,t.jsxs)(z.View,{gap:4,children:[(0,t.jsx)(A.Label,{variant:"text",htmlFor:"mcp-display-name",children:"Display Name *"}),(0,t.jsx)(I.Input,{id:"mcp-display-name",placeholder:"My MCP Server",value:w.value,onChange:function(e){return w.setValue(e.target.value,{preventValidation:!0})},onBlur:w.handleBlur,disabled:J}),w.error?(0,t.jsx)(F.Text,{css:H,variant:"small",children:w.error.message}):(0,t.jsx)(F.Text,{color:"dimmer",variant:"small",children:"A name to identify this MCP server"})]}),(0,t.jsxs)(z.View,{gap:4,children:[(0,t.jsx)(A.Label,{variant:"text",htmlFor:"mcp-base-url",children:"MCP Server URL *"}),(0,t.jsx)(I.Input,{id:"mcp-base-url",placeholder:"https://mcp.example.com",value:_.value,onChange:function(e){return _.setValue(e.target.value,{preventValidation:!0})},onBlur:_.handleBlur,disabled:J}),_.error?(0,t.jsx)(F.Text,{css:H,variant:"small",children:_.error.message}):(0,t.jsx)(F.Text,{color:"dimmer",variant:"small",children:"The base URL of your MCP server"})]}),(0,t.jsxs)(z.View,{gap:8,children:[(0,t.jsxs)(z.View,{row:!0,align:"center",justify:"space-between",children:[(0,t.jsx)(A.Label,{variant:"text",children:"Custom Headers"}),(0,t.jsx)(O.Button,{text:"Add Header",variant:"outlined",size:"small",iconLeft:(0,t.jsx)(v.default,{}),onClick:function(){M.setValue((0,g._)(M.value).concat([{key:"",value:""}]))},disabled:J})]}),M.value.map(function(e,n){return(0,t.jsx)(z.View,{gap:8,children:(0,t.jsxs)(z.View,{row:!0,gap:8,align:"end",children:[(0,t.jsxs)(z.View,{gap:4,style:{flex:1},children:[(0,t.jsx)(A.Label,{variant:"text",htmlFor:"header-key-".concat(n),children:"Name"}),(0,t.jsx)(I.Input,{id:"header-key-".concat(n),placeholder:"X-Custom-Header",value:e.key,onChange:function(e){return en(n,"key",e.target.value)},disabled:J})]}),(0,t.jsxs)(z.View,{gap:4,style:{flex:2},children:[(0,t.jsx)(A.Label,{variant:"text",htmlFor:"header-value-".concat(n),children:"Value"}),(0,t.jsx)(I.Input,{id:"header-value-".concat(n),type:"authorization"===e.key.toLowerCase()?"password":"text",placeholder:"authorization"===e.key.toLowerCase()?"Bearer your-token-here":"Header Value",value:e.value,onChange:function(e){return en(n,"value",e.target.value)},disabled:J})]}),(0,t.jsx)(E.IconButton,{alt:"Remove header",onClick:function(){return ee(n)},disabled:J,children:(0,t.jsx)(T.default,{})})]})},n)}),M.error?(0,t.jsx)(F.Text,{css:H,variant:"small",children:M.error.message}):null,!M.error&&M.warning?(0,t.jsx)(F.Text,{css:G,variant:"small",children:M.warning.message}):null,M.error||M.warning?null:(0,t.jsx)(F.Text,{color:"dimmer",variant:"small",children:"Add headers for authentication (e.g., Authorization, X-API-Key)"})]}),U?(0,t.jsx)(B.StatusBanner,{text:U,colorway:"negative",icon:(0,t.jsx)(S.default,{})}):null]}),(0,t.jsxs)(z.View,{row:!0,gap:12,justify:"end",children:[(0,t.jsx)(O.Button,{variant:"outlined",text:"Cancel",onClick:et,disabled:J}),(0,t.jsx)(O.Button,{text:J?"Saving...":"Save",colorway:"primary",onClick:function(){return(0,C._)(function(){var e,n,t;return(0,y._)(this,function(r){switch(r.label){case 0:return N(null),[4,w.validate()];case 1:return e=r.sent(),[4,_.validate()];case 2:return n=r.sent(),[4,M.validate()];case 3:if(t=r.sent(),e||n||t)return[2];return[4,$({variables:{input:{connectorName:"CUSTOM_MCP",config:{base_url:_.value,headers:M.value.filter(function(e){return""!==e.key.trim()&&""!==e.value.trim()}).map(function(e){return{key:e.key.trim(),value:e.value.trim()}})},displayName:w.value.trim()}}})];case 4:return r.sent(),[2]}})})()},disabled:er,loading:J})]})]})})}var $=e.i(886513),J=e.i(485273),ee=e.i(960933),en=e.i(862927),et=ee.Type.Object({key:ee.Type.String({minLength:1}),value:ee.Type.String()}),er=ee.Type.Object({displayName:ee.Type.String({minLength:1,maxLength:1e3}),baseUrl:ee.Type.String({minLength:1}),headers:ee.Type.Optional(ee.Type.Array(et,{maxItems:20}))});function ea(e){var n="string"==typeof e.mcp?e.mcp:null;if(!n)return null;try{var t=atob(n),r=JSON.parse(t);if(!en.Value.Check(er,r))return null;var a=new URL(r.baseUrl);if("https:"!==a.protocol)return null;return{displayName:r.displayName,baseUrl:r.baseUrl,headers:r.headers||[]}}catch(e){return null}}var ei=e.i(163355),eo=e.i(167626),es=e.i(183035),el=e.i(734882);function ec(e){var r=e.isOpen,o=e.onRequestClose,s=(0,n._)((0,a.useState)(""),2),l=s[0],c=s[1],u=(0,n._)((0,a.useState)(""),2),d=u[0],p=u[1],h=(0,n._)((0,a.useState)(""),2),m=h[0],v=h[1],x=(0,n._)((0,a.useState)(""),2),f=x[0],g=x[1],j=(0,n._)((0,a.useState)(!1),2),w=j[0],_=j[1],b=(0,n._)((0,a.useState)(null),2),k=b[0],P=b[1],T=function(){c(""),p(""),v(""),g(""),P(null)},M=function(){w||(T(),o())},V=!l||!m||w;return(0,t.jsx)(D.Modal,{isOpen:r,onRequestClose:M,centered:!0,maxWidth:600,preventClose:w,children:(0,t.jsxs)(z.View,{gap:24,p:16,children:[(0,t.jsxs)(z.View,{gap:8,children:[(0,t.jsx)(F.Header,{level:2,variant:"headerDefault",children:"MCP server interest"}),(0,t.jsx)(F.Text,{color:"dimmer",children:"Help us understand what you'd like to do with MCP servers in Replit. Your feedback will guide our MCP integration roadmap."})]}),(0,t.jsxs)(z.View,{gap:20,children:[(0,t.jsxs)(z.View,{gap:4,children:[(0,t.jsx)(A.Label,{variant:"text",children:"How do you prefer to set up MCP servers? *"}),(0,t.jsx)(el.RadioGroup,{name:"setup-preference",value:l,onChange:function(e){return c(e.target.value)},disabled:w,children:(0,t.jsxs)(z.View,{gap:8,children:[(0,t.jsxs)(z.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(el.Radio,{id:"setup-preconfigured",value:"preconfigured",disabled:w}),(0,t.jsx)(A.Label,{htmlFor:"setup-preconfigured",children:"Pre-configured servers (just click to enable)"})]}),(0,t.jsxs)(z.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(el.Radio,{id:"setup-remote",value:"remote",disabled:w}),(0,t.jsx)(A.Label,{htmlFor:"setup-remote",children:"Custom remote servers (provide URL/endpoint)"})]}),(0,t.jsxs)(z.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(el.Radio,{id:"setup-local",value:"local",disabled:w}),(0,t.jsx)(A.Label,{htmlFor:"setup-local",children:"Local servers (run in my App)"})]}),(0,t.jsxs)(z.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(el.Radio,{id:"setup-unsure",value:"unsure",disabled:w}),(0,t.jsx)(A.Label,{htmlFor:"setup-unsure",children:"Not sure yet"})]})]})})]}),(0,t.jsxs)(z.View,{gap:4,children:[(0,t.jsx)(A.Label,{variant:"text",htmlFor:"specific-servers",children:"What specific MCP servers would you like to use?"}),(0,t.jsx)(I.Input,{placeholder:"e.g. Miro, Notion, Obsidian, etc.",id:"specific-servers",value:d,onChange:function(e){return p(e.target.value)},disabled:w,maxLength:200}),(0,t.jsxs)(F.Text,{color:"dimmer",variant:"small",children:[d.length,"/200 characters"]})]}),(0,t.jsxs)(z.View,{gap:4,children:[(0,t.jsx)(A.Label,{variant:"text",children:"What's your comfort level with MCP configuration? *"}),(0,t.jsx)(el.RadioGroup,{name:"comfort-level",value:m,onChange:function(e){return v(e.target.value)},disabled:w,children:(0,t.jsxs)(z.View,{gap:8,children:[(0,t.jsxs)(z.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(el.Radio,{id:"comfort-very",value:"very-comfortable",disabled:w}),(0,t.jsx)(A.Label,{htmlFor:"comfort-very",children:"I can write custom configuration files"})]}),(0,t.jsxs)(z.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(el.Radio,{id:"comfort-not-very",value:"not-very-comfortable",disabled:w}),(0,t.jsx)(A.Label,{htmlFor:"comfort-not-very",children:"I need guided setup"})]}),(0,t.jsxs)(z.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(el.Radio,{id:"comfort-no-experience",value:"no-experience",disabled:w}),(0,t.jsx)(A.Label,{htmlFor:"comfort-no-experience",children:"No experience with MCP yet"})]})]})})]}),(0,t.jsxs)(z.View,{gap:4,children:[(0,t.jsx)(A.Label,{variant:"text",htmlFor:"additional-feedback",children:"Any other feedback or feature requests?"}),(0,t.jsx)(I.MultiLineInput,{id:"additional-feedback",value:f,onChange:function(e){return g(e.target.value)},disabled:w,rows:3,maxLength:500}),(0,t.jsxs)(F.Text,{color:"dimmer",variant:"small",children:[f.length,"/500 characters"]})]})]}),(0,t.jsxs)(z.View,{gap:12,children:[k?(0,t.jsx)(B.StatusBanner,{text:k.text,colorway:"success"===k.type?"positive":"negative",icon:"success"===k.type?(0,t.jsx)(es.default,{}):(0,t.jsx)(S.default,{})}):null,(0,t.jsxs)(z.View,{row:!0,gap:12,justify:"end",children:[(0,t.jsx)(O.Button,{variant:"outlined",text:"Cancel",onClick:M,disabled:w}),(0,t.jsx)(O.Button,{text:"Submit feedback",colorway:"primary",onClick:function(){return(0,C._)(function(){var e;return(0,y._)(this,function(n){switch(n.label){case 0:if(!l||!m)return P({type:"error",text:"Please answer all required questions."}),[2];_(!0),P(null),n.label=1;case 1:return n.trys.push([1,3,4,5]),(0,R.track)(U.events.MCP_INTEREST_SUBMITTED,(0,i._)({setupPreference:l,comfortLevel:m},d.trim()&&{specificServers:d.trim()},f.trim()&&{additionalFeedback:f.trim()})),P({type:"success",text:"Thank you for your feedback! We'll use this to improve our MCP support."}),[4,new Promise(function(e){return setTimeout(e,2e3)})];case 2:return n.sent(),o(),T(),[3,5];case 3:return e=n.sent(),P({type:"error",text:(0,eo._)(e,Error)?e.message:"Failed to submit your feedback. Please try again."}),[3,5];case 4:return _(!1),[7];case 5:return[2]}})})()},disabled:V,loading:w})]})]})]})})}var eu=e.i(968783),ed=e.i(325990),ep=e.i(91720),eh=[],em=function(e){var o,s,c,u,C,g,y,j,w,_,b,k,P=e.query,T=(0,n._)((0,a.useState)(!1),2),S=T[0],V=T[1],L=(0,n._)((0,a.useState)(!1),2),N=L[0],E=L[1],I=(o={ssr:!1},s=(0,i._)({},d,o),l.useQuery(p,s)),A=I.data,D=I.refetch,H=(0,ei.usePersonalConnectorMutations)({refetch:D}),G=H.handleDelete,K=H.handleEvent,W=(0,eu.useCurrentUserStoredOrgContext)().orgId,Q=(0,M.useFlag)({controlName:"flag-custom-mcp-servers"}),X=(0,ed.useOrgFlag)({controlName:"flag-org-custom-mcp-servers"}),Y=W?X:Q,ee=(0,a.useMemo)(function(){return Array.from(f.MCP_CONNECTORS).filter(function(e){return"CUSTOM_MCP"!==e||Y})},[Y]),en=(c=(0,J.useRouter)(),C=(u=(0,n._)((0,a.useState)(!1),2))[0],g=u[1],j=(y=(0,n._)((0,a.useState)(!1),2))[0],w=y[1],(0,a.useEffect)(function(){j||N||ea(c.query)&&(g(!0),w(!0))},[N,j,c.query]),{shouldAutoOpen:C,getDeeplinkParams:function(){return ea(c.query)},clearDeeplinkParams:function(){var e=c.query,n=(e.mcp,(0,$._)(e,["mcp"]));c.replace({pathname:c.pathname,query:n},void 0,{shallow:!0}),g(!1)}}),et=en.shouldAutoOpen,er=en.getDeeplinkParams,eo=en.clearDeeplinkParams;(0,a.useEffect)(function(){et&&Y&&!N&&(E(!0),(0,R.track)(U.events.CUSTOM_MCP_MODAL_OPENED,{source:"deeplink"}))},[et,N,Y]);var es=er(),el=(null==A||null==(_=A.currentUser)?void 0:_.__typename)==="CurrentUser"?A.currentUser.connectorContext:null,em=(null==el?void 0:el.__typename)==="CurrentUserConnectorContext"?el.openIntClientToken:null,ev=(null==el?void 0:el.__typename)==="CurrentUserConnectorContext"?(null!=(b=el.connections)?b:eh).filter(function(e){return f.MCP_CONNECTORS.has(e.connectorName)}):eh,ex=(null==el?void 0:el.__typename)==="CurrentUserConnectorContext"?(null!=(k=el.connectorConfigs)?k:eh).filter(function(e){return e.connectorName&&f.MCP_CONNECTORS.has(e.connectorName)}):eh;return em?(0,t.jsxs)(z.View,{gap:8,children:[(0,t.jsxs)(z.View,{gap:4,children:[(0,t.jsxs)(z.View,{row:!0,gap:8,align:"center",justify:"space-between",children:[(0,t.jsxs)(z.View,{row:!0,gap:8,align:"center",children:[(0,t.jsx)(m.default,{size:24}),(0,t.jsx)(F.Header,{level:2,variant:"subheadBig",children:"MCP Servers for Replit Agent"}),(0,t.jsx)(q.Pill,{text:"Beta",colorway:"primary"})]}),Y?(0,t.jsxs)(z.View,{row:!0,gap:8,children:[(0,t.jsx)(ep.ButtonLink,{text:"Learn more",iconRight:(0,t.jsx)(h.default,{}),href:"https://docs.replit.com/replitai/mcp/custom-servers",target:"_blank"}),(0,t.jsx)(O.Button,{text:"Add MCP server",variant:"outlined",iconLeft:(0,t.jsx)(v.default,{}),onClick:function(){E(!0),(0,R.track)(U.events.CUSTOM_MCP_MODAL_OPENED,{source:"button"})}})]}):null]}),(0,t.jsxs)(F.Text,{color:"dimmer",children:["Provide external context and tools to Replit Agent by connecting to"," ",(0,t.jsx)(r.default,{href:"https://modelcontextprotocol.io/",target:"_blank",children:"MCP servers"}),"."]})]}),(0,t.jsx)(x.ConnectorsShared,{token:em,connectorConfigs:ex,connections:ev,onDelete:G,onEvent:K,query:P,shouldShowConnectButton:!1,whitelist:ee}),(0,t.jsx)(z.View,{pt:12,children:(0,t.jsx)(B.StatusBanner,{title:"Help us expand MCP support",text:"Tell us which MCP servers would be most useful for your workflows. Your feedback will help shape what we build next.",action:(0,t.jsx)(O.Button,{text:"Share feedback",variant:"outlined",size:"small",onClick:function(){return V(!0)}})})}),(0,t.jsx)(ec,{isOpen:S,onRequestClose:function(){return V(!1)}}),Y?(0,t.jsx)(Z,{isOpen:N,onRequestClose:function(){E(!1),eo()},onSuccess:D,initialParams:es,token:em,onConnectionCreated:K}):null]}):null};e.s(["McpServersSection",()=>em],344782)}]);

//# debugId=19e3634c-b78e-2f77-a254-462ea568a793
//# sourceMappingURL=fe5ef69f8da4a890.js.map