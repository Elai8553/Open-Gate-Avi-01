;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="4fb83fd7-3d1f-e798-3760-6081b971175f")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,487824,e=>{"use strict";var t=e.i(193060);e.i(240913);var r=e.i(968069);function n(e){return".breakpoints"===e.toString()||".cache"===e.toString()||(0,t.isDescendantOf)((0,t.toRelativeFsPath)(".cache"),e)||".local"===e.toString()||(0,t.isDescendantOf)((0,t.toRelativeFsPath)(".local"),e)}function i(e){return r.configFiles.includes(e.toString())}function o(e,r){if(!r)return!1;var n=(0,t.splitFsPaths)(e).slice(1),i=!0,o=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var s=l.value,c=!0,f=!1,d=void 0;try{for(var p,h=n[Symbol.iterator]();!(c=(p=h.next()).done);c=!0)if(p.value.toString().match(s))return!0}catch(e){f=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw d}}}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return!1}e.s(["isConfigFile",()=>i,"isPathBreakpointsOrNixCache",()=>n,"isPathHiddenByDotReplit",()=>o])},1736,406393,e=>{"use strict";var t=e.i(389959);e.i(694906);var r=e.i(55449),n=e.i(487824),i=e.i(530658),o=e.i(960933),a=e.i(862927);e.i(312917);var l=e.i(619319),u=e.i(641326),s=e.i(207237),c=e.i(125674),f=e.i(282453),d=o.Type.Array(o.Type.String()),p=function(e){return"repl:hiddenFiles:"+e},h=function(e){var t=f.default.get(p(e));return a.Value.Check(d,t)?t:null},v=function(e,t){f.default.set(p(e),t)},m=function(e){var r=(0,s.default)(),n=(0,i._)((0,t.useState)(function(){return h(r)}),2),o=n[0],a=n[1];return(0,t.useEffect)(function(){return e.watch(function(e){var t=function(e){v(r,e),a(e)};if(e.error){e.error===u.DotReplitErrors.NotFound&&t([]);return}t(e.config.hidden?e.config.hidden:[])})},[e,r]),o},y=function(e){var t=m(e);return(0,c.default)(function(){return null===t?null:t.map(function(e){return(0,l.globToRegExp)(e)||e})},[t])};e.s(["useHiddenFiles",()=>y,"useHiddenFilesGlobPatterns",()=>m],406393);var g=e.i(529810);e.i(545082);var w=e.i(423111),x=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=y((0,g.default)().dotReplit),o=(0,w.useAreHiddenFilesVisible)();return(0,t.useCallback)(function(t){return!!(0,n.isPathBreakpointsOrNixCache)(t)||!!e&&!o&&((0,n.isConfigFile)(t)||(0,r.isHiddenFile)(t)||(0,r.isDotFile)(t)||(0,n.isPathHiddenByDotReplit)(t,i))},[o,i,e])};e.s(["useShouldHideFileInWorkspace",()=>x],1736)},803640,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function o(e){return(0,n.jsx)(i.default,(0,r._)((0,t._)({},e),{children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M20.593 10.91a1.25 1.25 0 0 1 0 2.18l-14.48 8.145a1.25 1.25 0 0 1-1.863-1.09V3.855a1.25 1.25 0 0 1 1.863-1.09l14.48 8.146Z",clipRule:"evenodd"})}))}e.s(["default",()=>o])},759130,214007,e=>{"use strict";var t=e.i(530658),r=e.i(119468),n=e.i(399119),i=e.i(904851),o=e.i(721281),a=e.i(445789),l=e.i(463348),u=function(e){function r(e,a){(0,i._)(this,r);var l,u,s,c,f=(0,t._)((l=a.toml,u=a.ptr,[(s=l.slice(0,u).split(/\r\n|\n|\r/g)).length,s.pop().length+1]),2),d=f[0],p=f[1],h=function(e,t,r){for(var n=e.split(/\r\n|\n|\r/g),i="",o=(0|Math.log10(t+1))+1,a=t-1;a<=t+1;a++){var l=n[a-1];l&&(i+=a.toString().padEnd(o," "),i+=":  ",i+=l,i+="\n",a===t&&(i+=" ".repeat(o+r+2),i+="^\n"))}return i}(a.toml,d,p);return c=(0,n._)(this,r,["Invalid TOML document: ".concat(e,"\n\n").concat(h),a]),(0,o._)(c,"line",void 0),(0,o._)(c,"column",void 0),(0,o._)(c,"codeblock",void 0),c.line=d,c.column=p,c.codeblock=h,c}return(0,a._)(r,e),r}((0,l._)(Error));function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=e.indexOf("\n",t);return"\r"===e[n-1]&&n--,n<=r?n:-1}function c(e,t){for(var r=t;r<e.length;r++){var n=e[r];if("\n"===n)return r;if("\r"===n&&"\n"===e[r+1])return r+1;if(n<" "&&"	"!==n||""===n)throw new u("control characters are not allowed in comments",{toml:e,ptr:t})}return e.length}function f(e,t,r,n){for(var i;" "===(i=e[t])||"	"===i||!r&&("\n"===i||"\r"===i&&"\n"===e[t+1]);)t++;return n||"#"!==i?t:f(e,c(e,t),r)}function d(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!n)return(t=s(e,t))<0?e.length:t;for(var o=t;o<e.length;o++){var a=e[o];if("#"===a)o=s(e,o);else if(a===r)return o+1;else if(a===n)return o;else if(i&&("\n"===a||"\r"===a&&"\n"===e[o+1]))return o}throw new u("cannot find end of structure",{toml:e,ptr:t})}function p(e,t){var r=e[t],n=r===e[t+1]&&e[t+1]===e[t+2]?e.slice(t,t+3):r;t+=n.length-1;do t=e.indexOf(n,++t);while(t>-1&&"'"!==r&&"\\"===e[t-1]&&"\\"!==e[t-2])return t>-1&&(t+=n.length,n.length>1&&(e[t]===r&&t++,e[t]===r&&t++)),t}var h=e.i(711300),v=e.i(634203),m=e.i(35877),y=e.i(90659),g=e.i(663355),w=e.i(862470),x=/^(\d{4}-\d{2}-\d{2})?[T ]?(?:(\d{2}):\d{2}:\d{2}(?:\.\d+)?)?(Z|[-+]\d{2}:\d{2})?$/i,S=new WeakMap,b=new WeakMap,T=new WeakMap,A=function(e){function t(e){(0,i._)(this,t);var r,o=!0,a=!0,l="Z";if("string"==typeof e){var u=e.match(x);u?(u[1]||(o=!1,e="0000-01-01T".concat(e)),a=!!u[2],u[2]&&+u[2]>23?e="":(l=u[3]||null,e=e.toUpperCase(),!l&&a&&(e+="Z"))):e=""}return r=(0,n._)(this,t,[e]),(0,v._)(r,S,{writable:!0,value:!1}),(0,v._)(r,b,{writable:!0,value:!1}),(0,v._)(r,T,{writable:!0,value:null}),isNaN(r.getTime())||((0,m._)(r,S,o),(0,m._)(r,b,a),(0,m._)(r,T,l)),r}return(0,a._)(t,e),(0,y._)(t,[{key:"isDateTime",value:function(){return(0,h._)(this,S)&&(0,h._)(this,b)}},{key:"isLocal",value:function(){return!(0,h._)(this,S)||!(0,h._)(this,b)||!(0,h._)(this,T)}},{key:"isDate",value:function(){return(0,h._)(this,S)&&!(0,h._)(this,b)}},{key:"isTime",value:function(){return(0,h._)(this,b)&&!(0,h._)(this,S)}},{key:"isValid",value:function(){return(0,h._)(this,S)||(0,h._)(this,b)}},{key:"toISOString",value:function(){var e=(0,g._)((0,w._)(t.prototype),"toISOString",this).call(this);if(this.isDate())return e.slice(0,10);if(this.isTime())return e.slice(11,23);if(null===(0,h._)(this,T))return e.slice(0,-1);if("Z"===(0,h._)(this,T))return e;var r=60*(0,h._)(this,T).slice(1,3)+ +(0,h._)(this,T).slice(4,6);return r="-"===(0,h._)(this,T)[0]?r:-r,new Date(this.getTime()-6e4*r).toISOString().slice(0,-1)+(0,h._)(this,T)}}],[{key:"wrapAsOffsetDateTime",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Z",n=new t(e);return(0,m._)(n,T,r),n}},{key:"wrapAsLocalDateTime",value:function(e){var r=new t(e);return(0,m._)(r,T,null),r}},{key:"wrapAsLocalDate",value:function(e){var r=new t(e);return(0,m._)(r,b,!1),(0,m._)(r,T,null),r}},{key:"wrapAsLocalTime",value:function(e){var r=new t(e);return(0,m._)(r,S,!1),(0,m._)(r,T,null),r}}]),t}((0,l._)(Date)),_=/^((0x[0-9a-fA-F](_?[0-9a-fA-F])*)|(([+-]|0[ob])?\d(_?\d)*))$/,D=/^[+-]?\d(_?\d)*(\.\d(_?\d)*)?([eE][+-]?\d(_?\d)*)?$/,R=/^[+-]?0[0-9_]/,P=/^[0-9a-f]{4,8}$/i,F={b:"\b",t:"	",n:"\n",f:"\f",r:"\r",'"':'"',"\\":"\\"};function C(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i="'"===e[r],o=e[r++]===e[r]&&e[r]===e[r+1];o&&(n-=2,"\r"===e[r+=2]&&r++,"\n"===e[r]&&r++);for(var a=0,l="",s=r;r<n-1;){var c=e[r++];if("\n"===c||"\r"===c&&"\n"===e[r]){if(!o)throw new u("newlines are not allowed in strings",{toml:e,ptr:r-1})}else if(c<" "&&"	"!==c||""===c)throw new u("control characters are not allowed in strings",{toml:e,ptr:r-1});if(t){if(t=!1,"u"===c||"U"===c){var d=e.slice(r,r+="u"===c?4:8);if(!P.test(d))throw new u("invalid unicode escape",{toml:e,ptr:a});try{l+=String.fromCodePoint(parseInt(d,16))}catch(t){throw new u("invalid unicode escape",{toml:e,ptr:a})}}else if(o&&("\n"===c||" "===c||"	"===c||"\r"===c)){if(r=f(e,r-1,!0),"\n"!==e[r]&&"\r"!==e[r])throw new u("invalid escape: only line-ending whitespace may be escaped",{toml:e,ptr:a});r=f(e,r)}else if(c in F)l+=F[c];else throw new u("unrecognized escape sequence",{toml:e,ptr:a});s=r}else i||"\\"!==c||(a=r-1,t=!0,l+=e.slice(s,a))}return l+e.slice(s,n-1)}var O=/^[a-zA-Z0-9-_]+[ \t]*$/;function k(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",n=t-1,i=[],o=e.indexOf(r,t);if(o<0)throw new u("incomplete key-value: cannot find end of key",{toml:e,ptr:t});do{var a=e[t=++n];if(" "!==a&&"	"!==a)if('"'===a||"'"===a){if(a===e[t+1]&&a===e[t+2])throw new u("multiline strings are not allowed in keys",{toml:e,ptr:t});var l=p(e,t);if(l<0)throw new u("unfinished string encountered",{toml:e,ptr:t});n=e.indexOf(".",l);var c=e.slice(l,n<0||n>o?o:n),d=s(c);if(d>-1)throw new u("newlines are not allowed in keys",{toml:e,ptr:t+n+d});if(c.trimStart())throw new u("found extra tokens after the string part",{toml:e,ptr:l});if(o<l&&(o=e.indexOf(r,l))<0)throw new u("incomplete key-value: cannot find end of key",{toml:e,ptr:t});i.push(C(e,t,l))}else{n=e.indexOf(".",t);var h=e.slice(t,n<0||n>o?o:n);if(!O.test(h))throw new u("only letter, numbers, dashes and underscores are allowed in keys",{toml:e,ptr:t});i.push(h.trimEnd())}}while(n+1&&n<o)return[i,f(e,o+1,!0,!0)]}function E(e,t,r,n){for(var i,o,a,l,u=t,s=r,c=!1,f=0;f<e.length;f++){if(f){if(u=c?u[i]:u[i]={},s=(o=s[i]).c,0===n&&(1===o.t||2===o.t))return null;if(2===o.t){var d=u.length-1;u=u[d],s=s[d].c}}if((c=Object.hasOwn(u,i=e[f]))&&(null==(a=s[i])?void 0:a.t)===0&&(null==(l=s[i])?void 0:l.d))return null;c||("__proto__"===i&&(Object.defineProperty(u,i,{enumerable:!0,configurable:!0,writable:!0}),Object.defineProperty(s,i,{enumerable:!0,configurable:!0,writable:!0})),s[i]={t:f<e.length-1&&2===n?3:n,d:!1,i:0,c:{}})}if((o=s[i]).t!==n&&(1!==n||3!==o.t)||(2===n&&(o.d||(o.d=!0,u[i]=[]),u[i].push(u={}),o.c[o.i++]=o={t:1,d:!1,i:0,c:{}}),o.d))return null;if(o.d=!0,1===n)u=c?u[i]:u[i]={};else if(0===n&&c)return null;return[i,u,o.c]}function j(e,n){for(var i,o=null!=(i=null==n?void 0:n.maxDepth)?i:1e3,a={},l={},h=a,v=l,m=f(e,0);m<e.length;){if("["===e[m]){var y="["===e[++m],g=k(e,m+=+y,"]");if(y){if("]"!==e[g[1]-1])throw new u("expected end of table declaration",{toml:e,ptr:g[1]-1});g[1]++}var w=E(g[0],a,l,y?2:1);if(!w)throw new u("trying to redefine an already defined table or value",{toml:e,ptr:m});v=w[2],h=w[1],m=g[1]}else{var x=k(e,m),S=E(x[0],h,v,0);if(!S)throw new u("trying to redefine an already defined table or value",{toml:e,ptr:m});var b=function e(n,i,o,a){if(0===a)throw new u("document contains excessively nested structures. aborting.",{toml:n,ptr:i});var l,h=n[i];if("["===h||"{"===h){var v=(0,t._)("["===h?function(t,r,n){var i,o=[];for(r++;"]"!==(i=t[r++])&&i;)if(","===i)throw new u("expected value, found comma",{toml:t,ptr:r-1});else if("#"===i)r=c(t,r);else if(" "!==i&&"	"!==i&&"\n"!==i&&"\r"!==i){var a=e(t,r-1,"]",n-1);o.push(a[0]),r=a[1]}if(!i)throw new u("unfinished array encountered",{toml:t,ptr:r});return[o,r]}(n,i,a):function(n,i,o){var a,l={},s=new Set,c=0;for(i++;"}"!==(a=n[i++])&&a;)if("\n"===a)throw new u("newlines are not allowed in inline tables",{toml:n,ptr:i-1});else if("#"===a)throw new u("inline tables cannot contain comments",{toml:n,ptr:i-1});else if(","===a)throw new u("expected key-value, found comma",{toml:n,ptr:i-1});else if(" "!==a&&"	"!==a){for(var f=void 0,d=l,p=!1,h=(0,t._)(k(n,i-1),2),v=h[0],m=h[1],y=0;y<v.length;y++){if(y&&(d=p?d[f]:d[f]={}),(p=Object.hasOwn(d,f=v[y]))&&("object"!==(0,r._)(d[f])||s.has(d[f])))throw new u("trying to redefine an already defined value",{toml:n,ptr:i});p||"__proto__"!==f||Object.defineProperty(d,f,{enumerable:!0,configurable:!0,writable:!0})}if(p)throw new u("trying to redefine an already defined value",{toml:n,ptr:i});var g=(0,t._)(e(n,m,"}",o-1),2),w=g[0],x=g[1];s.add(w),d[f]=w,c=","===n[(i=x)-1]?i-1:0}if(c)throw new u("trailing commas are not allowed in inline tables",{toml:n,ptr:c});if(!a)throw new u("unfinished table encountered",{toml:n,ptr:i});return[l,i]}(n,i,a),2),m=v[0],y=v[1],g=d(n,y,",",o);if("}"===o){var w=s(n,y,g);if(w>-1)throw new u("newlines are not allowed in inline tables",{toml:n,ptr:w})}return[m,g]}if('"'===h||"'"===h){l=p(n,i);var x=C(n,i,l);if(o){if(l=f(n,l,"]"!==o),n[l]&&","!==n[l]&&n[l]!==o&&"\n"!==n[l]&&"\r"!==n[l])throw new u("unexpected character encountered",{toml:n,ptr:l});l+=+(","===n[l])}return[x,l]}l=d(n,i,",",o);var S=function(e,t,r,n){var i=e.slice(t,r),o=i.indexOf("#");o>-1&&(c(e,o),i=i.slice(0,o));var a=i.trimEnd();if(!n){var l=i.indexOf("\n",a.length);if(l>-1)throw new u("newlines are not allowed in inline tables",{toml:e,ptr:t+l})}return[a,o]}(n,i,l-(","===n[l-1]),"]"===o);if(!S[0])throw new u("incomplete key-value declaration: no value specified",{toml:n,ptr:i});return o&&S[1]>-1&&(l=f(n,i+S[1]),l+=+(","===n[l])),[function(e,t,r){if("true"===e)return!0;if("false"===e)return!1;if("-inf"===e)return-1/0;if("inf"===e||"+inf"===e)return 1/0;if("nan"===e||"+nan"===e||"-nan"===e)return NaN;if("-0"===e)return 0;if((n=_.test(e))||D.test(e)){if(R.test(e))throw new u("leading zeroes are not allowed",{toml:t,ptr:r});var n,i=+e.replace(/_/g,"");if(isNaN(i))throw new u("invalid number",{toml:t,ptr:r});if(n&&!Number.isSafeInteger(i))throw new u("integer value cannot be represented losslessly",{toml:t,ptr:r});return i}var o=new A(e);if(!o.isValid())throw new u("invalid value",{toml:t,ptr:r});return o}(S[0],n,i),l]}(e,x[1],void 0,o);S[1][S[0]]=b[0],m=b[1]}if(m=f(e,m,!0),e[m]&&"\n"!==e[m]&&"\r"!==e[m])throw new u("each key-value declaration must be followed by an end-of-line",{toml:e,ptr:m});m=f(e,m)}return a}e.s(["parse",()=>j],214007),e.i(167626),e.s([],759130)},641365,e=>{"use strict";var t,r=e.i(389959);function n(e){(0,r.useEffect)(function(){e((t||((t=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),t),{captureDraggingState:!0})},[e])}e.s(["useDisableNativeDragPreview",()=>n],641365)},498596,e=>{"use strict";var t=e.i(530658),r=e.i(389959),n=e.i(606389),i=e.i(687382);function o(e){var o=(0,i.useDragDropManager)().getMonitor(),a=(0,t._)((0,n.useCollector)(o,e),2),l=a[0],u=a[1];return(0,r.useEffect)(function(){return o.subscribeToOffsetChange(u)}),(0,r.useEffect)(function(){return o.subscribeToStateChange(u)}),l}e.s(["useDragLayer",()=>o])},831787,e=>{"use strict";var t=e.i(878420),r=e.i(64386),n=e.i(276385),i=e.i(116235);function o(e){return(0,n.jsx)(i.default,(0,r._)((0,t._)({},e),{children:(0,n.jsx)("path",{d:"M3 4.25a.75.75 0 0 1 .75.75v5A1.25 1.25 0 0 0 5 11.25h3a.75.75 0 0 1 0 1.5H5c-.44 0-.866-.107-1.25-.304V17A1.25 1.25 0 0 0 5 18.25h3a.75.75 0 0 1 0 1.5H5A2.75 2.75 0 0 1 2.25 17V5A.75.75 0 0 1 3 4.25ZM21 18.25a.75.75 0 0 1 0 1.5h-8a.75.75 0 0 1 0-1.5h8ZM21 11.25a.75.75 0 0 1 0 1.5h-8a.75.75 0 0 1 0-1.5h8ZM21 4.25a.75.75 0 0 1 0 1.5H8a.75.75 0 0 1 0-1.5h13Z"})}))}e.s(["default",()=>o])},717639,e=>{"use strict";function t(e){return Math.log(e)*Math.LOG10E+1|0}function r(e,t,r){return Math.floor(Math.min(t,Math.max(e,r)))}e.s(["clampToRange",()=>r,"getDigits",()=>t])},411928,e=>{"use strict";var t=e.i(878420),r=e.i(276385),n=e.i(389959),i=e.i(162914),o=e.i(125674),a=e.i(668967),l=e.i(828224),u=e.i(916271),s=(0,n.memo)(u.default);function c(e){var n=e.source,u=e.sourcePos,c=e.fs,f=e.path,d=e.onCodeInsert,p=(0,a.useContainerImageRenderer)(c,f),h=(0,i.default)(n,100),v=(0,o.default)(function(){return{img:p,a:function(e){return(0,r.jsx)(l.default,(0,t._)({filePath:f},e))}}},[p,f]);return(0,r.jsx)(s,{onCodeInsert:d,components:v,sourcePos:u,children:h})}e.s(["default",()=>c])},722441,27304,274445,624525,820170,e=>{"use strict";var t=e.i(297083),r=e.i(530658),n=e.i(817556),i=e.i(389959),o=e.i(541793),a=e.i(205104),l=e.i(903381),u=e.i(346715),s=e.i(131141),c=e.i(814563);e.i(694906);var f=e.i(515672),d=e.i(240913),p=e.i(703631),h=e.i(487824),v=e.i(799581),m="No files",y="Loading...";function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=0,o=!0,l=!1,s=void 0;try{for(var c,f=(0,u._)(e.values()).sort(function(e,t){return e.index-t.index})[Symbol.iterator]();!(o=(c=f.next()).done);o=!0){var d=c.value,p={height:d.height,y:d.y,cols:[]};if(n.push(p),0!==d.depth){var h=d.depth+t;h>i&&(i=h);for(var v="divider"===d.row.type||"error"===d.row.type||"create"===d.row.type||"emptyDir"===d.row.type?d.row.dir:(0,a.getParentPath)(d.row.path),m=v.split("/"),y=0;y<(0,a.getPathDepth)(v);y++){var g=m.slice(0,Number(y+1)).join("/");p.cols.push(g)}}}}catch(e){l=!0,s=e}finally{try{o||null==f.return||f.return()}finally{if(l)throw s}}for(var w=new Map,x=t;x<i;x++){var S=[];w.set(x,S);var b=!0,T=!1,A=void 0;try{for(var _,D=n[Symbol.iterator]();!(b=(_=D.next()).done);b=!0){var R=_.value,P=R.cols[x],F=R.y;if(P){var C=S[S.length-1];C&&C.y+C.height===F?C.height+=R.height:S.push({y:F,height:R.height,dir:P,depth:x-t})}}}catch(e){T=!0,A=e}finally{try{b||null==D.return||D.return()}finally{if(T)throw A}}}var O=[],k=!0,E=!1,j=void 0;try{for(var I,V=w[Symbol.iterator]();!(k=(I=V.next()).done);k=!0){var N=(0,r._)(I.value,2),z=(N[0],N[1]);O.push.apply(O,(0,u._)(z))}}catch(e){E=!0,j=e}finally{try{k||null==V.return||V.return()}finally{if(E)throw j}}return O}function w(e,t){var r=t.fromIndex;if("next"===t.dir){for(var n=r+1;n<e.length;n++){var i=e[n];if(i&&("dir"===i.type||"file"===i.type))return i}return null}for(var o=r-1;o>=0;o--){var a=e[o];if(a&&("dir"===a.type||"file"===a.type))return a}return null}function x(e,t,r){if(r){var n=f.configFiles.includes(t.filename),i=f.configFiles.includes(e.filename);if(n&&!i)return -1;if(!n&&i)return 1;var o=f.packagerFiles.includes(t.filename),u=f.packagerFiles.includes(e.filename);if(o&&!u)return -1;if(!o&&u)return 1}return t.type===l.FileType.Directory&&e.type!==l.FileType.Directory?1:e.type===l.FileType.Directory&&t.type!==l.FileType.Directory?-1:(0,a.compareFilePaths)(e.filename,t.filename)}function S(e){var t=e.row,r=e.baseDepth;return"dir"===t.type||"file"===t.type||"uploadFile"===t.type?t.path===d.ROOT_PATH?0:(0,a.getPathDepth)(t.path)-1-r:t.dir===d.ROOT_PATH?0:(0,a.getPathDepth)(t.dir)-r}function b(e){var t=e.rows,n=e.baseDepth,i=[],o=new Map,l=!0,u=!1,s=void 0;try{for(var c,f=t[Symbol.iterator]();!(l=(c=f.next()).done);l=!0){var d=c.value,p=function(e){var t=e.row,r=S({row:t,baseDepth:e.baseDepth});switch(t.type){case"file":case"dir":case"uploadFile":return{text:(0,a.getFileName)(t.path),depth:r};case"error":return{text:t.message,depth:r};case"divider":return{text:t.label,depth:r};case"create":case"emptyDir":return{text:m,depth:r}}}({row:d,baseDepth:n}),h=p.depth,v=p.text,y=o.get(h);if(!y){o.set(h,new Map([[d.type,v]]));continue}var g=y.get(d.type);g&&(null==g?void 0:g.length)>v.length||y.set(d.type,v)}}catch(e){u=!0,s=e}finally{try{l||null==f.return||f.return()}finally{if(u)throw s}}var w=!0,x=!1,b=void 0;try{for(var T,A=o[Symbol.iterator]();!(w=(T=A.next()).done);w=!0){var _=(0,r._)(T.value,2),D=_[0],R=_[1],P=!0,F=!1,C=void 0;try{for(var O,k=R[Symbol.iterator]();!(P=(O=k.next()).done);P=!0){var E=(0,r._)(O.value,2),j=E[0],I=E[1];i.push({depth:D,type:j,text:I})}}catch(e){F=!0,C=e}finally{try{P||null==k.return||k.return()}finally{if(F)throw C}}}}catch(e){x=!0,b=e}finally{try{w||null==A.return||A.return()}finally{if(x)throw b}}return i}e.s(["LOADING",()=>y,"NO_FILES",()=>m],27304);var T=function(e,t){return e===d.ROOT_PATH?t:e+"/"+t},A=function(e,t){return e===d.ROOT_PATH&&1===(0,a.getPathDepth)(t)||(0,p.childOf)(e,t)};function _(e){var t=e.root,n=void 0===t?d.ROOT_PATH:t,i=e.dirInfo,o=e.filter,s=e.sort,c=e.getSection,f=e.readOnly,p=e.pendingUploads,m=e.pendingMoves,y=e.pathBeingRenamed,g=e.alwaysShowCreateRow,w=[],x=(null==p?void 0:p.length)?function(e){var t=new Map,r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var u=o.value,s=(0,a.getParentPath)(u.targetPath)||d.ROOT_PATH,c=t.get(s),f={filename:(0,a.getFileName)(u.targetPath),progress:u.progress};c?c.push(f):t.set(s,[f])}}catch(e){n=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw i}}return t}(p):null,S=new Map,b=new Map;if(null==m?void 0:m.length){var _=!0,D=!1,R=void 0;try{for(var P,F=m[Symbol.iterator]();!(_=(P=F.next()).done);_=!0){var C=P.value,O=C.from,k=C.to;S.set(O.path,O.type),b.set(k,O.type)}}catch(e){D=!0,R=e}finally{try{_||null==F.return||F.return()}finally{if(D)throw R}}}return!function e(t){var p=i.get(t);if(!(!p||S.has(t))&&p.expanded){if(t===n&&p.loading&&!p.children)return void w.push({type:"dir",path:t});if(p.error)return void w.push({type:"error",message:p.error.message,dir:t});var m=p.children?(0,u._)(p.children):void 0;(m=null==m?void 0:m.filter(function(e){return!(0,h.isPathBreakpointsOrNixCache)(e.filename)}))&&S.size>0&&(m=m.filter(function(e){return!S.has(T(t,e.filename))}));var _=!0,D=!1,R=void 0;try{for(var P,F=b[Symbol.iterator]();!(_=(P=F.next()).done);_=!0)!function(){var e=(0,r._)(P.value,2),n=e[0],i=e[1];if(A(t,n)){var o=(0,a.getFileName)(n);(null==m?void 0:m.some(function(e){return e.filename===o}))||(m||(m=[]),m.push({filename:o,type:i}))}}()}catch(e){D=!0,R=e}finally{try{_||null==F.return||F.return()}finally{if(D)throw R}}var C=null==x?void 0:x.get(t);if(C){m||(m=[]);var O=!0,k=!1,E=void 0;try{for(var j,I=C[Symbol.iterator]();!(O=(j=I.next()).done);O=!0){var V=j.value,N=V.filename,z=V.progress;m.push({filename:N,type:l.FileType.File,progress:z})}}catch(e){k=!0,E=e}finally{try{O||null==I.return||I.return()}finally{if(k)throw E}}}if(m){if(!p.create&&!C&&m&&0===m.length)return void w.push({type:f?"emptyDir":"create",dir:t});var M=function(e,t){var n=t.getSection,i=[],o=new Map,a=!0,u=!1,s=void 0;try{for(var c,f=e[Symbol.iterator]();!(a=(c=f.next()).done);a=!0){var d=c.value,p=n(d),h=d.progress?{type:"upload",progress:d.progress,filename:d.filename}:{type:d.type===l.FileType.File?"file":"dir",filename:d.filename};if(!p){i.push(h);continue}var m=o.get(p);if(m){m.push(h);continue}o.set(p,[h])}}catch(e){u=!0,s=e}finally{try{a||null==f.return||f.return()}finally{if(u)throw s}}var y=!0,g=!1,w=void 0;try{for(var x,S=o[Symbol.iterator]();!(y=(x=S.next()).done);y=!0){var b=(0,r._)(x.value,2),T=b[0],A=b[1];i.push({type:"divider",label:T}),(0,v.pushInChunks)(i,A)}}catch(e){g=!0,w=e}finally{try{y||null==S.return||S.return()}finally{if(g)throw w}}return i}(m.filter(o).sort(function(e,r){return s(e,r,t===n)}),{getSection:t===d.ROOT_PATH?c:function(){return null}}),H=-1,L=!0,G=!1,W=void 0;try{for(var U,B=M[Symbol.iterator]();!(L=(U=B.next()).done);L=!0)!function(){var r=U.value;if("error"===r.type||"emptyDir"===r.type)throw Error("Expected dir, file, or divider row");if("divider"===r.type)return -1===H&&(H=w.length),w.push({type:"divider",dir:t,label:r.label});var n=T(t,r.filename);if("dir"===r.type){var o={type:"dir",path:n};y===n&&(o.rename=!0),b.has(n)&&(o.pending=!0);var a=null==x?void 0:x.get(n);if(a&&(o.uploadProgress=a.map(function(e){return e.progress})),w.push(o),!i.get(n))return;e(n)}else if("upload"===r.type)w.push({type:"uploadFile",path:n,progress:r.progress});else if(!C||!C.some(function(e){return e.filename===r.filename})){var l={type:"file",path:n};y===n&&(l.rename=!0),b.has(n)&&(l.pending=!0),w.push(l)}}()}catch(e){G=!0,W=e}finally{try{L||null==B.return||B.return()}finally{if(G)throw W}}if(p.create||g){var K={type:"create",dir:t,fileType:p.create?p.create:void 0};-1===H?w.push(K):w.splice(H,0,K)}}}}(n),w}function D(e,t){var r=e.get(t);if(!r)return null;var n=0,i=r.height,o="dir"===r.row.type?r.depth+1:r.depth;if("dir"===r.row.type)o=r.depth+1,n=r.y;else{o=r.depth;for(var a=t-1;a>=0;a--){var l=e.get(a);if(!l)break;if("dir"===l.row.type&&("file"===r.row.type||"uploadFile"===r.row.type?A(l.row.path,r.row.path):l.row.path===r.row.dir)){i+=l.height,n=l.y;break}l.depth>=r.depth&&(i+=l.height)}}for(var u=t+1;u<e.size;u++){var s=e.get(u);if(!s||s.depth<=("dir"===r.row.type?r.depth:r.depth-1))break;i+=s.height}return{y:n,height:i,depth:o}}function R(e,t){var r=t.node,n=t.rows,i=t.mode,o=t.anchor;if(!i){e.clear(),e.set(r.path,r.type);return}if("multi"===i&&e.has(r.path))return void e.delete(r.path);if("multi"===i)return void e.set(r.path,r.type);var a=r.type===l.FileType.Directory?"dir":"file",u=n.findIndex(function(e){return e.type===a&&e.path===r.path});if(-1!==u){var s=(null==o?void 0:o.type)===l.FileType.Directory?"dir":"file",c=o?n.findIndex(function(e){return e.type===s&&e.path===o.path}):-1;if(-1!==c){var f=c<u?n.slice(c,u+1):n.slice(u,c+1),d=!0,p=!1,h=void 0;try{for(var v,m=n[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var y=v.value;("file"===y.type||"dir"===y.type)&&(f.includes(y)?e.set(y.path,"file"===y.type?l.FileType.File:l.FileType.Directory):e.delete(y.path))}}catch(e){p=!0,h=e}finally{try{d||null==m.return||m.return()}finally{if(p)throw h}}}}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.ROOT_PATH,n=new Set,i=!0,o=!1,a=void 0;try{for(var l,u=e[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var s=(0,r._)(l.value,2),c=s[0],f=s[1];c!==t&&f.expanded&&(t===d.ROOT_PATH||(0,p.descendantOf)(t,c))&&n.add(c)}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return 0===n.size?null:n}e.s(["dirInfoToRows",()=>_,"findAdjacentNode",()=>w,"getDropPreview",()=>D,"getExpandedDirs",()=>P,"getGutters",()=>g,"getLongestRows",()=>b,"getRowDepth",()=>S,"sortChildren",()=>x,"toggleSelectNode",()=>R],274445);var F=(0,o.atom)(new Map),C=(0,o.atom)({width:0,height:0}),O=(0,o.atom)(0),k=(0,o.atom)(null),E=(0,o.atom)(new Map),j=(0,o.atom)(function(e){var t;return null!=(t=e(W).root)?t:d.ROOT_PATH}),I=(0,o.atom)(null),V=(0,o.atom)(void 0),N=(0,o.atom)(null),z=(0,o.atom)(null,function(e,t,r){e(B)||t(N,r)}),M=(0,o.atom)(function(e){var t=e(W).root,r=void 0===t?d.ROOT_PATH:t;return r===d.ROOT_PATH?0:(0,a.getPathDepth)(r)}),H=(0,o.atom)(function(e){return g(e(E),e(M))}),L=(0,o.atom)(!1),G=(0,o.atom)(null,function(e,t,r){var n=new Map,i=e(ec),o=e(M),a=!0,l=!1,u=void 0;try{for(var s,c=r.rows[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var f=s.value,d=f.key.toString(),p=i[f.index];if(p){var h=Math.max(0,S({row:p,baseDepth:o}));n.set(f.index,{y:f.start+8,height:f.size,index:f.index,key:d,depth:h,row:p})}}}catch(e){l=!0,u=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw u}}t(E,n),t(O,r.scrollHeight+16)}),W=(0,o.atom)({}),U=(0,c.selectAtom)(W,function(e){var t;return null!=(t=e.onContextMenu)?t:null}),B=(0,o.atom)(function(e){return!!e(W).readOnly||!e(L)}),K=(0,o.atom)(function(e){var t;return null!=(t=e(W).fontSize)?t:14}),Y=function(e,t){if("divider"===t)switch(e){case 10:return 28;case 12:case 13:case 14:return 38;case 18:return 44;default:return 48}switch(e){case 10:return 18;case 12:case 13:return 24;case 14:return 32;case 18:return 38;default:return 40}},Z=(0,o.atom)(function(e){return Y(e(K),"file")}),q=function(e){switch(e){case 10:case 12:return 12;case 13:case 14:return 16;case 18:return 20;default:return 24}},X=(0,o.atom)(function(e){return q(e(K))}),$=(0,o.atom)(function(e){return 14>e(K)?4:8}),Q=(0,o.atom)(function(e){return 14>=e(K)?4:8}),J=(0,o.atom)(function(e){return 13===e(K)?6:16>e(K)?4:8}),ee=function(e){switch(e){case 10:return 10;case 12:case 13:case 14:return 12;case 18:return 14;default:return 18}},et=function(e){switch(e){case 10:return 12;case 12:case 13:return 16;case 14:return 24;case 18:return 32;default:return 40}},er=(0,o.atom)(function(e){return et(e(K))}),en=(0,o.atom)(function(e){return ee(e(K))}),ei=function(e){switch(e){case 10:case 12:case 13:return 10;case 14:case 18:return 16;default:return 20}},eo=(0,o.atom)(function(e){return ei(e(K))}),ea=(0,o.atom)(new Map);function el(e){var t=e.filename;return f.configFiles.includes(t)?"Config files":f.packagerFiles.includes(t)?"Packager files":null}var eu=(0,o.atom)([]),es=(0,o.atom)([]),ec=(0,o.atom)(function(e){var t,r,n=e(W),i=n.filter,o=n.alwaysShowCreateRow,a=n.root,l=void 0===a?d.ROOT_PATH:a,u=n.sort,s=n.readOnly;return _({root:l,dirInfo:e(ea),filter:i,sort:void 0===u?x:u,readOnly:void 0!==s&&s,getSection:el,pendingUploads:e(eu),pathBeingRenamed:null!=(t=e(N))?t:void 0,pendingMoves:null!=(r=e(es))?r:void 0,alwaysShowCreateRow:o})}),ef=(0,o.atom)(function(e){var t=e(k);if(!t)return null;var r=e(ec).findIndex(function(e){return("file"===e.type||"dir"===e.type)&&e.path===t});return -1!==r?r:null}),ed=(0,o.atom)(null,function(e,t,r){var n,i=e(ef),o=e(k);if((null==(n=document.activeElement)?void 0:n.tagName)!=="INPUT"&&null!==i&&null!==o){var a=e(ec);switch(r.key){case"ArrowDown":r.preventDefault();var l=w(a,{dir:"next",fromIndex:i});((null==l?void 0:l.type)==="dir"||(null==l?void 0:l.type)==="file")&&t(k,l.path);return;case"ArrowUp":r.preventDefault();var u=w(a,{dir:"previous",fromIndex:i});((null==u?void 0:u.type)==="dir"||(null==u?void 0:u.type)==="file")&&t(k,u.path);return;case"ArrowLeft":case"ArrowRight":r.preventDefault();var s=e(ea).get(o);if(!s)return;"ArrowLeft"===r.key&&s.expanded?t(ev,o):"ArrowRight"!==r.key||s.expanded||t(ey,o);return;case"Enter":case" ":if("Enter"===r.key&&!e(B))return;if(e(ea).has(o))return void t(eg,o);e(W).onFileSelect({event:r,path:o,type:"keydown"});return}}}),ep=(0,o.atom)(null,function(e,t,r){var n;r.path===(null!=(n=e(W).root)?n:d.ROOT_PATH)&&t(L,!0),t(ea,function(e){return(0,s.produce)(e,function(e){var t=r.path===d.ROOT_PATH?null:r.path+"/",n=!0,i=!1,o=void 0;try{for(var a,u=r.children[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s,c=a.value,f=t?t+c.filename:c.filename,p=e.get(f);if(c.type!==l.FileType.Directory){p&&(null==(s=p.disposeWatcher)||s.call(p),e.delete(f));continue}p||e.set(f,{expanded:!1})}}catch(e){i=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}var h=e.get(r.path);h&&(h.children=r.children,h.loading=!1,h.error=void 0)})})}),eh=(0,o.atom)(null,function(e,t,r){var n;r.path===(null!=(n=e(W).root)?n:d.ROOT_PATH)&&t(L,!0),t(ea,function(e){return(0,s.produce)(e,function(e){var t,n=e.get(r.path);n&&(n.loading=!1,n.error=r.error,null==(t=n.disposeWatcher)||t.call(n),n.disposeWatcher=null)})})}),ev=(0,o.atom)(null,function(e,t,r){var n=Array.isArray(r)?r:[r];t(ea,function(e){return(0,s.produce)(e,function(e){var t=!0,r=!1,i=void 0;try{for(var o,a=n[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var l=o.value,u=e.get(l);u&&(u.expanded=!1,u.loading=!1,u.disposeWatcher&&(u.disposeWatcher(),u.disposeWatcher=null))}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}})})}),em=(0,o.atom)(null,function(e,t,r){t(ea,function(e){return(0,s.produce)(e,function(e){var t,n=e.get(r);n&&(null==(t=n.disposeWatcher)||t.call(n),e.delete(r))})})}),ey=(0,o.atom)(null,function(e,t,r){var n=Array.isArray(r)?r:[r],i=e(W).fs;t(ea,function(e){return(0,s.produce)(e,function(e){var r=!0,o=!1,a=void 0;try{for(var l,u=n[Symbol.iterator]();!(r=(l=u.next()).done);r=!0)!function(){var r,n=l.value,o=null!=(r=e.get(n))?r:{expanded:!0};e.has(n)?o.expanded=!0:e.set(n,o),o.disposeWatcher?o.disposeWatcher():o.loading=!0,o.disposeWatcher=i.watchDir(n,{onError:function(e){return t(eh,{path:n,error:e})},onChange:function(e){return t(ep,{path:n,children:e})},onMoveOrDelete:function(){return t(em,n)}})}()}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}})})}),eg=(0,o.atom)(null,function(e,t,r){var n=e(ea).get(r);if(!n){t(ea,function(e){return(0,s.produce)(e,function(e){e.set(r,{expanded:!1})})}),t(ey,r);return}n.expanded?t(ev,r):t(ey,r)}),ew=(0,o.atom)(function(e){return e(W).manageWidth?e(L)?b({rows:e(ec),baseDepth:e(M)}):[{type:"dir",text:y,depth:1}]:null}),ex=(0,o.atom)(null,function(e,t,r){var n=e(W).onCreateStart;n?n({parentPath:r.parentPath,fileType:r.fileType}):(t(ey,r.parentPath),t(ea,function(e){return(0,s.produce)(e,function(e){var t=e.get(r.parentPath);t&&(t.create=r.fileType)})}),t(k,null))}),eS=(0,o.atom)(null,function(e,t,r){t(ea,function(e){return(0,s.produce)(e,function(e){var t=e.get(r);t&&(t.create=void 0)})})}),eb=(0,o.atom)(null,function(e,t,r){var n={path:r.path,type:r.fileType};t(k,n.path),t(eR,{node:n}),t(ea,function(e){return(0,s.produce)(e,function(e){var t=e.get(r.parentPath);t&&(t.create=void 0)})}),n.type===l.FileType.Directory&&t(ey,n.path)}),eT=(0,o.atom)(new Map),eA=(0,o.atom)(null),e_=(0,o.atom)(function(e){var t,r;return null!=(r=null==(t=e(eA))?void 0:t.path)?r:null}),eD=(0,o.atom)(!0),eR=(0,o.atom)(null,function(e,t,n){var i=n.node,o=n.mode,a=e(ec),l=e(eA);t(eD,!o),t(eT,function(e){return(0,s.produce)(e,function(e){R(e,{node:i,rows:a,mode:o,anchor:l})})});var u=e(eT);if(!(u.size>1)){var c=!0,f=!1,d=void 0;try{for(var p,h=u[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var v=(0,r._)(p.value,2),m=v[0],y=v[1];t(eA,{path:m,type:y})}}catch(e){f=!0,d=e}finally{try{c||null==h.return||h.return()}finally{if(f)throw d}}}}),eP=(0,o.atom)(null,function(e,t){t(eT,new Map),t(eD,!0),t(eA,null)}),eF=(0,o.atom)(null,function(e,r,i){return(0,t._)(function(){var o,a,l;return(0,n._)(this,function(u){switch(u.label){case 0:return o=e(W).fs,[4,Promise.all(i.map(function(e){return(0,t._)(function(){var t;return(0,n._)(this,function(r){switch(r.label){case 0:return[4,o.readDir(e)];case 1:return[2,(t=r.sent()).error?t:{path:e,children:t.children,error:null}]}})})()}))];case 1:if((l=(a=u.sent()).filter(function(e){return null!==e.error})).length)return[2,{errors:l}];return r(ea,function(e){return(0,s.produce)(e,function(e){var t=!0,r=!1,n=void 0;try{for(var i,o=a[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var l=i.value;if(l.error)throw Error("Unexpected error");var u=e.get(l.path);if(!u){e.set(l.path,{loading:!1,expanded:!0,children:l.children,error:void 0});continue}u.loading=!1,u.expanded=!0,u.children=l.children,u.error=void 0}}catch(e){r=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}})}),[2,{errors:null}]}})})()}),eC=(0,o.atom)(null,function(e,r,i){return(0,t._)(function(){var t,o,a,l,s,c,f,p,h;return(0,n._)(this,function(n){switch(n.label){case 0:t=e(ea),o=[],a=!0,l=!1,s=void 0;try{var v;for(c=((v=i.path.split("/")).pop(),[d.ROOT_PATH].concat((0,u._)(v.map(function(e,t){return v.slice(0,t+1).join("/")}))))[Symbol.iterator]();!(a=(f=c.next()).done);a=!0)p=f.value,null!=(h=t.get(p))&&h.expanded||o.push(p)}catch(e){l=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(l)throw s}}if(!o.length)return[3,2];return[4,r(eF,o)];case 1:n.sent(),n.label=2;case 2:return r(eR,{node:i}),[2]}})})()}),eO=(0,o.atom)(null),ek=(0,o.atom)(null,function(e,t,r){var n=e(eO);if(n)for(var i=e(ec),o=0;o<i.length;o++){var a=i[o];if(("file"===a.type||"dir"===a.type)&&a.path===r&&!(o>n.options.count-1)){n.scrollToIndex(o);break}}});e.s(["avatarSizeAtom",()=>er,"borderRadiusAtom",()=>Q,"cancelCreateFileAtom",()=>eS,"clearNodeSelectionAtom",()=>eP,"collapseAtom",()=>ev,"completeCreateFileAtom",()=>eb,"configAtom",()=>W,"containerSizeAtom",()=>C,"didLoadRootAtom",()=>L,"dirInfoAtom",()=>ea,"expandAtom",()=>ey,"fileStatusAtom",()=>I,"filteredRowsAtom",()=>ec,"focusedIndexAtom",()=>ef,"focusedPathAtom",()=>k,"fontSizeAtom",()=>K,"fontSizeSmallAtom",()=>en,"getRowHeight",()=>Y,"gutterWidthAtom",()=>eo,"guttersAtom",()=>H,"horizontalPaddingAtom",()=>$,"iconTextGapAtom",()=>J,"iconsSizeAtom",()=>X,"initialOffsetAtom",()=>V,"lastSelectWasSingleAtom",()=>eD,"loadAndSelectNodeAtom",()=>eC,"minHeightAtom",()=>Z,"onContextMenuAtom",()=>U,"onKeyDownAtom",()=>ed,"pathToBeRenamedAtom",()=>N,"pendingMovesAtom",()=>es,"pendingUploadsAtom",()=>eu,"presenceStateAtom",()=>F,"readOnlyAtom",()=>B,"renameAtom",()=>z,"renderedRowsAtom",()=>E,"rootPathAtom",()=>j,"scrollHeightAtom",()=>O,"scrollToPathAtom",()=>ek,"selectNodeAtom",()=>eR,"selectedNodeAnchorAtom",()=>eA,"selectedNodesAtom",()=>eT,"selectedPathAnchorAtom",()=>e_,"setRenderedRowAtom",()=>G,"startCreateFileAtom",()=>ex,"toggleExpandedAtom",()=>eg,"virtualizerAtom",()=>eO,"widestRowsAtom",()=>ew],624525);var eE=e.i(276385),ej=e.i(161322),eI=e.i(719518),eV=e.i(824359),eN=(0,i.createContext)(null);function ez(e){return(0,eE.jsx)(eN.Provider,{value:e.store,children:e.children})}function eM(){var e=(0,i.useContext)(eN);if(!e)throw Error("Expected store in context");return e}function eH(e){return(0,ej.useAtomValue)(e,{store:eM()})}function eL(e){return(0,eV.useObservableAtom)(e,eM())}var eG=function(e){return(0,ej.useSetAtom)(e,{store:eM()})};function eW(e){return(0,eI.useAtomCallback)((0,i.useCallback)(function(t){return t(e)},[e]),{store:eM()})}e.s(["StoreProvider",()=>ez,"useGet",()=>eW,"useObservableValue",()=>eL,"useSet",()=>eG,"useValue",()=>eH],820170);var eU=(0,o.atom)(null),eB=(0,o.atom)(null,function(e,t,n){var i=[n];if(!e(eD)){var o=!0,l=!1,u=void 0;try{for(var s,c=e(eT)[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var f=(0,r._)(s.value,2),d=f[0],p=f[1];n.path!==d&&i.push({path:d,type:p})}}catch(e){l=!0,u=e}finally{try{o||null==c.return||c.return()}finally{if(l)throw u}}}t(eU,(0,a.coalesceFsNodes)(i))});function eK(){var e=eL(eU),r=eW(W);(0,i.useEffect)(function(){return e.subscribe(function(e){if(e){var i=r(),o=i.readOnly,a=i.onDeleteNodes,u=i.fs;!o&&a&&a({nodes:e,confirm:function(){return(0,t._)(function(){return(0,n._)(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return e.type===l.FileType.Directory?u.deleteDir(e.path):u.deleteFile(e.path)}))];case 1:return[2,{error:t.sent().filter(function(e){return e.error}).length?"Something went wrong deleting files":null}]}})})()}})}})},[r,e])}e.s(["requestDeleteNodesAtom",()=>eB,"useConfirmDeleteNodes",()=>eK],722441)},460365,(e,t,r)=>{var n=e.r(365738),i=1/0,o=0/0,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt,f=Object.prototype.toString,d=Math.max,p=Math.min;function h(e){var t=void 0===e?"undefined":n._(e);return!!e&&("object"==t||"function"==t)}function v(e){return e?(e=m(e))===i||e===-i?(e<0?-1:1)*17976931348623157e292:e==e?e:0:0===e?e:0}function m(e){if("number"==typeof e)return e;if((void 0===(t=e)?"undefined":n._(t))=="symbol"||t&&(void 0===t?"undefined":n._(t))=="object"&&"[object Symbol]"==f.call(t))return o;if(h(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=h(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var i=u.test(e);return i||s.test(e)?c(e.slice(2),i?2:8):l.test(e)?o:+e}t.exports=function(e,t,r){var n,i,o;return t=v(t),void 0===r?(r=t,t=0):r=v(r),(n=e=m(e))>=p(i=t,o=r)&&n<d(i,o)}},540697,e=>{e.v({icon:"Autocomplete-module__0pd8DG__icon",itemActive:"Autocomplete-module__0pd8DG__itemActive",itemInactive:"Autocomplete-module__0pd8DG__itemInactive",text:"Autocomplete-module__0pd8DG__text"})},369685,874311,666729,10261,525544,453955,916866,189739,518093,942527,788123,e=>{"use strict";var t=e.i(721281),r=e.i(530658),n=e.i(276385),i=e.i(389959),o=e.i(822243),a=e.i(498596),l=e.i(848415),u=e.i(288148),s=e.i(971131),c=e.i(960933),f=e.i(862927),d=e.i(131141),p=e.i(541793),h=e.i(316699),v=e.i(302905),m=e.i(205104),y=e.i(240913),g=e.i(903381),w=e.i(641365),x=e.i(222342),S=e.i(736451),b=e.i(460365),T=e.i(717639),A=e.i(869226),_=e.i(399978),D=e.i(274445),R=e.i(297083),P=e.i(346715),F=e.i(817556),C=e.i(143003),O=e.i(790486),k=e.i(992785),E=e.i(814563),j=e.i(995683),I=e.i(703631),V=e.i(125674),N=e.i(670413);e.i(694906);var z=e.i(55449);function M(e){var t=e.siblingNames,r=e.fileName,n=e.initialValue,i=e.parentPath;if(r.includes("/"))return"File names cannot include forward slashes";if("."===r||".."===r)return'File names cannot be "'.concat(r,'"');if(r.match(/^\s/)||r.match(/\s$/))return"File names cannot start or end with whitespace";if(n!==r&&t.includes(r))return"A file or folder with that name already exists";if(r.length>100)return"File names cannot be longer than 100 characters";var o=i===y.ROOT_PATH?r:i+"/"+r;return(0,z.isHiddenFile)(o)?'"'.concat(o,'" is reserved'):null}function H(e){var t=e.fileName,r=e.parentPath,n=r===y.ROOT_PATH?"":r+"/",i=n+t,o=i.split("/");return{pathPrefix:n,newFilePath:i,segments:o}}function L(e){return(0,R._)(function(e){var t,n,i,o,a,l,u,s,c,f,d,p,h,v,y,g,w,x,S;return(0,F._)(this,function(b){switch(b.label){case 0:if(t=e.fileName,n=e.parentPath,i=e.fs,t.startsWith("/"))return[2,"File names cannot include forward slashes"];a=(o=H({fileName:t,parentPath:n})).pathPrefix,l=o.newFilePath,u=o.segments,s=!0,c=!1,f=void 0,b.label=1;case 1:b.trys.push([1,7,8,9]),d=Object.entries(u)[Symbol.iterator](),b.label=2;case 2:if(s=(p=d.next()).done)return[3,6];if(v=(h=(0,r._)(p.value,2))[0],y=h[1],g=Number(v),w=[],g!==u.length-1)return[3,4];return[4,i.stat(l)];case 3:b.sent().exists&&w.push((0,m.getFileName)(l)),b.label=4;case 4:if(!(x=M({fileName:y,siblingNames:w,parentPath:a+u.slice(0,g).join("/")})))return[3,5];return[2,x];case 5:return s=!0,[3,2];case 6:return[3,9];case 7:return S=b.sent(),c=!0,f=S,[3,9];case 8:try{s||null==d.return||d.return()}finally{if(c)throw f}return[7];case 9:return[2,null]}})}).apply(this,arguments)}function G(e){var t=H({fileName:e.fileName,parentPath:e.parentPath}),n=t.pathPrefix,i=t.segments,o=!0,a=!1,l=void 0;try{for(var u,s=Object.entries(i)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=(0,r._)(u.value,2),f=c[0],d=c[1],p=Number(f),h=M({fileName:d,siblingNames:[],parentPath:n+i.slice(0,p).join("/")});if(h)return h}}catch(e){a=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw l}}return null}e.s(["validateFileName",()=>M],874311);var W=e.i(624525),U=e.i(820170),B=e.i(123850),K=e.i(613355),Y=(0,B.createCssVarTokens)(["scrollHeight","fontSize","fontSizeSmall","iconSize","horizontalPadding","borderRadius","gutterWidth","minHeight","iconTextGap","rowWidth","rowHeight","rowLeftIndent","rowY","dropPreviewDepth","dropPreviewHeight","dropPreviewY","dropPreviewOpacity","strokeDashoffset","statusColor","statusBackgroundColor","dirStatusIconSize","nodeBackgroundColor","dragPreviewX","dragPreviewY","contextMenuButtonDisplay","hasUnsavedChangesDisplay"]),Z=Y.cssVars,q=Y.styleTokens,X={paddingLeft:q.horizontalPadding,paddingRight:q.horizontalPadding},$={"&& svg":{minWidth:q.iconSize+" !important",minHeight:q.iconSize+" !important",width:q.iconSize+" !important",height:q.iconSize+" !important"}},Q=[K.rcss.truncate,{fontSize:q.fontSize}];function J(e,t){return e.shiftKey?"bulk":"altKey"===t&&e.altKey||"cmdOrCtrlKey"===t&&(0,N.getCmdOrCtrl)(e)?"multi":void 0}function ee(e){var t=(0,U.useGet)(W.configAtom),r=(0,U.useSet)(W.selectNodeAtom),n=(0,U.useSet)(W.focusedPathAtom);return(0,V.default)(function(){return{onClick:function(i){var o=t(),a=o.onFileSelect,l=o.multiselectModifierKey,u=l?J(i,l):void 0;r({node:{path:e,type:g.FileType.File},mode:u}),n(e),u||null==a||a({path:e,event:i,type:"click"})},onDoubleClick:function(r){var n=t().onFileDoubleClick;null==n||n(r,e)}}},[e,t,n,r])}e.s(["cssVars",()=>Z,"iconSize",()=>$,"rowPadding",()=>X,"styleTokens",()=>q,"textCss",()=>Q],666729);var et=(0,p.atom)(null,function(e,t,r){var n=r.event,i=r.path;t(W.focusedPathAtom,i);var o=e(W.configAtom).multiselectModifierKey;t(W.selectNodeAtom,{node:{path:i,type:g.FileType.Directory},mode:o?J(n,o):void 0}),t(W.focusedPathAtom,i),n.shiftKey||n.altKey||(0,N.getCmdOrCtrl)(n)||t(W.toggleExpandedAtom,i)});function er(e){var t=(0,U.useSet)(et);return(0,V.default)(function(){return function(r){t({event:r,path:e})}},[t,e])}function en(){return(0,U.useValue)(W.widestRowsAtom)}function ei(){return(0,U.useValue)(W.guttersAtom)}function eo(){return(0,U.useValue)(W.renderedRowsAtom)}function ea(e){return(0,U.useValue)((0,V.default)(function(){return(0,p.atom)(function(t){var r,n;return null!=(n=null==(r=t(W.renderedRowsAtom).get(e))?void 0:r.row)?n:null})},[e]))}function el(){return{fontSize:(0,U.useObservableValue)(W.fontSizeAtom),fontSizeSmall:(0,U.useObservableValue)(W.fontSizeSmallAtom),iconSize:(0,U.useObservableValue)(W.iconsSizeAtom),scrollHeight:(0,U.useObservableValue)(W.scrollHeightAtom),horizontalPadding:(0,U.useObservableValue)(W.horizontalPaddingAtom),borderRadius:(0,U.useObservableValue)(W.borderRadiusAtom),gutterWidth:(0,U.useObservableValue)(W.gutterWidthAtom),minHeight:(0,U.useObservableValue)(W.minHeightAtom),iconTextGap:(0,U.useObservableValue)(W.iconTextGapAtom)}}function eu(e){return(0,U.useValue)((0,V.default)(function(){return(0,E.selectAtom)(W.dirInfoAtom,function(t){var r;return!!(null==(r=t.get(e))?void 0:r.loading)})},[e]))}function es(e){return(0,U.useValue)((0,V.default)(function(){return(0,E.selectAtom)(W.dirInfoAtom,function(t){var r;return!!(null==(r=t.get(e))?void 0:r.expanded)})},[e]))}function ec(e){var t=(0,V.default)(function(){return(0,E.selectAtom)(W.focusedPathAtom,function(t){return t===e?0:-1})},[e]);return(0,U.useValue)(t)}function ef(){return(0,U.useSet)(W.collapseAtom)}function ed(){return(0,U.useSet)(W.expandAtom)}function ep(){return(0,U.useSet)(W.onKeyDownAtom)}function eh(){var e,t,r,n=(0,i.useRef)(null),o=(0,U.useValue)(W.filteredRowsAtom),a=(e=(0,U.useGet)(W.filteredRowsAtom),t=(0,U.useGet)(W.fontSizeAtom),(0,V.default)(function(){return function(r){var n=e()[r];return n?(0,W.getRowHeight)(t(),n.type):0}},[e,t])),l=(0,U.useGet)(W.configAtom),u=(0,U.useObservableValue)(W.focusedIndexAtom),s=(0,i.useRef)((0,U.useValue)(W.initialOffsetAtom)),c=(0,O.useVirtualizer)({count:o.length,overscan:null!=(r=l().overscan)?r:100,getScrollElement:function(){return n.current},getItemKey:function(e){var t=o[e];return t?"error"===t.type?"error:"+t.dir+t.message:"divider"===t.type?"divider:"+t.dir+t.label:"emptyDir"===t.type?"emptyDir:"+t.dir:"create"===t.type?"create:"+t.dir:t.type+":"+t.path:""},estimateSize:a,rangeExtractor:function(e){var t=(0,C.defaultRangeExtractor)(e);return null===u.current||t.includes(u.current)||void 0===o[u.current]?t:(0,P._)(t).concat([u.current])}});(0,i.useEffect)(function(){s.current&&c.scrollToOffset(s.current)},[c,s]);var f=(0,U.useSet)(W.setRenderedRowAtom),d=c.getVirtualItems(),p=c.getTotalSize();(0,i.useEffect)(function(){f({rows:d,scrollHeight:p})},[f,d,p]);var h=(0,U.useValue)(W.didLoadRootAtom);(0,i.useEffect)(function(){if(h){var e=function(e){null!==e&&c.getVirtualItems()[e]&&c.scrollToIndex(e,{align:"auto",behavior:"auto"})};return setTimeout(function(){return e(u.current)}),u.subscribe(e)}},[c,u,h]);var v=(0,U.useSet)(W.virtualizerAtom);return(0,i.useEffect)(function(){v(c)},[v,c]),{scrollRef:n,virtualizer:c}}function ev(e){var r=(0,V.default)(function(){return(0,E.selectAtom)(W.renderedRowsAtom,function(r){var n,i=r.get(e);return i?{style:(n={},(0,t._)(n,Z.rowHeight,i.height+"px"),(0,t._)(n,Z.rowY,i.y+"px"),(0,t._)(n,Z.rowLeftIndent,"calc(".concat(i.depth," * ").concat(q.gutterWidth,")")),n),depth:i.depth}:void 0},k.default)},[e]);return(0,U.useValue)(r)}function em(e){var t=e.index,r=e.path,n=(0,i.useRef)(null),o=(0,U.useObservableValue)(W.focusedPathAtom);return(0,i.useEffect)(function(){var e=function(e){var t;null==(t=n.current)||t.setAttribute("tabIndex",e.toString())},i=function(n){n?e(n===r?0:-1):e(0===t?0:-1)};return i(o.current),o.subscribe(i)},[o,r,t]),(0,i.useEffect)(function(){var e=function(e){null!==t&&clearTimeout(t),e!==r||document.activeElement!==n.current&&(t=setTimeout(function(){var e;null==(e=n.current)||e.focus()},50))},t=null;e(o.current);var i=o.subscribe(e);return function(){null!==t&&clearTimeout(t),i()}},[o,r]),[n,(0,U.useSet)(W.focusedPathAtom)]}function ey(e){var t,n=(0,U.useSet)(W.startCreateFileAtom),o=(0,U.useSet)(W.cancelCreateFileAtom),a=(0,U.useSet)(W.completeCreateFileAtom),l=(0,r._)((0,i.useState)(""),2),u=l[0],s=l[1],c=(0,U.useGet)(W.configAtom),f=(0,r._)((0,i.useState)(!1),2),d=f[0],p=f[1],h=(0,r._)((0,i.useState)(null),2),v=h[0],m=h[1],w=(0,V.default)(function(){return(0,E.selectAtom)(W.dirInfoAtom,function(t){return t.get(e)})},[e]),x=(0,V.default)(function(){return(0,E.selectAtom)(w,function(e){var t;return null!=(t=null==e?void 0:e.create)?t:null})},[w]),S=(0,V.default)(function(){return(0,E.selectAtom)(w,function(e){var t;return null!=(t=null==e?void 0:e.children)?t:null})},[w]),b=(0,U.useValue)(S),T=(0,U.useValue)(x),A=v;return!A&&u.includes("/")?A=G({fileName:u,parentPath:e}):A||(A=M({fileName:u,siblingNames:null!=(t=null==b?void 0:b.map(function(e){return e.filename}))?t:[],parentPath:e})),{value:u,setValue:s,fileType:T,create:function(t){return(0,R._)(function(){var r,n,i,o,l,u,f,d,h,v;return(0,F._)(this,function(w){switch(w.label){case 0:if(!T||(o=(i=c()).readOnly,l=i.fs,o))return[2];if(u=null,0!==t.length)return[3,1];return u="File names cannot be empty",[3,4];case 1:if(!t.includes("/"))return[3,3];return[4,L({fileName:t,parentPath:e,fs:l})];case 2:return u=w.sent(),[3,4];case 3:u=M({fileName:t,siblingNames:null!=(f=null==b?void 0:b.map(function(e){return e.filename}))?f:[],parentPath:e}),w.label=4;case 4:if(u)return m(u),[2];if((h=(d=e===y.ROOT_PATH?null:e+"/")?d+t:t).includes("//")&&(h=h.split("/").filter(function(e){return e.length>0}).join("/")),p(!0),T!==g.FileType.Directory)return[3,6];return[4,l.createDir(h)];case 5:return v=w.sent(),[3,8];case 6:return[4,l.writeFile(h,new j.default(""))];case 7:v=w.sent(),w.label=8;case 8:if(v.error)return m("Something went wrong"),[2];return p(!1),s(""),a({parentPath:e,path:h,fileType:T}),null==(r=(n=c()).onCreate)||r.call(n,{path:h,type:T}),[2]}})})()},creating:d,error:A,clearError:function(){return m(null)},cancel:(0,V.default)(function(){return function(){return o(e)}},[e,o]),start:(0,V.default)(function(){return function(t){return n({parentPath:e,fileType:t})}},[e,n]),siblings:b}}function eg(e){var t=(0,V.default)(function(){return(0,p.atom)(function(t){var n=[],i=!0,o=!1,a=void 0;try{for(var l,u=t(W.presenceStateAtom)[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var s=(0,r._)(l.value,2),c=s[0],f=s[1];if(!(0,I.descendantOf)(e,c))return;n.push.apply(n,(0,P._)(f))}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return n.length?n:null})},[e]);return(0,U.useValue)(t)}function ew(e){var t=(0,V.default)(function(){return(0,p.atom)(function(t){var r;return null!=(r=t(W.presenceStateAtom).get(e))?r:null})},[e]);return(0,U.useValue)(t)}function ex(){return(0,U.useSet)(W.renameAtom)}function eS(e){var t=(0,V.default)(function(){return(0,E.selectAtom)(W.selectedNodesAtom,function(t){return t.has(e)})},[e]);return(0,U.useObservableValue)(t)}function eb(e,t){if(t===e.path)return!1;var r=t+"/"+(0,m.getFileName)(e.path);return!(r===e.path||(0,I.descendantOf)(e.path,t)||(0,I.descendantOf)(r,e.path))}e.s(["useCollapse",()=>ef,"useContentContainer",()=>el,"useCreateFile",()=>ey,"useDirPresence",()=>eg,"useExpand",()=>ed,"useFilePresence",()=>ew,"useGutters",()=>ei,"useIsExpanded",()=>es,"useIsLoading",()=>eu,"useIsSelected",()=>eS,"useItemNode",()=>ea,"useLayoutRow",()=>ev,"useOnDirOnClick",()=>er,"useOnFileClick",()=>ee,"useOnFocus",()=>em,"useOnKeyDown",()=>ep,"useRename",()=>ex,"useRenderedRows",()=>eo,"useTabIndex",()=>ec,"useVirtualizeRows",()=>eh,"useWidestRows",()=>en],10261);var eT=(0,p.atom)(null,function(e,t,r){return(0,R._)(function(){var n,i,o,a,l,u,s,c,f,d;return(0,F._)(this,function(p){switch(p.label){case 0:if(i=null==(n=e(W.dirInfoAtom).get(r.to))?void 0:n.children)return[3,2];return[4,e(W.configAtom).fs.readDir(r.to)];case 1:if((o=p.sent()).error)return[2];i=o.children,p.label=2;case 2:var h,v,w,x,S,b;if(!i)throw Error("Expected children");if(h=r.nodes,v=r.to,w=i,a=h.reduce(function(e,t){var r=(0,m.getFileName)(t.path),n=(0,m.getParentPath)(t.path),i=null==w?void 0:w.find(function(e){return e.filename===r});return i&&(""===n?y.ROOT_PATH:n)!==v&&e.push({type:i.type,path:v===y.ROOT_PATH?i.filename:v+"/"+i.filename}),e},[]),x=r.nodes,S=r.to,!(l=(b=(0,m.coalesceFsNodes)(x)).every(function(e){return eb(e,S)})?b.map(function(e){var t=(0,m.getFileName)(e.path);return{from:e,to:S===y.ROOT_PATH?t:S+"/"+t}}):null)||(s=(u=e(W.configAtom)).readOnly,c=u.fs,s))return[2];if(!a.length)return[3,4];if(a.some(function(e){return l.some(function(t){var r=t.from;return(0,I.descendantOf)(e.path,r.path)})}))return[2];if(!r.overwrite)return null==(f=e(W.configAtom).onConflicts)||f({type:"move",nodes:r.nodes,to:r.to,conflicts:a}),[2];return[4,Promise.all(a.map(function(e){return(0,R._)(function(){var t;return(0,F._)(this,function(r){switch(r.label){case 0:return[4,e.type===g.FileType.Directory?c.deleteDir(e.path):c.deleteFile(e.path)];case 1:return[2,(t=r.sent()).error?{error:t.error,node:e}:null]}})})()}))];case 3:if(p.sent().filter(Boolean).length)return[2];p.label=4;case 4:return t(W.pendingMovesAtom,l),[4,Promise.all(l.map(function(e){var t=e.from,r=e.to;return(0,R._)(function(){var e;return(0,F._)(this,function(n){switch(n.label){case 0:return[4,t.type===g.FileType.Directory?c.moveDir(t.path,r):c.moveFile(t.path,r)];case 1:return[2,(e=n.sent()).error?{error:e.error,from:t,to:r}:null]}})})()}))];case 5:if(d=p.sent(),t(W.pendingMovesAtom,[]),d.filter(Boolean).length)return[2];return t(W.selectedNodesAtom,new Map(l.map(function(e){return[e.to,e.from.type]}))),[2]}})})()});e.s(["canMove",()=>eb,"moveFilesAtom",()=>eT],525544);var eA=e.i(664152),e_=(0,p.atom)(null,function(e,t,r){return(0,R._)(function(){var n,i,o,a,l,u,s,c,f,p,h;return(0,F._)(this,function(v){switch(v.label){case 0:if(i=(n=e(W.configAtom)).readOnly,o=n.fs,i)return[2];if(a=r.parentPath||y.ROOT_PATH,u=null==(l=e(W.dirInfoAtom).get(a))?void 0:l.children,r.files.length>_.MAX_NUM_FILES_UPLOAD_LIMIT)return r.onError("Trying to upload too many files at once. Please try again with fewer files."),[2];if(r.files.reduce(function(e,t){return t.size+e},0)>_.MAX_FILE_UPLOAD_SIZE_LIMIT_BYTES)return r.onError("Total file upload size exceeds maximum limit. Please try again with smaller files."),[2];if(u)return[3,2];return[4,o.readDir(a)];case 1:if((s=v.sent()).error)return[2];u=s.children,v.label=2;case 2:if(!u)throw Error("Expected children");if(c=(0,P._)(new Set(r.files.map(function(e){return e.dirPath?e.dirPath.split("/")[0]:e.name}))),(p=(f=u.filter(function(e){return c.some(function(t){return t===e.filename})})).length?f.map(function(e){return{path:a===y.ROOT_PATH?e.filename:a+"/"+e.filename,type:e.type}}):null)&&!r.overwrite)return null==(h=e(W.configAtom).onConflicts)||h({type:"upload",files:r.files,to:a,conflicts:f.map(function(e){return{path:a===y.ROOT_PATH?e.filename:a+"/"+e.filename,type:e.type}})}),[2];if(!p)return[3,4];return[4,Promise.all(p.map(function(e){return(0,R._)(function(){var t;return(0,F._)(this,function(r){switch(r.label){case 0:return[4,e.type===g.FileType.Directory?o.deleteDir(e.path):o.deleteFile(e.path)];case 1:return[2,(t=r.sent()).error?{error:t.error,node:e}:null]}})})()}))];case 3:if(v.sent().filter(Boolean).length)return[2];v.label=4;case 4:return(0,_.uploadFiles)({parentPath:r.parentPath,files:r.files,fs:o,onStart:function(e){t(W.pendingUploadsAtom,function(t){return(0,d.produce)(t,function(t){var r=!0,n=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var l=o.value;t.push(l)}}catch(e){n=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(n)throw i}}})})},onUpload:function(e){t(W.pendingUploadsAtom,function(t){return(0,d.produce)(t,function(t){var r=t.findIndex(function(t){return t.targetPath===e.path});-1!==r&&t.splice(r,1)})})},onError:function(e){e.error===_.UploadErrors.FileRead&&r.onError("Error reading file. Try uploading again."),t(W.pendingUploadsAtom,function(t){return(0,d.produce)(t,function(t){var r=t.findIndex(function(t){return t.targetPath===e.path});-1!==r&&t.splice(r,1)})})},onDone:function(e){var t=e.errors,r=e.parentPath;if(!t.length)return void eA.logger.info("Successfully uploaded files",{uploadSource:"filetree",parentPath:r})}}),[2]}})})()});e.s(["uploadFilesAtom",()=>e_],453955);var eD=e.i(480028),eR=e.i(446530),eP=e.i(630818),eF=e.i(625484),eC=(0,p.atom)(0),eO=(0,p.atom)(null),ek=(0,p.atom)(function(e){var t=e(eO);if(null===t)return null;var r=e(W.renderedRowsAtom),n=-1!==t?r.get(t):null;return n&&n.depth>0||(null==n?void 0:n.row.type)==="dir"?(0,D.getDropPreview)(r,t):{y:e(eC),depth:1,height:e(W.containerSizeAtom).height-8}}),eE="(".concat(q.dropPreviewDepth," - 1) * ").concat(q.gutterWidth),ej=(0,eR.cssRecord)({root:[K.rcss.position.absolute,K.rcss.top(0),K.rcss.left(0),K.rcss.borderRadius(8),{pointerEvents:"none",transform:"translate(calc(".concat(eE,"), ").concat(q.dropPreviewY,")"),width:"calc(100% - ".concat(eE,")"),height:q.dropPreviewHeight,opacity:q.dropPreviewOpacity,outline:"1px dashed ".concat(q.statusColor),outlineOffset:-1}]}),eI=(0,i.memo)(function(){var e=(0,U.useObservableValue)(ek),r=(0,U.useObservableValue)(eB),o=(0,U.useObservableValue)(eU),a=(0,i.useRef)(null);(0,A.useStyleSet)(a,e,function(e){var r,n,i,o;return o={},(0,t._)(o,Z.dropPreviewY,(null!=(r=null==e?void 0:e.y)?r:0)+"px"),(0,t._)(o,Z.dropPreviewHeight,(null!=(n=null==e?void 0:e.height)?n:0)+"px"),(0,t._)(o,Z.dropPreviewDepth,null!=(i=null==e?void 0:e.depth.toString())?i:"0"),o}),(0,A.useStyleSet)(a,o,function(e){return(0,t._)({},Z.dropPreviewOpacity,e?"1":"0")}),(0,A.useStyleSet)(a,r,function(e){return(0,t._)({},Z.statusColor,e?eD.tokens.accentPrimaryDefault:eD.tokens.accentNegativeDefault)});var l=(0,S.usePrefersReducedMotion)();return(0,n.jsx)(eF.View,{style:{transition:l?void 0:"transform 140ms, width 140ms, height 140ms, opacity 140ms ease-out 60ms"},innerRef:a,css:ej.root})}),eV=(0,p.atom)(null,function(e,t,n){if(null!==n){var i=!0,o=!1,a=void 0;try{for(var l,u=e(W.renderedRowsAtom)[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var s=(0,r._)(l.value,2),c=s[0],f=s[1];if(!(n.y<f.y)&&!(n.y>f.y+f.height))return t(eO,c),f}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}t(eO,-1)}}),eN=c.Type.Object({type:c.Type.Literal("nodes"),width:c.Type.Number(),height:c.Type.Number(),nodes:c.Type.Array(c.Type.Object({path:c.Type.String(),type:c.Type.Enum(g.FileType)}))});function ez(){var e=(0,U.useSet)(eV),t=(0,U.useSet)(eO),n=(0,i.useRef)(null),o=(0,i.useRef)(null),a=(0,i.useRef)(null),s=(0,x.default)().showError,c=(0,U.useGet)(eC),f=(0,U.useSet)(e_),d=(0,U.useSet)(eT),p=(0,U.useSet)(eB),v=(0,i.useRef)(null),w=(0,U.useGet)(W.dirInfoAtom),S=(0,U.useGet)(W.rootPathAtom),A=(0,U.useSet)(W.containerSizeAtom),D=ed(),R=(0,U.useValue)(W.readOnlyAtom),P=(0,r._)((0,l.useDrop)(function(){return{accept:[g.FileType.File,g.FileType.Directory,u.NativeTypes.FILE],canDrop:function(){return!0},hover:function(t,i){var l=a.current;if(l){o.current&&function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{scrollZoneSize:{w:50,h:50},scrollVelocity:{x:50,y:50},scrollUpdateThrottle:100},i=n.scrollZoneSize,o=n.scrollVelocity,a=n.scrollUpdateThrottle,l=(0,h.default)(function(){var n=t.getClientOffset();if(!n)return[0,0];var a=n.x,l=n.y,u=e.getBoundingClientRect(),s=u.x,c=u.y,f=u.width,d=u.height,p=Math.min(f/2,i.w),h=Math.min(d/2,i.h),v=function(e,t){var n=(0,r._)(t,2),i=n[0],o=n[1];return(0,b.default)(e,i[0],i[1])?(e-i[1])/(i[1]-i[0]):(0,b.default)(e,o[0],o[1])?(e-o[0])/(o[1]-o[0]):0};return[v(a,[[s,s+p],[s+f-p,s+f]])*o.x,v(l,[[c,c+h],[c+d-h,c+d]])*o.y]},a,{trailing:!1})();if(l){var u=(0,r._)(l,2),s=u[0],c=u[1];if(0!==s||0!==c){var f=e.scrollLeft,d=e.scrollTop,p=e.scrollWidth,v=e.scrollHeight,m=e.clientWidth,y=e.clientHeight;requestAnimationFrame(function(){e.scrollTop=(0,T.clampToRange)(0,p-m,f+s),e.scrollTop=(0,T.clampToRange)(0,v-y,d+c)})}}}(o.current,i);var u=i.getClientOffset();if(u){var s=e({x:u.x-l.x,y:u.y-l.y+c()});s?"file"===s.row.type||"uploadFile"===s.row.type?n.current=(0,m.getParentPath)(s.row.path)||y.ROOT_PATH:"dir"===s.row.type?n.current=s.row.path:n.current=s.row.dir:n.current=S();var f="nodes"!==t.type||(0,m.coalesceFsNodes)(t.nodes).every(function(e){var t;return eb(e,null!=(t=n.current)?t:S())});if(p(f),(null==s?void 0:s.row.type)!=="dir"){v.current&&(clearTimeout(v.current.timer),v.current=null);return}var d=s.row.path;if(v.current){if(v.current.dir===d)return;clearTimeout(v.current.timer),v.current=null}if(f){var g=setTimeout(function(){var e;null!=(e=w().get(d))&&e.expanded||D(d)},400);v.current={dir:d,timer:g}}}}},drop:function(e,t){var r,i=null!=(r=n.current)?r:S();if("nodes"===e.type){d({to:i,nodes:e.nodes}),n.current=null;return}e.dirContent.then(function(e){var t=e.reduce(function(e,t){return t.size+e},0);e.length>_.MAX_NUM_FILES_UPLOAD_LIMIT?s("Trying to upload too many files at once. Please try again with fewer files."):t>_.MAX_FILE_UPLOAD_SIZE_LIMIT_BYTES?s("Total file upload size exceeds maximum limit. Please try again with smaller files."):f({parentPath:i===y.ROOT_PATH?void 0:i,files:e.filter(Boolean),onError:s})}),n.current=null},collect:function(e){return{isOver:e.isOver()}}}},[]),2),F=P[0].isOver,C=P[1],O=(0,U.useSet)(eU);(0,i.useEffect)(function(){if(O(F),F){var e,r=null==(e=o.current)?void 0:e.getBoundingClientRect();a.current=r?{x:r.x,y:r.y}:null,r&&A({width:r.width,height:r.height});return}v.current&&(clearTimeout(v.current.timer),v.current=null),n.current=null,t(null)},[O,F,t,A]);var k=(0,U.useSet)(eC);return(0,i.useEffect)(function(){var e=o.current;if(e){var t=(0,h.default)(function(){k(e.scrollTop)},200);return e.addEventListener("scroll",t),function(){t.cancel(),e.removeEventListener("scroll",t)}}},[k]),{dropRef:R?void 0:C,containerRef:o}}var eM=(0,p.atom)(null,function(e,t,n){t(W.selectedNodesAtom,function(e){return(0,d.produce)(e,function(e){e.set(n.path,n.type)})});var i=[n];if(e(W.lastSelectWasSingleAtom))return i;var o=!0,a=!1,l=void 0;try{for(var u,s=e(W.selectedNodesAtom)[Symbol.iterator]();!(o=(u=s.next()).done);o=!0){var c=(0,r._)(u.value,2),f=c[0],p=c[1];f!==n.path&&i.push({path:f,type:p})}}catch(e){a=!0,l=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw l}}return i});function eH(e){var t=(0,U.useSet)(eO),n=(0,U.useSet)(eM),a=(0,U.useValue)(W.readOnlyAtom),l=(0,i.useRef)(null),u=(0,r._)((0,o.useDrag)({type:e.type,item:function(){var t,r,i=n(e),o=null!=(r=null==(t=l.current)?void 0:t.getBoundingClientRect())?r:{width:160,height:32};return{nodes:i,type:"nodes",width:o.width,height:o.height}},collect:function(t){var r=t.getItem();return{isDragging:!!((null==r?void 0:r.type)==="nodes"&&r.nodes.some(function(t){return t.path===e.path}))}},end:function(){t(null)}}),3),s=u[0],c=u[1],f=u[2],d=s.isDragging;return(0,w.useDisableNativeDragPreview)(f),{isDragging:d,dragRef:a?void 0:c,sizeRef:l}}var eL=(0,eR.cssRecord)({root:[K.rcss.position.absolute,{left:0,top:0,transform:"translate(".concat(q.dragPreviewX,", ").concat(q.dragPreviewY,")"),pointerEvents:"none"}],item:[K.rcss.backgroundColor.backgroundHighest,K.rcss.flex.row,K.rcss.align.center,K.rcss.shadow(3),X,{height:q.rowHeight,borderRadius:q.borderRadius}],icon:[$,{marginRight:q.iconTextGap}],text:[Q,K.rcss.flex.growAndShrink(1),{color:q.statusColor}],count:[Q,K.rcss.backgroundColor.accentPrimaryDimmest,K.rcss.color.accentPrimaryStrongest,K.rcss.fontWeight.medium,K.rcss.position.absolute,K.rcss.left("calc(50% - 4px)"),K.rcss.top("calc(100% - 4px)"),K.rcss.borderRadius("full"),K.rcss.px(4),K.rcss.center,{fontSize:q.fontSizeSmall}]}),eG=(0,i.memo)(function(e){var r=(0,i.useRef)(null),o=el(),a=(0,U.useObservableValue)(eW);return(0,A.useStyleSet)(r,a,function(e){var r;return r={},(0,t._)(r,Z.dragPreviewX,(e?e.x:0)+"px"),(0,t._)(r,Z.dragPreviewY,(e?e.y:0)+"px"),r}),(0,A.useStyleSet)(r,o.horizontalPadding,function(e){return(0,t._)({},Z.horizontalPadding,e+"px")}),(0,A.useStyleSet)(r,o.fontSize,function(e){return(0,t._)({},Z.fontSize,e+"px")}),(0,A.useStyleSet)(r,o.fontSizeSmall,function(e){return(0,t._)({},Z.fontSizeSmall,e+"px")}),(0,A.useStyleSet)(r,o.iconSize,function(e){return(0,t._)({},Z.iconSize,e+"px")}),(0,A.useStyleSet)(r,o.iconTextGap,function(e){return(0,t._)({},Z.iconTextGap,e+"px")}),(0,A.useStyleSet)(r,o.borderRadius,function(e){return(0,t._)({},Z.borderRadius,e+"px")}),(0,A.useStyleSet)(r,o.gutterWidth,function(e){return(0,t._)({},Z.gutterWidth,e+"px")}),(0,n.jsx)(eF.View,{innerRef:r,css:eL.root,children:(0,n.jsxs)(eF.View,{css:eL.item,style:{width:e.width,height:e.height},children:[(0,n.jsx)(eF.View,{css:eL.icon,children:e.type===g.FileType.File?(0,n.jsx)(eP.default,{path:e.path}):(0,n.jsx)(v.default,{})}),(0,n.jsx)(eF.View,{css:eL.text,children:(0,m.getFileName)(e.path)}),e.count>1?(0,n.jsx)(eF.View,{css:eL.count,children:e.count}):null]})})}),eW=(0,p.atom)(null);(0,p.atom)(function(e){return null!==e(eW)});var eU=(0,p.atom)(!1),eB=(0,p.atom)(!1);function eK(){var e=(0,a.useDragLayer)(function(e){return{item:e.getItem(),isDragging:e.isDragging(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset()}}),t=e.isDragging,o=e.item,l=e.currentOffset,u=(0,U.useSet)(eW);if((0,i.useEffect)(function(){u(l?{x:l.x,y:l.y}:null)},[u,l]),!t||!f.Value.Check(eN,o))return null;var c=o.nodes,d=o.width,p=o.height,h=(0,r._)(c,1)[0];return h?(0,s.createPortal)((0,n.jsx)(eG,{type:h.type,path:h.path,count:c.length,width:d,height:p}),document.body):null}e.s(["DragLayer",()=>eK,"DropPreview",()=>eI,"useDragFile",()=>eH,"useDropFile",()=>ez],369685);var eY=e.i(223808),eZ=e.i(282453),eq=c.Type.Enum(g.FileType),eX=c.Type.Object({filename:c.Type.String({minLength:1}),type:eq}),e$=c.Type.Object({scrollOffset:c.Type.Number({minimum:0}),dirInfo:c.Type.Record(c.Type.String(),c.Type.Object({expanded:c.Type.Boolean(),children:c.Type.Array(eX)}))});function eQ(e){var t;return t=eZ.default.get(eJ(e)),f.Value.Check(e$,t)?{dirInfo:new Map(Object.entries(t.dirInfo)),scrollOffset:t.scrollOffset}:null}function eJ(e){return"repl:workspace:filetree:"+e}var e0=c.Type.Array(c.Type.String()),e1="repl:workspace:filetree:savedKeys",e2=(0,E.selectAtom)(W.configAtom,function(e){return e.localCacheKey?eJ(e.localCacheKey):null}),e4=(0,p.atom)(null,function(e){var t=e(W.configAtom),n=t.localCacheKey,i=t.filter;if(n){var o=null!=(p=null==(d=e(W.virtualizerAtom))?void 0:d.scrollOffset)?p:0,a=e(W.dirInfoAtom),l=!1,u=!0,s=!1,c=void 0;try{for(var d,p,h,v=a[Symbol.iterator]();!(u=(h=v.next()).done);u=!0){var m=(0,r._)(h.value,2)[1].children;if(l=!!(null==m?void 0:m.length))break}}catch(e){s=!0,c=e}finally{try{u||null==v.return||v.return()}finally{if(s)throw c}}if(l){var y=function(e,t){var n={dirInfo:Object.create(null),scrollOffset:e.scrollOffset},i=!0,o=!1,a=void 0;try{for(var l,u=e.dirInfo[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var s=(0,r._)(l.value,2),c=s[0],f=s[1],d=f.expanded,p=f.children;if(p){var h=p.filter(t);h.length&&(n.dirInfo[c]={expanded:d,children:h})}}}catch(e){o=!0,a=e}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return n}({dirInfo:a,scrollOffset:o},i),g=eJ(n),w=(_=eZ.default.get(e1),f.Value.Check(e0,_)?_:null);if(w){var x=w.filter(function(e){return e!==g});x.unshift(g);var S=x.splice(20),b=!0,T=!1,A=void 0;try{for(var _,D,R=S[Symbol.iterator]();!(b=(D=R.next()).done);b=!0){var P=D.value;eZ.default.remove(P)}}catch(e){T=!0,A=e}finally{try{b||null==R.return||R.return()}finally{if(T)throw A}}eZ.default.set(e1,x)}else eZ.default.set(e1,[g]);return eZ.default.set(eJ(n),y)}}});function e5(){var e=(0,U.useValue)(e2),t=(0,U.useObservableValue)(W.dirInfoAtom),r=(0,U.useSet)(e4);(0,i.useEffect)(function(){if(e){var n,i,o=null,a=null!=(n=window.requestIdleCallback)?n:window.requestAnimationFrame,l=null!=(i=window.cancelIdleCallback)?i:window.cancelAnimationFrame,u=(0,eY.default)(function(){o&&l(o),o=a(r)},1e3),s=t.subscribe(u);return document.addEventListener("visibilitychange",r),document.addEventListener("beforeunload",r),function(){u.cancel(),o&&l(o),document.removeEventListener("visibilitychange",r),document.removeEventListener("beforeunload",r),s(),r()}}},[e,t,r])}e.s(["getLocalCache",()=>eQ,"useLocalCache",()=>e5],916866);var e3=e.i(878420),e8=e.i(64386),e6=e.i(32988),e7=e.i(416298),e9=e.i(672963),te=e.i(315801),tt=e.i(343252),tr=e.i(167626),tn={name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;t.styles.popper.width="".concat(t.rects.reference.width,"px")},effect:function(e){var t=e.state;(0,tr._)(t.elements.reference,HTMLElement)&&(t.elements.popper.style.width="".concat(t.elements.reference.offsetWidth,"px"))}},ti=e.i(98816),to=e.i(907371),ta=e.i(290446),tl=e.i(540697),tu=(0,E.selectAtom)(W.configAtom,function(e){return e.autocomplete});function ts(e){var t=e.id,r=e.items,i=e.activeIndex,o=e.onSuggestion,a=e.fileType,l=e.innerRef;return(0,n.jsx)(eF.View,{tag:"ul",id:t,"aria-label":"Suggestions",innerRef:l,children:r.map(function(e,t){var r=t===i;return(0,n.jsxs)(to.Interactive,{id:e.value,tag:"li",role:"option","aria-selected":r,variant:"listItem",row:!0,align:"center",gap:8,px:8,height:24,clsx:r?tl.default.itemActive:tl.default.itemInactive,onClick:function(){return o(e.value)},children:[(0,n.jsx)(eF.View,{clsx:tl.default.icon,children:a===g.FileType.Directory?(0,n.jsx)(v.default,{}):(0,n.jsx)(eP.default,{path:e.value})}),(0,n.jsx)(ta.HighlightMatches,{clsx:tl.default.text,text:e.value,highlight:e.highlight,dimmed:!r})]},e.value)})})}var tc=e.i(754873),tf=e.i(6338),td=e.i(173703),tp=e.i(399144),th=[q.horizontalPadding,q.iconSize,q.iconTextGap].join(" + "),tv=[tc.interactive.filled,{height:"100%",width:"100%",paddingLeft:"calc(".concat(th,")"),paddingRight:q.horizontalPadding,fontSize:q.fontSize}],tm=(0,eR.cssRecord)({root:[X,{padding:q.horizontalPadding}],icon:[$,K.rcss.color.accentNegativeDefault,{marginRight:q.iconTextGap}],text:[{fontSize:q.fontSize},K.rcss.color.foregroundDimmer,K.rcss.flex.growAndShrink(1)]});function ty(e){return(0,n.jsxs)(eF.View,{css:tm.root,row:!0,children:[(0,n.jsx)(eF.View,{css:tm.icon,children:(0,n.jsx)(e7.default,{})}),(0,n.jsx)(eF.View,{css:tm.text,children:e.message})]})}var tg=(0,eR.cssRecord)({root:[K.rcss.position.relative,K.rcss.flex.growAndShrink(1),{height:"100%"}],icon:[$,K.rcss.position.absolute,K.rcss.left(q.horizontalPadding),K.rcss.top("50%"),{transform:"translateY(-50%)"}],input:tv,inputLoading:[tv,tf.loadingStyle.backgroundPulse()],menu:[K.rcss.overflow("hidden"),{borderRadius:q.borderRadius,border:"1px solid",borderColor:eD.tokens.outlineDefault}],label:[K.rcss.visuallyHidden]});function tw(e){var o,a,l,u,s,c,f,p,h,m,y,w=(0,i.useId)(),x=(0,i.useId)(),S=(o=(0,i.useRef)(null),a=el(),(0,A.useStyleSet)(o,a.fontSize,function(e){return(0,t._)({},Z.fontSize,e+"px")}),(0,A.useStyleSet)(o,a.iconTextGap,function(e){return(0,t._)({},Z.iconTextGap,e+"px")}),(0,A.useStyleSet)(o,a.borderRadius,function(e){return(0,t._)({},Z.borderRadius,e+"px")}),(0,A.useStyleSet)(o,a.horizontalPadding,function(e){return(0,t._)({},Z.horizontalPadding,e+"px")}),(0,A.useStyleSet)(o,a.iconSize,function(e){return(0,t._)({},Z.iconSize,e+"px")}),(0,A.useStyleSet)(o,a.fontSize,function(e){return(0,t._)({},Z.rowHeight,(0,W.getRowHeight)(e,"file")+"px")}),(0,A.useStyleSet)(o,a.iconTextGap,function(e){return(0,t._)({},Z.iconTextGap,e+"px")}),u=(l=(0,r._)((0,i.useState)(null),2))[0],s=l[1],f=(c=(0,r._)((0,i.useState)(null),2))[0],p=c[1],m=(h=(0,e6.usePopper)(u,f,{modifiers:[{name:"offset",options:{offset:[0,4]}},tn],placement:"bottom-start"})).styles,y=h.attributes,{menuRef:(0,tt.useMergeRefs)([o,p],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:100"}),menuAnchorRef:s,styles:m.popper,attributes:y.popper}),b=function(e){var t=e.onSuggestion,n=e.siblings,o=e.value,a=(0,U.useValue)(tu),l=(0,r._)((0,i.useState)({items:[],activeIndex:null}),2),u=l[0],s=l[1],c=(0,ti.default)(n),f=(0,ti.default)(o),p=(0,r._)((0,i.useTransition)(),2)[1],h=a?function(e){p(function(){var t=a(e);s(function(e){return(0,d.produce)(e,function(e){e.items=t.filter(function(e){return e.value!==f.current&&!c.current.some(function(t){return t.filename===e.value})})})})})}:null;function v(){s({items:[],activeIndex:null})}return{items:u.items.length?u.items:null,activeIndex:u.activeIndex,query:h,onKeyDown:function(e){if("Enter"===e.key){var r=null!==u.activeIndex?u.items[u.activeIndex]:null;if(!r)return;return e.preventDefault(),t(r.value),v(),!0}return"ArrowDown"===e.key?(e.preventDefault(),s(function(e){return(0,d.produce)(e,function(e){if(null===e.activeIndex||e.activeIndex>e.items.length-1){e.activeIndex=0;return}e.activeIndex++})}),!0):"ArrowUp"===e.key?(e.preventDefault(),s(function(e){return(0,d.produce)(e,function(e){if(null===e.activeIndex){e.activeIndex=e.items.length-1;return}if(0===e.activeIndex){e.activeIndex=null;return}e.activeIndex--})}),!0):void 0},clear:v}}({onSuggestion:e.onSuggestion,siblings:e.siblings,value:e.value}),T=(0,U.useGet)(W.virtualizerAtom),_=(0,r._)((0,i.useState)(!0),2),D=_[0],R=_[1],P=(0,i.useRef)(null);(0,i.useEffect)(function(){if(P.current){var e,t=null==(e=T())?void 0:e.scrollElement;if(t)return(0,te.inView)(P.current,function(){return R(!0),function(){return R(!1)}},{root:t})}},[T]);var F=D&&!!(e.error||b.items),C=b.items&&b.activeIndex?b.items[b.activeIndex]:void 0,O=!e.error&&b.items?b.items:null,k=(0,i.useRef)(null),E=b.clear,j=(0,e9.default)(function(e){var t;null!=(t=k.current)&&t.contains(e.target)||E()},[E]),I=(0,e9.default)(function(t){var r,n,i=e.inputRef.current;!i||(null==(r=k.current)?void 0:r.contains(t.target))||(null==(n=j.current)?void 0:n.contains(t.target))||e.onClickOutside({inputValue:i.value})},[]),V=S.menuAnchorRef,N=(0,tt.useMergeRefs)([k,V],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:250"});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("label",{css:tg.label,htmlFor:w,children:"file name"}),(0,n.jsxs)(eF.View,{css:tg.root,innerRef:N,children:[(0,n.jsx)(eF.View,{css:tg.icon,children:e.fileType===g.FileType.Directory?(0,n.jsx)(v.default,{}):(0,n.jsx)(eP.default,{path:e.value})}),(0,n.jsx)("input",{spellCheck:!1,"aria-controls":b.query?x:void 0,"aria-expanded":b.items?"true":"false","aria-activedescendant":null==C?void 0:C.value,role:b.query?"combobox":void 0,id:w,ref:(0,tt.useMergeRefs)([e.inputRef,P,I],{breadcrumb:"client/workspace/components/Filetree/FileNodeInput.tsx:274"}),css:e.loading?tg.inputLoading:tg.input,value:e.value,onChange:e.loading?void 0:function(t){var r;e.onChange(t),null==(r=b.query)||r.call(b,{input:t.currentTarget.value,fileType:e.fileType,type:e.type,siblings:e.siblings})},onKeyDown:function(t){b.onKeyDown(t)||e.onKeyDown(t)}})]}),(0,n.jsx)(tp.Portal,{children:(0,n.jsxs)(td.ShadesSurface,(0,e8._)((0,e3._)({colorShade:"popup",css:tg.menu,innerRef:S.menuRef,style:(0,e8._)((0,e3._)({},S.styles),{display:F?"block":"none"})},S.attributes),{children:[e.error?(0,n.jsx)(ty,{message:e.error}):null,O?(0,n.jsx)(ts,{id:x,innerRef:j,items:O,activeIndex:b.activeIndex,onSuggestion:function(t){e.onSuggestion(t),E()},fileType:e.fileType}):null]}))})]})}var tx=(0,eR.cssRecord)({createFilePicker:[{fontSize:q.fontSize,paddingRight:q.horizontalPadding,paddingLeft:q.horizontalPadding}],button:[K.rcss.reset.button,K.rcss.p(2),tc.interactive.filled,K.rcss.color.foregroundDimmer,{fontSize:"inherit"}],text:[Q,K.rcss.color.foregroundDimmest]});function tS(e){var t=ey(e.dir),r=(0,i.useRef)(null);return((0,i.useEffect)(function(){var e;t.fileType&&(null==(e=r.current)||e.focus())},[t.fileType]),t.fileType)?(0,n.jsx)(tw,{siblings:t.siblings||[],type:"create",inputRef:r,loading:t.creating,error:t.error,value:t.value,fileType:t.fileType,onClickOutside:function(e){var r=e.inputValue;""===r?t.cancel():t.create(r)},onChange:function(e){t.error&&t.clearError(),t.setValue(e.currentTarget.value)},onKeyDown:function(e){"Escape"===e.key?t.cancel():"Enter"===e.key&&t.create(e.currentTarget.value)},onSuggestion:function(e){t.setValue(e),t.create(e)}}):(0,n.jsx)(tb,{create:t.start})}function tb(e){return(0,n.jsxs)(eF.View,{css:tx.createFilePicker,align:"center",row:!0,gap:4,children:[(0,n.jsx)(eF.View,{css:tx.text,children:"Add a"}),(0,n.jsx)(eF.View,{tag:"button",css:tx.button,onClick:function(){return e.create(g.FileType.File)},children:"file"}),(0,n.jsx)(eF.View,{css:tx.text,children:"or "}),(0,n.jsx)(eF.View,{tag:"button",css:tx.button,onClick:function(){return e.create(g.FileType.Directory)},children:"folder"})]})}e.s(["CreateFileNode",()=>tS,"CreateFilePicker",()=>tb],189739);var tT=e.i(62674),tA=e.i(116235);function t_(e){return(0,n.jsxs)(tA.default,(0,e8._)((0,e3._)({},e),{children:[(0,n.jsx)("path",{fillRule:"evenodd",d:"M1.25 5A2.75 2.75 0 0 1 4 2.25h4.999c.251 0 .485.125.625.334L11.4 5.25H20A2.75 2.75 0 0 1 22.75 8v4.5a.75.75 0 0 1-1.5 0V8c0-.69-.56-1.25-1.25-1.25h-9a.751.751 0 0 1-.625-.335L8.598 3.75H4c-.69 0-1.25.56-1.25 1.25v14c0 .69.56 1.25 1.25 1.25h9a.75.75 0 0 1 0 1.5H4A2.75 2.75 0 0 1 1.25 19V5Z",clipRule:"evenodd"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M18.438 13.8c-.147-.4-.73-.4-.875 0l-1.005 2.744a.458.458 0 0 1-.298.278l-2.436.746a.446.446 0 0 0 0 .857l2.437.752a.458.458 0 0 1 .297.279l1.005 2.745c.146.399.728.399.875 0l1.004-2.745a.458.458 0 0 1 .297-.278l2.437-.75a.446.446 0 0 0 0-.857l-2.437-.749a.458.458 0 0 1-.297-.278L18.437 13.8Z",clipRule:"evenodd"})]}))}var tD={custom_instruction:{expanded:function(e){return(0,n.jsx)(t_,(0,e3._)({},e))},collapsed:function(e){return(0,n.jsx)(t_,(0,e3._)({},e))}}},tR=function(e){var t=e.isExpanded,r=void 0!==t&&t,i=e.path,o=e.size,a=void 0===o?16:o,l=Object.hasOwn(tD,i)?tD[i]:null;return l?l[r?"expanded":"collapsed"]({size:a}):r?(0,n.jsx)(tT.default,{color:eD.tokens.foregroundDimmer,size:a}):(0,n.jsx)(v.default,{color:eD.tokens.foregroundDimmer,size:a})};e.s(["FolderIconComponent",()=>tR],518093);var tP=(0,eR.cssRecord)({root:[{marginLeft:"auto",paddingLeft:q.horizontalPadding}],svg:[{transform:"rotate(-90deg)",transformOrigin:"center center","& .inner-circle":{strokeDashoffset:q.strokeDashoffset}}]});function tF(e){var r=(0,U.useValue)(W.fontSizeAtom)/2,o=r/2,a=2*o*Math.PI,l=(0,i.useRef)(null);return(0,A.useStyleSet)(l,e.progress,function(e){return(0,t._)({},Z.strokeDashoffset,(a-e*a).toString())}),(0,n.jsx)(eF.View,{innerRef:l,css:tP.root,children:(0,n.jsxs)("svg",{css:tP.svg,height:2*r,width:2*r,children:[(0,n.jsx)("circle",{fill:eD.tokens.backgroundHigher,r:r,cx:r,cy:r}),(0,n.jsx)("circle",{className:"inner-circle",stroke:eD.tokens.foregroundDimmest,fill:"transparent",strokeWidth:r,strokeDasharray:a+" "+a,r:o,cx:r,cy:r})]})})}var tC=function(e){return e.reduce(function(e,t){return e+t.current},0)/e.length};function tO(e){var o,a,l,u,s=(0,U.useValue)(W.fontSizeAtom)/2,c=s/2,f=2*c*Math.PI,d=(o=e.uploadProgress,l=(a=(0,r._)((0,i.useState)(tC(o)),2))[0],u=a[1],(0,i.useEffect)(function(){var e=[],t=!0,r=!1,n=void 0;try{for(var i,a=o[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var l=i.value;e.push(l.subscribe(function(){u(tC(o))}))}}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return function(){e.map(function(e){return e()})}},[o]),l),p=(0,i.useRef)(null);return(0,n.jsx)(eF.View,{innerRef:p,css:tP.root,children:(0,n.jsxs)("svg",{css:tP.svg,height:2*s,width:2*s,children:[(0,n.jsx)("circle",{fill:eD.tokens.backgroundHigher,r:s,cx:s,cy:s}),(0,n.jsx)("circle",{className:"inner-circle",style:(0,t._)({},Z.strokeDashoffset,(f-d*f).toString()),stroke:eD.tokens.foregroundDimmest,fill:"transparent",strokeWidth:s,strokeDasharray:f+" "+f,r:c,cx:s,cy:s})]})})}function tk(e){var t,o,a,l,u,s,c,f,d,p,h,v,w,x,S,b,T,A,_,D,P=(0,r._)((t={path:e.path,type:e.fileType},a=(0,U.useGet)(W.configAtom),u=(l=(0,r._)((0,i.useState)(null),2))[0],s=l[1],c=(0,m.getParentPath)(t.path)||y.ROOT_PATH,f=(0,m.getFileName)(t.path),d=(0,U.useSet)(W.pathToBeRenamedAtom),p=(0,U.useSet)(W.focusedPathAtom),v=(h=(0,r._)((0,i.useState)(f),2))[0],w=h[1],S=(x=(0,r._)((0,i.useState)(!1),2))[0],b=x[1],T=(0,V.default)(function(){return(0,E.selectAtom)(W.dirInfoAtom,function(e){var t;return null==(t=e.get(c))?void 0:t.children})},[c]),A=v!==f,_=(0,U.useValue)(T),D=null,A&&v.includes("/")?D=G({fileName:v,parentPath:c}):A&&(D=M({fileName:v,siblingNames:null!=(o=null==_?void 0:_.map(function(e){return e.filename}))?o:[],parentPath:c})),[{canRename:!!v&&A&&!D,value:v,renaming:S,error:u||D,siblings:_},{setValue:w,rename:function(e){return(0,R._)(function(){var r,n,i,o,l,u,h,v,w,x,S;return(0,F._)(this,function(T){switch(T.label){case 0:if(D||!e||e===f||(n=(r=a()).readOnly,i=r.fs,o=r.onFileRenameStart,l=r.onFileRenameEnd,n))return[2];if(u=null,!e.includes("/"))return[3,2];return[4,L({fileName:e,parentPath:c,fs:i})];case 1:return u=T.sent(),[3,3];case 2:u=M({fileName:e,siblingNames:null!=(h=null==_?void 0:_.map(function(e){return e.filename}))?h:[],parentPath:c}),T.label=3;case 3:if(u)return s(u),[2];if(w=(v=c===y.ROOT_PATH?null:c+"/")?v+e:e,x=(0,m.getParentPath)(w)||y.ROOT_PATH,b(!0),null==o||o({from:t.path,to:w}),x===y.ROOT_PATH)return[3,6];return[4,i.stat(x)];case 4:if(T.sent().exists)return[3,6];return[4,i.createDir(x)];case 5:T.sent(),T.label=6;case 6:if(t.type!==g.FileType.Directory)return[3,8];return[4,i.moveDir(t.path,w)];case 7:return S=T.sent(),[3,10];case 8:return[4,i.moveFile(t.path,w)];case 9:S=T.sent(),T.label=10;case 10:if(S.error)return s("Something went wrong"),b(!1),null==l||l(),[2];return d(null),null==l||l(),p(w),[2]}})})()},cancel:function(){var e=a().onFileRenameEnd;d(null),null==e||e(),p(t.path)}}]),2),C=P[0],O=P[1],k=O.setValue,j=O.rename,I=O.cancel,N=(0,i.useRef)(null),z=(0,i.useRef)(C.value);return(0,i.useEffect)(function(){if(N.current){var e=z.current;if(e){var t=e.lastIndexOf(".");t<=1&&(t=e.length);var r=+!!e.startsWith(".");N.current.focus(),N.current.setSelectionRange(r,t)}}},[]),(0,n.jsx)(tw,{siblings:C.siblings?C.siblings.filter(function(t){return t.filename!==(0,m.getFileName)(e.path)}):[],type:"rename",inputRef:N,loading:C.renaming,error:C.error,value:C.value,fileType:e.fileType,onClickOutside:function(e){var t=e.inputValue;C.canRename?j(t):C.error||I()},onChange:function(e){k(e.currentTarget.value)},onKeyDown:function(e){"Escape"===e.key?I():"Enter"===e.key&&(C.canRename?j(e.currentTarget.value):C.error||I())},onSuggestion:function(e){k(e),j(e)}})}e.s(["CumulativeProgressCircle",()=>tO,"ProgressCircle",()=>tF],942527),e.s(["RenameFileNode",()=>tk],788123)},234961,e=>{"use strict";var t,r=e.i(960933),n=((t={}).UNTRACKED="UNTRACKED",t.UNMODIFIED="UNMODIFIED",t.MODIFIED="MODIFIED",t.TYPE_CHANGED="TYPE_CHANGED",t.ADDED="ADDED",t.DELETED="DELETED",t.RENAMED="RENAMED",t.COPIED="COPIED",t.UNMERGED="UNMERGED",t),i=r.Type.Enum(n),o=r.Type.Object({type:r.Type.Object({index:i,worktree:i}),path:r.Type.String(),staged:r.Type.Boolean(),unmerged:r.Type.Boolean(),source:r.Type.Optional(r.Type.Object({type:r.Type.Union([r.Type.Literal("RENAMED"),r.Type.Literal("COPIED")]),score:r.Type.Number(),path:r.Type.String()}))});r.Type.Object({commit:r.Type.Union([r.Type.String(),r.Type.Null()]),branch:r.Type.Union([r.Type.String(),r.Type.Null()]),upstream:r.Type.Union([r.Type.Null(),r.Type.Object({branch:r.Type.String(),ahead:r.Type.Number(),behind:r.Type.Number()})]),stashes:r.Type.Number(),changes:r.Type.Array(o)}),e.s(["GitStatusChangedFileType",()=>n])},160290,e=>{"use strict";var t,r,n,i,o,a=e.i(721281),l=e.i(346715),u=e.i(276385),s=e.i(389959),c=e.i(903381),f=e.i(343252),d=e.i(869226),p=e.i(722441),h=e.i(369685),v=e.i(10261),m=e.i(916866),y=e.i(878420),g=e.i(64386),w=e.i(530658),x=e.i(269848),S=e.i(828322),b=e.i(416298),T=e.i(205104),A=e.i(189739),_=e.i(518093),D=e.i(27304),R=e.i(942527),P=e.i(788123),F=e.i(624525),C=e.i(992785),O=e.i(814563),k=e.i(234961),E=e.i(703631),j=e.i(125674),I=e.i(820170),V=e.i(666729),N=e.i(480028),z=e.i(446530),M=e.i(613355),H=e.i(625484),L=(t={},(0,a._)(t,k.GitStatusChangedFileType.ADDED,"A"),(0,a._)(t,k.GitStatusChangedFileType.UNTRACKED,"A"),(0,a._)(t,k.GitStatusChangedFileType.MODIFIED,"M"),(0,a._)(t,k.GitStatusChangedFileType.DELETED,"D"),(0,a._)(t,k.GitStatusChangedFileType.RENAMED,"R"),(0,a._)(t,k.GitStatusChangedFileType.COPIED,"C"),t),G=(r={},(0,a._)(r,k.GitStatusChangedFileType.ADDED,N.tokens.greenDimmest),(0,a._)(r,k.GitStatusChangedFileType.UNTRACKED,N.tokens.greenDimmest),(0,a._)(r,k.GitStatusChangedFileType.MODIFIED,N.tokens.yellowDimmest),(0,a._)(r,k.GitStatusChangedFileType.DELETED,N.tokens.redDimmest),(0,a._)(r,k.GitStatusChangedFileType.RENAMED,N.tokens.tealDimmest),(0,a._)(r,k.GitStatusChangedFileType.COPIED,N.tokens.limeDimmest),r),W=(n={},(0,a._)(n,k.GitStatusChangedFileType.ADDED,N.tokens.greenStrongest),(0,a._)(n,k.GitStatusChangedFileType.UNTRACKED,N.tokens.greenStrongest),(0,a._)(n,k.GitStatusChangedFileType.MODIFIED,N.tokens.yellowStrongest),(0,a._)(n,k.GitStatusChangedFileType.DELETED,N.tokens.redStrongest),(0,a._)(n,k.GitStatusChangedFileType.RENAMED,N.tokens.tealStrongest),(0,a._)(n,k.GitStatusChangedFileType.COPIED,N.tokens.limeStrongest),n);function U(e){return e===k.GitStatusChangedFileType.ADDED||e===k.GitStatusChangedFileType.UNTRACKED||e===k.GitStatusChangedFileType.MODIFIED||e===k.GitStatusChangedFileType.DELETED||e===k.GitStatusChangedFileType.RENAMED||e===k.GitStatusChangedFileType.COPIED}var B={color:V.styleTokens.statusColor,fontSize:V.styleTokens.fontSizeSmall,minWidth:V.styleTokens.dirStatusIconSize,height:V.styleTokens.dirStatusIconSize},K=(0,z.cssRecord)({fileIcon:[M.rcss.fontWeight.bold,M.rcss.px(2),M.rcss.center,B],directoryCountIcon:[M.rcss.fontWeight.medium,M.rcss.borderRadius(4),M.rcss.px(2),M.rcss.center,B,{backgroundColor:V.styleTokens.statusBackgroundColor}],directoryDraftBufferIndicator:[M.rcss.width(8),M.rcss.height(8),M.rcss.ml(8),M.rcss.border({color:N.tokens.foregroundDimmer,width:1}),{borderRadius:"50%"}],fileDraftBufferIndicator:[M.rcss.width(8),M.rcss.height(8),M.rcss.backgroundColor.foregroundDimmer,{borderRadius:"50%"}]});function Y(e){return(0,u.jsx)(H.View,{css:K.fileIcon,children:(0,u.jsx)(H.View,{children:e.text})})}function Z(e){return(0,u.jsx)(H.View,{css:K.directoryCountIcon,children:(0,u.jsx)(H.View,{children:e.count})})}var q=e.i(754873),X=e.i(630818),$=e.i(818138),Q=e.i(960178),J=[M.rcss.position.absolute,M.rcss.top(0),M.rcss.left(0),{width:"calc(100% - ".concat(V.styleTokens.rowLeftIndent,")"),height:V.styleTokens.rowHeight,transform:"translateY(".concat(V.styleTokens.rowY,")"),marginLeft:V.styleTokens.rowLeftIndent}],ee=(0,z.cssRecord)({divider:(0,l._)(J).concat([V.rowPadding,M.rcss.flex.growAndShrink(1),M.rcss.justify.center]),dividerInner:[{borderTop:"1px dashed",borderColor:N.tokens.outlineDimmest,height:"70%",justifyContent:"end"}],dividerText:[M.rcss.truncate,M.rcss.color.foregroundDimmer,{fontSize:V.styleTokens.fontSizeSmall}],error:(0,l._)(J).concat([M.rcss.rowWithGap(4),M.rcss.align.center,V.rowPadding]),emptyDir:(0,l._)(J).concat([V.rowPadding,M.rcss.color.foregroundDimmest,M.rcss.justify.center,{paddingLeft:V.styleTokens.iconSize,paddingRight:V.styleTokens.horizontalPadding}]),row:(0,l._)(J).concat([M.rcss.flex.growAndShrink(1),M.rcss.flex.row,M.rcss.align.center,q.interactive.nofill,(o={backgroundColor:V.styleTokens.nodeBackgroundColor,borderRadius:V.styleTokens.borderRadius,cursor:"pointer","&:focus":{outline:"none !important",boxShadow:"0 0 0 1px "+N.tokens.accentPrimaryDefault,zIndex:1}},(0,a._)(o,V.cssVars.hasUnsavedChangesDisplay,"flex"),(0,a._)(o,"@media (hover: hover)",(0,a._)({},V.cssVars.contextMenuButtonDisplay,"none")),(0,a._)(o,"&:hover, &:active, &:focus",(i={},(0,a._)(i,V.cssVars.contextMenuButtonDisplay,"flex"),(0,a._)(i,V.cssVars.hasUnsavedChangesDisplay,"none"),i)),(0,a._)(o,"transitionDuration","0ms"),o)]),rowContent:[M.rcss.flex.row,M.rcss.align.center,M.rcss.flex.growAndShrink(1),V.rowPadding],uploadRow:(0,l._)(J).concat([M.rcss.flex.growAndShrink(1),M.rcss.align.center,M.rcss.flex.row,M.rcss.align.center,V.rowPadding,M.rcss.border({color:"transparent"}),(0,a._)({backgroundColor:V.styleTokens.nodeBackgroundColor,borderRadius:V.styleTokens.borderRadius},V.cssVars.statusColor,N.tokens.foregroundDimmer)]),createRow:(0,l._)(J).concat([M.rcss.justify.center]),icon:[V.iconSize,{marginRight:V.styleTokens.iconTextGap}],text:[V.textCss,M.rcss.flex.growAndShrink(1),{color:V.styleTokens.statusColor}],emptyDirText:[V.textCss,M.rcss.display.flex,M.rcss.justify.center,M.rcss.flex.growAndShrink(1),{color:V.styleTokens.statusColor}],contextMenuButton:[M.rcss.reset.button,M.rcss.height("100%"),M.rcss.center,M.rcss.cursor.pointer,q.interactive.filled,V.iconSize,{display:V.styleTokens.contextMenuButtonDisplay,borderRadius:"0 ".concat(V.styleTokens.borderRadius," ").concat(V.styleTokens.borderRadius," 0"),transitionDuration:"0ms",backgroundColor:"transparent"}],draftBufferContainer:[{display:V.styleTokens.hasUnsavedChangesDisplay}]});function et(e){var t=(0,v.useFilePresence)(e.path),r=(0,I.useValue)(F.avatarSizeAtom);return(null==t?void 0:t.length)?(0,u.jsx)($.default,{size:r,activeUsers:t}):null}function er(e){var t=(0,v.useDirPresence)(e.path);return(null==t?void 0:t.length)?(0,u.jsx)($.default,{activeUsers:t}):null}function en(e){return(0,u.jsx)(H.View,{title:"menu",tag:"button",css:ee.contextMenuButton,onClick:e.onClick,children:(0,u.jsx)(S.default,{})})}function ei(e,t){var r=(0,v.useIsSelected)(t);(0,d.useStyleSet)(e,r,function(e){return(0,a._)({},V.cssVars.nodeBackgroundColor,e?N.tokens.backgroundHigher:"transparent")}),(0,s.useEffect)(function(){var t=function(t){e.current&&e.current.setAttribute("aria-selected",t?"true":"false")};return t(r.current),r.subscribe(t)},[e,r,t])}var eo=(0,s.memo)(function(e){var t,r,n,i,o,l,d,p,m=(0,s.useRef)(null),S=(0,v.useLayoutRow)(e.index),b=(0,v.useIsExpanded)(e.path),A=(0,v.useIsLoading)(e.path),P=(r=(t=(0,w._)((0,s.useState)(A),2))[0],n=t[1],(0,s.useEffect)(function(){if(!A)return void n(!1);var e=setTimeout(function(){return n(!0)},500);return function(){clearTimeout(e)}},[A]),r),z=(0,v.useRename)(),M=(0,I.useValue)(F.rootPathAtom),L=(0,v.useTabIndex)(e.path),B=(0,v.useOnDirOnClick)(e.path),K=(0,w._)((0,v.useOnFocus)({path:e.path,index:e.index}),2),Y=K[0],q=K[1],X=e.path===M&&A,$=X?D.LOADING:(0,T.getFileName)(e.path),Q=(0,h.useDragFile)({path:e.path,type:c.FileType.Directory}),J=Q.dragRef,et=Q.sizeRef,eo=Q.isDragging;ei(m,e.path);var ea=(i=e.path,o=(0,j.default)(function(){return(0,O.selectAtom)(F.fileStatusAtom,function(e){return e?function(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done);n=!0){var u=(0,w._)(a.value,2),s=u[0],c=u[1],f=c.index,d=c.worktree;(0,E.descendantOf)(t,s)&&r.push({path:s,index:f,worktree:d})}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}if(0===r.length)return null;var p=r.every(function(e){return e.index===k.GitStatusChangedFileType.ADDED||e.worktree===k.GitStatusChangedFileType.UNTRACKED})?k.GitStatusChangedFileType.ADDED:k.GitStatusChangedFileType.MODIFIED;if(!U(p))return null;var h=r.length;return{color:W[p],backgroundColor:G[p],count:h}}(e,i):null},C.default)},[i]),(0,I.useValue)(o)),el=(0,I.useValue)(F.onContextMenuAtom);return(0,u.jsxs)(H.View,{style:(0,g._)((0,y._)({},null==S?void 0:S.style),(p={},(0,a._)(p,V.cssVars.statusColor,null!=(l=null==ea?void 0:ea.color)?l:N.tokens.foregroundDimmer),(0,a._)(p,V.cssVars.statusBackgroundColor,null==ea?void 0:ea.backgroundColor),(0,a._)(p,"opacity",eo?.1:void 0),p)),tabIndex:L,role:"treeitem","aria-label":$,"aria-expanded":b,"aria-level":(null!=(d=null==S?void 0:S.depth)?d:0)+1,css:ee.row,onFocus:function(){return q(e.path)},innerRef:(0,f.useMergeRefs)([m,Y,et,e.pending?void 0:J],{breadcrumb:"client/workspace/components/Filetree/Row.tsx:345"}),onContextMenu:el?function(t){el(t,{path:e.path,type:c.FileType.Directory})}:void 0,onKeyDown:e.pending?void 0:function(t){"Enter"===t.key&&z(e.path)},onClick:e.pending?void 0:function(e){e.currentTarget===e.target&&B(e)},children:[(0,u.jsxs)(H.View,{title:e.path,css:ee.rowContent,onClick:e.pending?void 0:B,children:[(0,u.jsx)(H.View,{css:ee.icon,children:X||P&&!b?(0,u.jsx)(x.default,{}):(0,u.jsx)(_.FolderIconComponent,{path:e.path,isExpanded:b})}),(0,u.jsx)(H.View,{css:ee.text,children:$}),e.uploadProgress?(0,u.jsx)(R.CumulativeProgressCircle,{uploadProgress:e.uploadProgress}):null,ea?(0,u.jsx)(Z,{count:ea.count}):null,b?null:(0,u.jsx)(er,{path:e.path}),null]}),el?(0,u.jsx)(en,{onClick:function(t){el(t,{path:e.path,type:c.FileType.Directory})}}):null]})}),ea=(0,s.memo)(function(e){var t,r,n,i,o,l=(0,s.useRef)(null),d=(0,v.useLayoutRow)(e.index),p=(0,v.useOnFileClick)(e.path),m=p.onClick,x=p.onDoubleClick,S=(0,v.useTabIndex)(e.path),b=(0,v.useRename)(),A=(0,w._)((0,v.useOnFocus)({path:e.path,index:e.index}),2),_=A[0],D=A[1],R=(0,T.getFileName)(e.path),P=(0,h.useDragFile)({path:e.path,type:c.FileType.File}),E=P.dragRef,z=P.sizeRef,M=P.isDragging;ei(l,e.path);var G=(t=e.path,r=(0,j.default)(function(){return(0,O.selectAtom)(F.fileStatusAtom,function(e){return e?function(e,t){var r=null==e?void 0:e.get(t);if(!r)return null;var n=null;return r.worktree!==k.GitStatusChangedFileType.UNMODIFIED?n=r.worktree:r.index!==k.GitStatusChangedFileType.UNMODIFIED&&(n=r.index),n&&U(n)?{color:W[n],text:L[n]}:null}(e,t):null},C.default)},[t]),(0,I.useValue)(r)),B=(0,I.useValue)(F.onContextMenuAtom);return(0,u.jsxs)(H.View,{style:(0,g._)((0,y._)({},null==d?void 0:d.style),(o={},(0,a._)(o,V.cssVars.statusColor,null!=(n=null==G?void 0:G.color)?n:N.tokens.foregroundDimmer),(0,a._)(o,"opacity",M?.1:void 0),o)),tabIndex:S,dataCy:"filetree-file",css:ee.row,onFocus:function(){return D(e.path)},innerRef:(0,f.useMergeRefs)([l,_,z,e.pending?void 0:E],{breadcrumb:"client/workspace/components/Filetree/Row.tsx:464"}),role:"treeitem","aria-label":R,"aria-level":(null!=(i=null==d?void 0:d.depth)?i:0)+1,onDoubleClick:e.pending?void 0:x,onContextMenu:B?function(t){B(t,{path:e.path,type:c.FileType.File})}:void 0,onKeyDown:e.pending?void 0:function(t){"Enter"===t.key&&b(e.path)},onClick:e.pending?void 0:function(e){e.currentTarget===e.target&&m(e)},children:[(0,u.jsxs)(H.View,{title:e.path,css:ee.rowContent,onClick:e.pending?void 0:m,children:[(0,u.jsx)(H.View,{css:ee.icon,children:(0,u.jsx)(X.default,{path:e.path})}),(0,u.jsx)(H.View,{css:ee.text,children:R}),G?(0,u.jsx)(Y,{text:G.text}):null,(0,u.jsx)(et,{path:e.path}),null]}),B?(0,u.jsx)(en,{onClick:function(t){B(t,{path:e.path,type:c.FileType.File})}}):null]})}),el=(0,s.memo)(function(e){var t=(0,v.useLayoutRow)(e.index);return(0,u.jsx)(H.View,{css:ee.divider,style:null==t?void 0:t.style,role:"treeitem",children:(0,u.jsx)(H.View,{css:ee.dividerInner,children:(0,u.jsx)(H.View,{css:ee.dividerText,children:e.label})})})}),eu=(0,s.memo)(function(e){var t=(0,v.useLayoutRow)(e.index);return(0,u.jsxs)(H.View,{css:ee.error,style:null==t?void 0:t.style,role:"treeitem",children:[(0,u.jsx)(b.default,{}),(0,u.jsx)(Q.Text,{multiline:!1,children:e.message})]})}),es=(0,s.memo)(function(e){var t=(0,v.useLayoutRow)(e.index);return(0,u.jsx)(H.View,{css:ee.emptyDir,style:null==t?void 0:t.style,role:"treeitem",children:(0,u.jsx)(H.View,{css:ee.emptyDirText,children:D.NO_FILES})})}),ec=(0,s.memo)(function(e){var t=(0,v.useLayoutRow)(e.index);return(0,u.jsx)(H.View,{css:ee.createRow,style:null==t?void 0:t.style,role:"treeitem",children:(0,u.jsx)(A.CreateFileNode,{dir:e.dir})})}),ef=(0,s.memo)(function(e){var t=(0,v.useLayoutRow)(e.index),r=(0,T.getFileName)(e.path);return(0,u.jsx)(H.View,{style:null==t?void 0:t.style,css:ee.createRow,role:"treeitem","aria-label":r,children:(0,u.jsx)(P.RenameFileNode,{path:e.path,fileType:e.fileType})})}),ed=(0,s.memo)(function(e){var t=(0,v.useLayoutRow)(e.index),r=(0,T.getFileName)(e.path);return(0,u.jsxs)(H.View,{style:null==t?void 0:t.style,css:ee.uploadRow,role:"treeitem","aria-label":r,children:[(0,u.jsx)(H.View,{css:ee.icon,children:(0,u.jsx)(X.default,{path:e.path})}),(0,u.jsx)(H.View,{css:ee.text,children:r}),(0,u.jsx)(R.ProgressCircle,{progress:e.progress})]})}),ep=(0,s.memo)(function(e){var t=(0,v.useItemNode)(e.index);return t?"error"===t.type?(0,u.jsx)(eu,{index:e.index,message:t.message}):"divider"===t.type?(0,u.jsx)(el,{index:e.index,label:t.label}):"emptyDir"===t.type?(0,u.jsx)(es,{index:e.index}):"create"===t.type?(0,u.jsx)(ec,{index:e.index,dir:t.dir}):"uploadFile"===t.type?(0,u.jsx)(ed,{index:e.index,path:t.path,progress:t.progress}):t.rename?(0,u.jsx)(ef,{index:e.index,path:t.path,fileType:"file"===t.type?c.FileType.File:c.FileType.Directory}):"file"===t.type?(0,u.jsx)(ea,{index:e.index,path:t.path,pending:!!t.pending}):(0,u.jsx)(eo,{index:e.index,path:t.path,pending:!!t.pending,uploadProgress:t.uploadProgress}):null}),eh=[V.styleTokens.horizontalPadding,V.styleTokens.rowLeftIndent,V.styleTokens.iconSize,V.styleTokens.iconTextGap].join(" + "),ev=(0,z.cssRecord)({root:[M.rcss.overflow("hidden"),M.rcss.height(0),{pointerEvents:"none"}],file:[{paddingLeft:"calc(".concat(eh,")"),paddingRight:V.styleTokens.horizontalPadding}]}),em=(0,s.memo)(function(){var e=(0,v.useWidestRows)();return e?(0,u.jsx)(H.View,{css:ev.root,children:e.map(function(e){var t=e.type,r=e.text,n=e.depth,i=(0,a._)({},V.cssVars.rowLeftIndent,"calc(".concat(n," * ").concat(V.styleTokens.gutterWidth,")")),o=t+n;return"divider"===t?(0,u.jsx)(H.View,{style:i,css:ee.dividerInner,children:(0,u.jsx)(Q.Text,{css:ee.dividerInner,multiline:!1,children:r.toUpperCase()})},o):(0,u.jsx)(H.View,{css:ev.file,style:i,children:"create"===t?(0,u.jsx)(A.CreateFilePicker,{create:function(){}}):(0,u.jsx)(H.View,{css:ee.text,children:r.toUpperCase()})},o)})}):null}),ey=e.i(541793),eg=e.i(193060),ew=e.i(240913),ex=e.i(98816),eS=e.i(222342),eb=e.i(274445),eT=e.i(525544),eA=e.i(453955),e_=(0,z.cssRecord)({content:[M.rcss.position.relative,{overflowY:"auto",height:"100%",minHeight:V.styleTokens.minHeight}],scroll:[{position:"relative",height:V.styleTokens.scrollHeight}],gutter:[M.rcss.position.absolute,M.rcss.top(0),M.rcss.left(0),M.rcss.reset.button,M.rcss.align.end,M.rcss.cursor.pointer,{width:V.styleTokens.gutterWidth,"& > div":[M.rcss.height("100%"),M.rcss.highRes({borderLeftWidth:.5}),{borderLeft:"1px solid",marginRight:"25%",opacity:0,borderLeftColor:"transparent",transitionProperty:"border-color",transitionDuration:"0",transitionDelay:"0"}],"&:hover > div":{borderColor:N.tokens.outlineDimmest,transitionDuration:"200ms",transitionDelay:"100ms",opacity:1}}]}),eD=(0,s.memo)(function(e){var t,r,n=(0,v.useRenderedRows)(),i=(0,v.useContentContainer)();(0,d.useStyleSet)(e.scrollRef,i.fontSize,function(e){var t;return t={},(0,a._)(t,V.cssVars.fontSize,e+"px"),(0,a._)(t,V.cssVars.dirStatusIconSize,e+"px"),t}),(0,d.useStyleSet)(e.scrollRef,i.fontSizeSmall,function(e){return(0,a._)({},V.cssVars.fontSizeSmall,e+"px")}),(0,d.useStyleSet)(e.scrollRef,i.iconSize,function(e){return(0,a._)({},V.cssVars.iconSize,e+"px")}),(0,d.useStyleSet)(e.scrollRef,i.iconTextGap,function(e){return(0,a._)({},V.cssVars.iconTextGap,e+"px")}),(0,d.useStyleSet)(e.scrollRef,i.horizontalPadding,function(e){return(0,a._)({},V.cssVars.horizontalPadding,e+"px")}),(0,d.useStyleSet)(e.scrollRef,i.borderRadius,function(e){return(0,a._)({},V.cssVars.borderRadius,e+"px")}),(0,d.useStyleSet)(e.scrollRef,i.scrollHeight,function(e){return(0,a._)({},V.cssVars.scrollHeight,e+"px")}),(0,d.useStyleSet)(e.scrollRef,i.gutterWidth,function(e){return(0,a._)({},V.cssVars.gutterWidth,e+"px")}),(0,d.useStyleSet)(e.scrollRef,i.minHeight,function(e){return(0,a._)({},V.cssVars.minHeight,e+"px")});var o=(0,v.useOnKeyDown)(),p=(0,h.useDropFile)(),m=p.dropRef,y=p.containerRef,g=(0,I.useSet)(F.clearNodeSelectionAtom),w=(0,I.useValue)(F.onContextMenuAtom),x=(0,I.useValue)(F.rootPathAtom);t=(0,I.useSet)(F.scrollToPathAtom),r=(0,I.useObservableValue)(F.selectedPathAnchorAtom),(0,s.useEffect)(function(){var e=function(){r.current&&t(r.current)};return e(),r.subscribe(e)},[r,t]);var S=(0,f.useMergeRefs)([e.scrollRef,m,y],{breadcrumb:"client/workspace/components/Filetree/index.tsx:163"});return(0,u.jsxs)(H.View,{css:e_.content,px:2,innerRef:S,translate:"no",onKeyDown:o,onContextMenu:w?function(e){e.target===e.currentTarget&&w(e,{type:c.FileType.Directory,path:x})}:void 0,onClick:function(e){e.target===e.currentTarget&&g()},children:[(0,u.jsx)(em,{}),(0,u.jsxs)(H.View,{css:e_.scroll,role:"tree",children:[(0,l._)(n.values()).map(function(e){var t=e.key,r=e.index;return(0,u.jsx)(ep,{index:r},t)}),(0,u.jsx)(eP,{}),(0,u.jsx)(h.DropPreview,{}),(0,u.jsx)(h.DragLayer,{})]})]})}),eR=(0,s.memo)(function(){var e=(0,v.useVirtualizeRows)().scrollRef;return(0,p.useConfirmDeleteNodes)(),(0,m.useLocalCache)(),(0,u.jsx)(eD,{scrollRef:e})}),eP=(0,s.memo)(function(){var e=(0,v.useGutters)(),t=(0,v.useCollapse)();return(0,u.jsx)(u.Fragment,{children:e.map(function(e){return(0,u.jsx)(H.View,{tag:"button",onClick:function(){return t(e.dir)},css:e_.gutter,style:{height:e.height,transform:"translate(calc(".concat(e.depth," * ").concat(V.styleTokens.gutterWidth,"), ").concat(e.y,"px)")},children:(0,u.jsx)(H.View,{})},"gutter"+e.dir+e.depth+e.y)})})});function eF(e){var t,r,n;return t=(0,eS.default)().showError,r=(0,w._)((0,s.useState)(function(){var r,n,i=(0,ey.createStore)();i.set(F.configAtom,e);var o=null!=(r=e.root)?r:ew.ROOT_PATH,a=e.localCacheKey?(0,m.getLocalCache)(e.localCacheKey):null;a&&i.set(F.initialOffsetAtom,a.scrollOffset);var l=null!=(n=null==a?void 0:a.dirInfo)?n:new Map;return l.has(o)||l.set(o,{expanded:!0}),i.set(F.dirInfoAtom,l),e.focusedPath&&i.set(F.focusedPathAtom,e.focusedPath),{store:i,create:function(e,t){if(t)return void i.set(F.startCreateFileAtom,{parentPath:t,fileType:e});var r=o,n=i.get(F.selectedNodeAnchorAtom);(null==n?void 0:n.type)===c.FileType.File?r=(0,T.getParentPath)(n.path)||ew.ROOT_PATH:(null==n?void 0:n.type)===c.FileType.Directory&&(r=n.path),i.set(F.startCreateFileAtom,{parentPath:r,fileType:e})},setPresenceState:function(e){i.set(F.presenceStateAtom,e)},setFileStatus:function(e){i.set(F.fileStatusAtom,e)},rename:function(e){i.set(F.renameAtom,e)},move:function(e){i.set(eT.moveFilesAtom,e)},upload:function(e){i.set(eA.uploadFilesAtom,(0,g._)((0,y._)({},e),{onError:t}))},onLoad:function(t){var r=e.fs.watchDir(o,{onChange:function(){t({error:null}),r()},onError:function(e){t({error:e}),r()}});return r},select:function(e){return null===e?i.set(F.clearNodeSelectionAtom):i.set(F.loadAndSelectNodeAtom,e)},scrollToPath:function(e){return i.set(F.scrollToPathAtom,e)},hasLocalCache:!!a,getChildren:function(e){var t,r;return null!=(r=null==(t=i.get(F.dirInfoAtom).get(e))?void 0:t.children)?r:null},getSelectedNode:function(){return i.get(F.selectedNodeAnchorAtom)},getSelectedNodes:function(){return i.get(F.selectedNodesAtom)},deleteNodes:function(e){i.set(p.requestDeleteNodesAtom,e)},collapse:function(e){return i.set(F.collapseAtom,e)},getExpandedDirs:function(e){return(0,eb.getExpandedDirs)(i.get(F.dirInfoAtom),e)},expandParentDirsToPath:function(e){var t=(0,eg.splitFsPaths)(e).slice(0,-1),r=!0,n=!1,o=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var u=a.value;i.set(F.expandAtom,u)}}catch(e){n=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(n)throw o}}}}}),1)[0],(0,s.useEffect)(function(){r.store.set(F.configAtom,e)},[r.store,e]),(0,s.useEffect)(function(){var e=!0,t=!1,n=void 0;try{for(var i,o=r.store.get(F.dirInfoAtom)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=(0,w._)(i.value,2),l=a[0];a[1].expanded&&r.store.set(F.expandAtom,l)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}return function(){var e=!0,t=!1,n=void 0;try{for(var i,o=r.store.get(F.dirInfoAtom)[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a,l=(0,w._)(i.value,2),u=(l[0],l[1]);null==(a=u.disposeWatcher)||a.call(u)}}catch(e){t=!0,n=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}}},[r.store]),n=(0,ex.default)(e.onLoad),(0,s.useEffect)(function(){return r.onLoad(function(e){var t;return null==(t=n.current)?void 0:t.call(n,e)})},[r,n]),r}function eC(e){return(0,u.jsx)(I.StoreProvider,{store:e.store,children:(0,u.jsx)(eR,{})})}e.s(["Filetree",()=>eC,"useFiletree",()=>eF],160290)},144619,e=>{"use strict";var t=e.i(721281),r=e.i(167626),n=e.i(530658),i=e.i(276385),o=e.i(389959),a=e.i(927600),l=e.i(205104),u=e.i(240913),s=e.i(903381),c=e.i(672963),f=e.i(529810),d=e.i(160290),p=e.i(518093),h=e.i(1736),v=e.i(967629),m=e.i(480028),y=e.i(446530),g=e.i(754873),w=e.i(123850),x=e.i(173703),S=e.i(613355),b=e.i(630818),T=e.i(399144),A=e.i(625484);function _(e){var t=e.node;return t.type===s.FileType.Directory?(0,i.jsx)(p.FolderIconComponent,{path:t.path,size:12}):(0,i.jsx)(b.default,{size:12,path:t.path})}var D=(0,w.createCssVarTokens)(["menuY","menuX"]),R=D.cssVars,P=D.styleTokens,F=(0,y.cssRecord)({root:[S.rcss.maxHeight(400),S.rcss.position.absolute,S.rcss.shadow(1),{border:"1px solid",borderColor:m.tokens.outlineDefault,top:P.menuY,left:P.menuX,"& > div":[S.rcss.maxHeight(400)]}]}),C=(0,v.css)([g.interactive.nofill,{transitionProperty:"background-color, box-shadow, opacity",opacity:.8,":focus":{zIndex:1,opacity:1}}]),O={button:(0,v.css)([S.rcss.reset.button,S.rcss.p(2),S.rcss.rowWithGap(4),S.rcss.align.center,C]),text:(0,v.css)({fontSize:m.tokens.fontSizeSmall})},k={opacity:1};function E(e){var a,s=e.node,f=e.openFile,d=e.expandable,p=void 0===d||d,h=(0,n._)((0,o.useState)(!1),2),v=h[0],m=h[1],y=(0,o.useRef)(null),g=(0,c.default)(function(e){var t;!v||(0,r._)(e.target,HTMLElement)&&(null==(t=y.current)?void 0:t.contains(e.target))||m(!1)},[v]),w=(0,o.useId)(),S=(0,o.useId)(),b=(0,l.getParentPath)(s.path)||u.ROOT_PATH,D=(0,l.getFileName)(s.path);function P(){var e,t=null==(e=y.current)?void 0:e.getBoundingClientRect();t&&p&&m({x:t.x+"px",y:t.y+t.height+4+"px"})}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(A.View,{innerRef:y,tag:"button",id:w,style:v?k:void 0,"aria-haspopup":"true","aria-expanded":!!v,"aria-controls":S,css:O.button,onClick:function(){p&&(v?m(!1):P())},onKeyDown:function(e){switch(e.key){case" ":case"Enter":case"ArrowDown":if(!p)return;P()}},children:[(0,i.jsx)(_,{node:s}),(0,i.jsx)(A.View,{css:O.text,children:D})]}),v&&p?(0,i.jsx)(T.Portal,{children:(0,i.jsx)(x.ShadesSurface,{id:S,css:F.root,innerRef:g,style:(a={},(0,t._)(a,R.menuX,v.x),(0,t._)(a,R.menuY,v.y),a),onKeyDown:function(e){if("Escape"===e.key){var t;m(!1),null==(t=y.current)||t.focus()}},colorShade:"popup",br:"container",children:(0,i.jsx)(j,{openFile:f,parentPath:b,currentPath:s.path,readOnly:e.readOnly})})}):null]})}function j(e){var t=(0,f.default)().fs,r=(0,h.useShouldHideFileInWorkspace)(!0),n=(0,o.useCallback)(function(e){return!r(e.filename)},[r]),a=(0,d.useFiletree)({fs:t,filter:n,focusedPath:e.currentPath,fontSize:13,root:e.parentPath,manageWidth:!0,onFileSelect:function(t){var r=t.path;e.openFile(r)},alwaysShowCreateRow:!0,readOnly:e.readOnly});return(0,i.jsx)(d.Filetree,{store:a.store})}var I=(0,v.css)([S.rcss.flex.row,S.rcss.align.center,S.rcss.height("100%"),S.rcss.px(2)]),V=(0,o.memo)(function(e){var t,r,n=e.path,l=e.onFileClick,u=e.expandable,c=void 0===u||u,f=e.readOnly,d=e.children,p=(r=(t=n.split("/")).length,t.map(function(e,n){return{type:n===r-1?s.FileType.File:s.FileType.Directory,path:t.slice(0,n+1).join("/")}}));return(0,i.jsxs)(A.View,{css:I,children:[p.map(function(e){return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(E,{node:e,openFile:l,expandable:c,readOnly:f}),e.type===s.FileType.Directory?(0,i.jsx)(a.default,{size:12}):null]},CSS.escape(e.path))}),d||null]})});e.s(["FileBreadcrumbs",()=>V])},603237,e=>{"use strict";var t,r=e.i(205104),n=((t={}).Media="Media",t.Binary="Binary",t.Code="Code",t.Markdown="Markdown",t.Draw="Draw",t);function i(e){return(0,r.isMarkdownFile)(e)?"Markdown":(0,r.isDrawFile)(e)?"Draw":(0,r.isMedia)(e)?"Media":(0,r.isBinary)(e)?"Binary":"Code"}e.s(["FileViewerType",()=>n,"getFileViewerType",()=>i])}]);

//# debugId=4fb83fd7-3d1f-e798-3760-6081b971175f
//# sourceMappingURL=6ede0fda4f3ca4ae.js.map